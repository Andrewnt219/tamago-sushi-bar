{"version":3,"sources":["components/ui/LoadingScreen/Spinner/Spinner.tsx","components/navigation/StyledLink.tsx","components/ui/LoadingScreen/LoadingScreen.tsx","features/orderSlice.ts","asset/logo.svg","asset/textLogo.svg","theme/lightTheme.ts","theme/GlobalStyle.ts","components/navigation/StyledNavLink.tsx","components/navigation/desktop/DesktopNavigationItem.tsx","components/navigation/desktop/DesktopNavigationItems.tsx","components/ui/BaseLogo.tsx","components/navigation/desktop/AppBar.tsx","context/CssContext.ts","components/navigation/mobile/MobileNavigationItem.tsx","components/navigation/mobile/MobileNavigationItems.tsx","components/navigation/mobile/PopupMenu.tsx","components/navigation/mobile/Hamburger.tsx","components/navigation/footer/SocialMediaIcon.tsx","components/navigation/footer/SocialMediaIcons.tsx","components/navigation/footer/Footer.tsx","hoc/Layout.tsx","pages/about/About.tsx","pages/userDashboard/components/Order.tsx","pages/userDashboard/components/Orders.tsx","pages/userDashboard/components/UserProfile.tsx","pages/userDashboard/UserDashboard.tsx","components/ui/form/ControllerInput.tsx","components/ui/form/ControllerInputsGroup.tsx","pages/reservation/components/ReservationUIComponents.tsx","pages/reservation/components/ReservationForm1.tsx","pages/reservation/components/ReservationForm2.tsx","pages/reservation/Reservation.tsx","hook/useFormState.ts","pages/empty/Empty.tsx","pages/orderDetail/components/ItemDetail.tsx","pages/orderDetail/components/ItemDetailsHeader.tsx","pages/orderDetail/components/ItemDetailsFooter.tsx","pages/orderDetail/OrderDetail.tsx","components/navigation/ProtectedRoute.tsx","pages/login/Login.tsx","pages/register/Register.tsx","App.tsx","features/counter/counterSlice.ts","app/store.ts","index.tsx","apis/firebase.ts","helpers/helpers.ts","helpers/cartHelpers.ts","features/userSlice.ts","components/ui/form/TextField.tsx","helpers/redux-helpers.ts","features/cartSlice.ts","components/ui/BaseButton.tsx","components/ui/form/BaseForm.tsx","hook/useToggle.ts","hook/useFormStep.ts","features/loadingSlice.ts","components/ui/form/ErrorText.tsx"],"names":["skChase","keyframes","Container","styled","div","p","size","skChaseDot","skyChaseDotBefore","Dot","color","theme","primary","Spinner","className","numberOfDots","dots","index","push","key","createDots","Link","forwardRef","ref","children","props","StyledLink","subtleBackground","SpinnerContainer","Text","h2","LoadingScreen","useTheme","useEffect","html","document","querySelector","style","overflow","orderSlice","createSlice","name","initialState","error","isLoading","orders","reducers","generateOrderRequest","state","generateOrderSuccess","generateOrderFailure","payload","orderSelector","actions","generateOrder","dispatch","getState","postNewOrder","a","cart","newOrder","_","omit","firebaseApi","post","id","clearCart","cartId","Error","asyncDispatchWrapper","module","exports","lightTheme","yellow","brown","pink","darkBlue","lightBlue","h1","text","bg1","bg2","black","grey","white","formTheme","strongBackground","blackBackground","zIndex","top","hg","md","lw","breakpoints","xl","lg","sm","xs","xxs","shadow","button","paragraph","section","transitionSpeed","quick","subtle","slow","GlobalStyle","createGlobalStyle","StyledNavLink","activeClassName","DesktopNavigationItem","StyledLi","li","DesktopNavigationItems","StyledNavigationItems","to","exact","ul","BaseLogo","img","attrs","src","withText","TextLogo","LogoImg","AppBar","height","useInView","isInView","matchLandingPage","useRouteMatch","path","StaticAppBar","isOnLandingPage","Boolean","FixedAppBar","nav","css","CssContext","React","createContext","appbarHeight","MobileNavigationItem","Icon","IconWrapper","fill","span","MobileNavigationItems","StyledMobileNavigationItems","MdHome","MdRestaurantMenu","MdBook","MdShoppingCart","MdDashboard","PopupMenu","Hamburger","useToggle","menuIsOpen","toggleMenu","HamburgerIcon","contained","onClick","Line","active","BaseButton","SocialMedia","fillColor","href","defaultTheme","Filter","SocialMediaIcons","Footer","Logo","footer","Layout","Provider","value","Main","main","About","rgba","LogoWrapper","Details","Date","h3","PurchaseType","PurchaseTypeText","Price","PriceText","Order","type","date","price","orderId","toFixed","Orders","UserProfile","PrimaryInfo","Avatar","Heading","SubHeading","SubInfo","Info","Value","Field","ValueUnit","h4","Header","UserDashboard","useDispatch","logout","initCart","ControllerInput","onChange","label","register","htmlRadioAttrs","Input","hidden","Label","htmlFor","InputButton","input","ControllerInputsGroup","controllers","handleChange","defaultCheckedValue","errors","GroupName","Controllers","map","controllerProps","defaultChecked","ErrorText","BaseReservationForm","BaseForm","SubmitButton","ReservationForm1","onSubmit","formValues","isSubmittable","radios","noValidate","TextField","required","preferredName","email","pattern","message","prefix","disabled","outlined","maxFutureDate","add","days","minDate","overwritten","DatePicker","KeyboardDatePicker","TimePicker","KeyboardTimePicker","ReservationForm2","handleDateChange","inputName","inputData","currentTarget","toString","utils","DateFnsUtils","autoOk","disableToolbar","variant","format","margin","inputRef","maxDate","maxDateMessage","minDateMessage","KeyboardButtonProps","minutesStep","ampm","keyboardIcon","time","guests","FormContainer","FormHeader","FormBody","FormSelectButtons","FormSelectButton","Image","Reservation","form","useFormStep","currentStep","nextStep","jumpToStep","useState","completedStep","setCompletedStep","useForm","mode","validateCriteriaMode","handleSubmit","formState","triggerValidation","setFormState","e","prev","useFormState","toDateString","roundToNearestMinutes","nearestTo","onSubmitStep1","__","onSubmitStep2","isValid","Empty","ItemDetail","quantity","ItemInfo","ItemName","ItemPrice","Quantity","ItemTotalPrice","ItemDetailsHeader","ItemDetailsFooter","Fragment","Sub","Primary","OrderDetail","SubHeader","ItemDetails","ProtectedRoute","routeProps","isAuthenticated","useSelector","userSelector","render","location","pathname","from","Login","useLocation","history","useHistory","formData","authUser","Register","defaultValues","getValues","data","registerUser","validate","password","Menu","lazy","Landing","Cart","App","cartSelector","userEmail","localStorage","getItem","initUser","syncCart","component","Suspense","fallback","counterSlice","increment","decrement","incrementByAmount","action","store","configureStore","reducer","counter","counterReducer","loading","loadingReducer","cartReducer","user","userReducer","orderReducer","ReactDOM","StrictMode","basename","getElementById","axios","create","baseURL","keyObjectToObjectWithKey","object","Object","entries","calculateCartOnSuccess","cartState","items","subtotal","values","reduce","sum","item","shipping","total","tip","getCartItemIdByKey","findKey","obj","getCartItemById","itemId","cartItemsToCartItemsState","cartItems","transform","cartItemsState","address","joinDate","phone","totalTip","userSlice","initUserRequest","initUserSuccess","initUserFailed","authRequest","authSuccess","setItem","authFailure","clear","registerRequest","registerSuccess","registerFailure","getUserByEmail","get","params","orderBy","equalTo","isEmpty","bodyRequest","displayName","returnSecureToken","process","newUser","response","htmlInputProps","hasError","InputWrapper","placeholder","BottomBar","marginTop","borderBottom","callback","actionFailure","console","log","cartSlice","createCartRequest","createCartSuccess","createCartFailure","fetchCartRequest","fetchCartSuccess","fetchCartFailure","syncCartRequest","syncCartSuccess","merge","syncCartFailure","clearCartRequest","clearCartSuccess","clearCartFailure","updateCartRequest","updateCartSuccess","updateCartFailure","addItemRequest","addItemSucces","addItemFailure","removeItemRequest","requestingItem","removeItemSucces","removeItemFailure","errorMessage","updateItemQuantityRequest","updatingItem","updateItemQuantitySuccess","isIncrementAmount","amount","updateItemQuantityFailure","itemIsLoadingSelector","checkIfLoading","getWithId","getWithEmail","postNewCart","patchObject","patch","removeItem","localCartId","stateCartId","databaseCart","delete","increaseItemQuantity","newQuantity","addItemToCart","postNewItemToCart","cartItemId","removeItemFromCart","updateCart","patchCart","deleteCart","fontSize","shadowed","isOpen","setIsOpen","numberOfSteps","setCurrentStep","useCallback","prevStep","step","loadingSlice","isLoadings","actionStart","actionName","actionState","messages"],"mappings":"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","file":"static/js/main.e38a36c9.chunk.js","sourcesContent":["import React, { ReactElement } from 'react';\r\nimport styled, { keyframes } from 'styled-components/macro';\r\n\r\ninterface SpinnerProps {\r\n  readonly size?: string;\r\n  readonly color?: string;\r\n  readonly className?: string;\r\n}\r\n\r\ninterface ContainerProps {\r\n  size?: string;\r\n}\r\n\r\ninterface DotProps {\r\n  color?: string;\r\n}\r\n\r\n/**\r\n * @param size width and height of the spinner\r\n * @param color the color of the spinner dot\r\n * @return a Spinner\r\n */\r\nfunction Spinner({ size, color, className }: SpinnerProps): ReactElement {\r\n  return (\r\n    <Container className={className} size={size}>\r\n      {createDots(6, color)}\r\n    </Container>\r\n  );\r\n}\r\n\r\n/**\r\n * @param numberOfDots the total number of generated Dots\r\n * @param color the color of all the Dot\r\n * @returns an array of Dot\r\n */\r\nfunction createDots(numberOfDots: number, color?: string): ReactElement[] {\r\n  let dots: ReactElement[] = [];\r\n\r\n  for (let index = 0; index < numberOfDots; index++) {\r\n    dots.push(<Dot key={index} color={color} />);\r\n  }\r\n\r\n  return dots;\r\n}\r\n\r\nconst skChase = keyframes`\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst Container = styled.div<ContainerProps>`\r\n  width: ${(p) => p.size ?? '40px'};\r\n  height: ${(p) => p.size ?? '40px'};\r\n  position: relative;\r\n  animation: ${skChase} 2.5s infinite linear both;\r\n\r\n  div {\r\n    &:nth-child(1) {\r\n      animation-delay: -1.1s;\r\n    }\r\n    &:nth-child(2) {\r\n      animation-delay: -1s;\r\n    }\r\n    &:nth-child(3) {\r\n      animation-delay: -0.9s;\r\n    }\r\n    &:nth-child(4) {\r\n      animation-delay: -0.8s;\r\n    }\r\n    &:nth-child(5) {\r\n      animation-delay: -0.7s;\r\n    }\r\n    &:nth-child(6) {\r\n      animation-delay: -0.6s;\r\n    }\r\n    &:nth-child(1):before {\r\n      animation-delay: -1.1s;\r\n    }\r\n    &:nth-child(2):before {\r\n      animation-delay: -1s;\r\n    }\r\n    &:nth-child(3):before {\r\n      animation-delay: -0.9s;\r\n    }\r\n    &:nth-child(4):before {\r\n      animation-delay: -0.8s;\r\n    }\r\n    &:nth-child(5):before {\r\n      animation-delay: -0.7s;\r\n    }\r\n    &:nth-child(6):before {\r\n      animation-delay: -0.6s;\r\n    }\r\n  }\r\n`;\r\n\r\nconst skChaseDot = keyframes`\r\n  80%,\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst skyChaseDotBefore = keyframes`\r\n  50% {\r\n    transform: scale(0.4);\r\n  }\r\n  100%,\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nconst Dot = styled.div<DotProps>`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  animation: ${skChaseDot} 2s infinite ease-in-out both;\r\n\r\n  &::before {\r\n    content: '';\r\n    display: block;\r\n    width: 25%;\r\n    height: 25%;\r\n    background-color: ${(p) => p.color ?? p.theme.primary};\r\n    border-radius: 100%;\r\n    animation: ${skyChaseDotBefore} 2s infinite ease-in-out both;\r\n  }\r\n`;\r\n\r\nexport default Spinner;\r\n","import React, { forwardRef } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Link as RRLink, LinkProps } from 'react-router-dom';\r\n\r\ntype LinkRef = HTMLAnchorElement;\r\n\r\nconst Link = forwardRef<LinkRef, LinkProps>(({ children, ...props }, ref) => {\r\n  return (\r\n    <RRLink ref={ref} {...props}>\r\n      {children}\r\n    </RRLink>\r\n  );\r\n});\r\n\r\n/**\r\n * @param children the text of NavLink\r\n * @param props props of NavLink from React Router\r\n * @param ref HTMLAnchorElement\r\n */\r\nexport const StyledLink = styled(Link)`\r\n  &:link,\r\n  &:visited {\r\n    color: currentColor;\r\n  }\r\n`;\r\n","import React, { useEffect } from 'react';\r\nimport styled, { useTheme } from 'styled-components/macro';\r\nimport Spinner from './Spinner/Spinner';\r\n\r\ninterface LoadingScreenProps {}\r\n\r\nconst Container = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: ${(p) => p.theme.subtleBackground};\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n`;\r\n\r\nconst SpinnerContainer = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  & > :not(:first-child) {\r\n    margin-top: 10vh;\r\n  }\r\n`;\r\n\r\nconst Text = styled.h2`\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const LoadingScreen: React.FC<LoadingScreenProps> = () => {\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    const html = document.querySelector('html')!;\r\n    html.style.overflow = 'hidden';\r\n\r\n    return () => {\r\n      html.style.overflow = 'auto';\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <SpinnerContainer>\r\n        <Spinner size=\"10rem\" color={theme.primary} />\r\n        <Text>Catching fish</Text>\r\n      </SpinnerContainer>\r\n    </Container>\r\n  );\r\n};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { OrderState, Order } from './sliceTypes';\r\nimport { AppThunk, RootState } from '../app/store';\r\nimport { firebaseApi } from '../apis/firebase';\r\nimport _ from 'lodash';\r\nimport { asyncDispatchWrapper } from '../helpers';\r\nimport { clearCart } from './cartSlice';\r\nimport { CheckoutFormValues } from '../pages/cart/components/Checkout';\r\n\r\nconst initialState: OrderState = {\r\n  error: null,\r\n  isLoading: false,\r\n  orders: {},\r\n};\r\nconst orderSlice = createSlice({\r\n  name: 'order',\r\n  initialState,\r\n  reducers: {\r\n    generateOrderRequest: (state) => {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    generateOrderSuccess: (state) => {\r\n      state.isLoading = false;\r\n    },\r\n    generateOrderFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default orderSlice.reducer;\r\nexport const orderSelector = (state: RootState) => state.orders;\r\nconst {\r\n  generateOrderFailure,\r\n  generateOrderRequest,\r\n  generateOrderSuccess,\r\n} = orderSlice.actions;\r\n\r\nexport const generateOrder = (payload: CheckoutFormValues): AppThunk => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  asyncDispatchWrapper(postNewOrder, dispatch, generateOrderFailure);\r\n\r\n  async function postNewOrder() {\r\n    dispatch(generateOrderRequest());\r\n    const cart = getState().cart;\r\n    const newOrder: Order = {\r\n      ..._.omit(cart, 'isLoading', 'error', 'id'),\r\n      ...payload,\r\n    };\r\n\r\n    await firebaseApi.post('/orders.json', newOrder);\r\n\r\n    dispatch(generateOrderSuccess());\r\n    if (cart.id) {\r\n      dispatch(clearCart({ cartId: cart.id }));\r\n    } else {\r\n      throw new Error('Cart Id not found!');\r\n    }\r\n  }\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.45e095b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/textLogo.c755c9aa.svg\";","import { DefaultTheme } from 'styled-components';\r\n\r\nexport const lightTheme: DefaultTheme = {\r\n  primary: '#E23638',\r\n  yellow: '#E3E04D',\r\n  brown: '#961517',\r\n  pink: '#FA2F98',\r\n  darkBlue: '#1D6896',\r\n  lightBlue: '#2099E3',\r\n  h1: '#FA4C2F',\r\n  h2: '#FA4C2F',\r\n  text: '#fff',\r\n  bg1: '#eee',\r\n  bg2: '#ccc',\r\n  black: '#000',\r\n  grey: '#aaa',\r\n  white: '#fff',\r\n  error: '#f44336',\r\n  formTheme: '#B04419',\r\n  subtleBackground: '#f7f7f7',\r\n  strongBackground: '#f4f4f4',\r\n  blackBackground: '#1b1f28',\r\n\r\n  zIndex: {\r\n    top: 100,\r\n    hg: 80,\r\n    md: 50,\r\n    lw: 1,\r\n  },\r\n\r\n  breakpoints: {\r\n    xl: '120em',\r\n    lg: '80em',\r\n    md: '60em',\r\n    sm: '37.5em',\r\n    xs: '30em',\r\n    xxs: '20em',\r\n  },\r\n\r\n  shadow: {\r\n    button: '0 2px 4px rgba(0,0,0, .5)',\r\n    paragraph: '0 1.5rem 4rem rgba(0,0,0, .5)',\r\n    section: '0 20px 40px rgba(0,0,0, .5)',\r\n  },\r\n\r\n  transitionSpeed: {\r\n    quick: '200ms',\r\n    subtle: '350ms',\r\n    slow: '500ms',\r\n  },\r\n};\r\n","import { createGlobalStyle } from 'styled-components/macro';\r\n// import { normalize } from 'styled-normalize';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n\r\n  \r\n  :root {\r\n    font-size: 62.5%;\r\n    font-family: 'Montserrat', sans-serif;\r\n    box-sizing: border-box;\r\n    overflow-x:hidden;\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n      font-size: 75%; /* 16px => 12px */\r\n    }\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n      font-size: 81.25%; /* 16px => 13px */\r\n    }\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.lg}) {\r\n      font-size: 87.5%; /* 16px => 14px */\r\n    }\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.xl}) {\r\n      font-size: 93.75%; /* 16px => 15px */\r\n    }\r\n\r\n\r\n  }\r\n\r\n  h1,h2,h3,h4,h5,h6 {\r\n    font-family: 'Quicksand', sans-serif;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 3.2rem;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 2.4rem;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  p {\r\n    font-size: 1.6rem;\r\n    line-height: 1.6;\r\n  }\r\n\r\n\r\n  *, *::before, *::after {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: inherit;\r\n    text-decoration: none;\r\n    list-style: none;\r\n\r\n    font-family: inherit;\r\n  }\r\n\r\n  input {\r\n    font-size: inherit;\r\n    font-family: inherit;\r\n  }\r\n\r\n  #root {\r\n    min-height: 100vh;\r\n    position: relative;\r\n  }\r\n\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { NavLink as RRNavLink, NavLinkProps } from 'react-router-dom';\r\n\r\nconst NavLink: React.FC<NavLinkProps> = ({ children, ...props }) => {\r\n  return (\r\n    <RRNavLink activeClassName=\"active\" {...props}>\r\n      {children}\r\n    </RRNavLink>\r\n  );\r\n};\r\n\r\n/**\r\n * @param children the text of NavLink\r\n * @param props props of NavLink from React Router\r\n */\r\nexport const StyledNavLink = styled(NavLink)`\r\n  transition: all ${(p) => p.theme.transitionSpeed.quick};\r\n\r\n  /* &.active {\r\n  } */\r\n\r\n  &:visited,\r\n  &:link {\r\n    color: inherit;\r\n  }\r\n`;\r\n","import styled from 'styled-components/macro';\r\nimport React from 'react';\r\nimport { StyledNavLink } from '../StyledNavLink';\r\nimport { NavLinkProps as RRNavLinkProps } from 'react-router-dom';\r\n\r\nexport interface DesktopNavigationItemProps extends RRNavLinkProps {}\r\n\r\nexport const DesktopNavigationItem: React.FC<DesktopNavigationItemProps> = ({\r\n  children,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <StyledLi>\r\n      <StyledNavLink {...props}>{children}</StyledNavLink>\r\n    </StyledLi>\r\n  );\r\n};\r\n\r\ninterface StyledLiProps {}\r\nconst StyledLi = styled.li<StyledLiProps>`\r\n  display: flex;\r\n  align-items: flex-end;\r\n\r\n  height: 100%;\r\n  padding: 0 1rem 1rem 1rem;\r\n  color: inherit;\r\n  font-weight: 300;\r\n  font-size: 2rem;\r\n  border-bottom: 0.1rem solid transparent;\r\n\r\n  transition: all ${(p) => p.theme.transitionSpeed.subtle} ease;\r\n\r\n  :hover {\r\n    border-bottom: 0.1rem solid ${(p) => p.theme.primary};\r\n  }\r\n\r\n  .active {\r\n    color: ${(p) => p.theme.primary};\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { DesktopNavigationItem } from './DesktopNavigationItem';\r\n\r\ninterface DesktopNavigationItemsProps {}\r\nexport const DesktopNavigationItems: React.FC<DesktopNavigationItemsProps> = () => {\r\n  return (\r\n    <StyledNavigationItems>\r\n      <DesktopNavigationItem to=\"/\" exact>\r\n        Home\r\n      </DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/menu\">Menu</DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/reservation\">\r\n        Reservation\r\n      </DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/cart\">Cart</DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/me\">Dashboard</DesktopNavigationItem>\r\n    </StyledNavigationItems>\r\n  );\r\n};\r\n\r\ninterface StyledNavigationItemsProps {}\r\nconst StyledNavigationItems = styled.ul<StyledNavigationItemsProps>`\r\n  position: relative;\r\n\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n\r\n  width: 60%;\r\n  height: 100%;\r\n`;\r\n","import styled from 'styled-components/macro';\r\nimport LogoImg from '../../asset/logo.svg';\r\nimport TextLogo from '../../asset/textLogo.svg';\r\n\r\n// interface LogoStyledProps {}\r\n\r\n// interface LogoProps {\r\n//   className?: string;\r\n//   showName?: boolean;\r\n// }\r\n\r\n// /**\r\n//  * @return a LogoIcon with brand name - Tamago\r\n//  */\r\n// export const BaseLogo: React.FC<LogoProps> = ({ className, showName }) => {\r\n//   return (\r\n//     <Container className={className}>\r\n//       <LogoIcon />\r\n//       {showName && <BrandName>tamago</BrandName>}\r\n//     </Container>\r\n//   );\r\n// };\r\n\r\ntype BaseLogoProps = {\r\n  withText?: boolean;\r\n};\r\nexport const BaseLogo = styled.img.attrs((p: BaseLogoProps) => ({\r\n  src: p.withText ? TextLogo : LogoImg,\r\n}))<BaseLogoProps>`\r\n  max-height: 100%;\r\n`;\r\n\r\n// const Container = styled.div`\r\n//   height: 100%;\r\n\r\n//   display: inline-block;\r\n\r\n//   display: flex;\r\n//   flex-direction: column;\r\n//   align-items: center;\r\n// `;\r\n\r\n// const BrandName = styled.p`\r\n//   font-weight: 500;\r\n//   text-align: center;\r\n//   color: ${(p) => p.theme.primary};\r\n// `;\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components/macro';\r\nimport { DesktopNavigationItems } from './DesktopNavigationItems';\r\nimport { useInView } from 'react-intersection-observer';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { BaseLogo } from '../../ui/BaseLogo';\r\n\r\ninterface AppBarProps {\r\n  height?: string;\r\n}\r\n\r\nexport const AppBar: React.FC<AppBarProps> = ({ height }) => {\r\n  const [ref, isInView] = useInView();\r\n  let matchLandingPage = useRouteMatch({\r\n    path: '/',\r\n    exact: true,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <StaticAppBar\r\n        height={height}\r\n        id=\"AppBar\"\r\n        ref={ref}\r\n        isOnLandingPage={Boolean(matchLandingPage)}\r\n      >\r\n        <BaseLogo />\r\n        <DesktopNavigationItems />\r\n      </StaticAppBar>\r\n\r\n      {!isInView && (\r\n        <FixedAppBar>\r\n          <DesktopNavigationItems />\r\n        </FixedAppBar>\r\n      )}\r\n    </>\r\n  );\r\n};\r\ninterface StaticAppBarProps {\r\n  height?: string;\r\n  isOnLandingPage?: boolean;\r\n}\r\n\r\nconst StaticAppBar = styled.nav<StaticAppBarProps>`\r\n  display: none;\r\n\r\n  /* Intentionally move these outside of media for style inheritance */\r\n  padding: 1rem 5vw;\r\n\r\n  width: 100%;\r\n  \r\n  height: ${(p) => p.height};\r\n\r\n  color: ${(p) => p.theme.black};\r\n\r\n  ${(p) =>\r\n    p.isOnLandingPage &&\r\n    css`\r\n      color: ${p.theme.white};\r\n\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n    `}\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nconst FixedAppBar = styled(StaticAppBar)`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  background: ${(p) => p.theme.subtleBackground};\r\n  box-shadow: ${(p) => p.theme.shadow.button};\r\n  z-index: ${(p) => p.theme.zIndex.top};\r\n\r\n  color: ${(p) => p.theme.black};\r\n  height: 5rem;\r\n\r\n  ul {\r\n    width: 100%;\r\n\r\n    li {\r\n      padding-top: initial;\r\n      padding-bottom: initial;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nexport const CssContext = React.createContext({\r\n  appbarHeight: '',\r\n});\r\n","import styled, { useTheme } from 'styled-components/macro';\r\nimport React from 'react';\r\n\r\nimport { NavLinkProps as RRNavLinkProps } from 'react-router-dom';\r\nimport { IconType } from 'react-icons';\r\nimport { StyledNavLink } from '../StyledNavLink';\r\n\r\nexport interface MobileNavigationItemProps extends RRNavLinkProps {\r\n  Icon: IconType;\r\n}\r\n\r\nexport const MobileNavigationItem: React.FC<MobileNavigationItemProps> = ({\r\n  Icon,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const theme = useTheme();\r\n  return (\r\n    <Container>\r\n      <IconWrapper>\r\n        <Icon fill={theme.primary} />\r\n      </IconWrapper>\r\n      <StyledNavLink {...props}>{children}</StyledNavLink>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.li`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 1.6rem;\r\n`;\r\n\r\nconst IconWrapper = styled.span`\r\n  margin-right: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  svg {\r\n    background-size: 1.6rem;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { MobileNavigationItem } from './MobileNavigationItem';\r\nimport {\r\n  MdHome,\r\n  MdRestaurantMenu,\r\n  MdBook,\r\n  MdDashboard,\r\n  MdShoppingCart,\r\n} from 'react-icons/md';\r\n\r\ninterface MobileNavigationItemsProps {}\r\nexport const MobileNavigationItems: React.FC<MobileNavigationItemsProps> = () => {\r\n  return (\r\n    <StyledMobileNavigationItems>\r\n      <MobileNavigationItem to=\"/\" exact Icon={MdHome}>\r\n        Home\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/menu\" Icon={MdRestaurantMenu}>\r\n        Menu\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/reservation\" Icon={MdBook}>\r\n        Reservation\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/cart\" Icon={MdShoppingCart}>\r\n        Cart\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/me\" Icon={MdDashboard}>\r\n        Dashboard\r\n      </MobileNavigationItem>\r\n    </StyledMobileNavigationItems>\r\n  );\r\n};\r\n\r\ninterface StyledMobileNavigationItemsProps {}\r\nconst StyledMobileNavigationItems = styled.ul<StyledMobileNavigationItemsProps>`\r\n  display: grid;\r\n  /* grid-template-columns: repeat(2, 1fr); */\r\n  justify-items: flex-start;\r\n  gap: 1rem;\r\n\r\n  width: 100%;\r\n  padding: 1rem 1.5rem;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { MobileNavigationItems } from './MobileNavigationItems';\r\n\r\ninterface PopupMenuProps {}\r\nexport const PopupMenu: React.FC<PopupMenuProps> = () => {\r\n  return (\r\n    <Container>\r\n      <MobileNavigationItems />\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.nav<ContainerProps>`\r\n  position: absolute;\r\n  bottom: 8rem;\r\n  right: 0;\r\n  display: block;\r\n\r\n  background-color: #fff;\r\n`;\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components/macro';\r\nimport { PopupMenu } from './PopupMenu';\r\nimport { useToggle } from '../../../hook';\r\nimport { BaseButton } from '../../ui/BaseButton';\r\n\r\ninterface HamburgerProps {}\r\nexport const Hamburger: React.FC<HamburgerProps> = () => {\r\n  const [menuIsOpen, toggleMenu] = useToggle();\r\n\r\n  return (\r\n    <Container>\r\n      {menuIsOpen && <PopupMenu />}\r\n      <HamburgerIcon contained onClick={toggleMenu}>\r\n        <Line active={menuIsOpen} />\r\n      </HamburgerIcon>\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  position: fixed;\r\n  bottom: 1rem;\r\n  right: 1.5rem;\r\n  z-index: ${(p) => p.theme.zIndex.hg};\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\ninterface HamburgerIconProps {}\r\nconst HamburgerIcon = styled(BaseButton)<HamburgerIconProps>`\r\n  width: 6rem;\r\n  height: 6rem;\r\n  border-radius: 50%;\r\n  padding: 0;\r\n  /* box-shadow: 0 2px 5px #000; */\r\n  /* border: 0; */\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\ninterface LineProps {\r\n  active: boolean;\r\n}\r\nconst Line = styled.div<LineProps>`\r\n  position: relative;\r\n\r\n  &,\r\n  &::before,\r\n  &::after {\r\n    content: '';\r\n    display: block;\r\n    background-color: #fff;\r\n    width: 4rem;\r\n    height: 0.3rem;\r\n    border-radius: 100px;\r\n\r\n    transition: all 200ms ease;\r\n  }\r\n\r\n  ::before {\r\n    position: absolute;\r\n    top: -0.8rem;\r\n  }\r\n\r\n  ::after {\r\n    position: absolute;\r\n    top: 0.8rem;\r\n  }\r\n\r\n  ${(p) =>\r\n    p.active &&\r\n    css`\r\n      /* increase specitivity */\r\n      & {\r\n        background-color: transparent;\r\n      }\r\n\r\n      ::before {\r\n        top: 0;\r\n        transform: scale(0.9) rotate(135deg);\r\n      }\r\n\r\n      ::after {\r\n        top: 0;\r\n        transform: scale(0.9) rotate(-135deg);\r\n      }\r\n    `}\r\n`;\r\n","import React from 'react';\r\nimport styled, { useTheme, ThemeProvider } from 'styled-components/macro';\r\n\r\ninterface SocialMediaProps {\r\n  fillColor?: string;\r\n}\r\nexport const SocialMedia: React.FC<\r\n  SocialMediaProps & React.AnchorHTMLAttributes<HTMLAnchorElement>\r\n> = ({ children, fillColor = '#000', href }) => {\r\n  const defaultTheme = useTheme();\r\n\r\n  return (\r\n    <ThemeProvider theme={{ ...defaultTheme, primary: fillColor }}>\r\n      <Container href={href}>\r\n        {children}\r\n        <Filter />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nconst Container = styled.a`\r\n  background-color: ${(p) => p.theme.subtleBackground};\r\n  width: 3rem;\r\n  height: 3rem;\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n\r\n  display: block;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  svg {\r\n    fill: ${(p) => p.theme.primary};\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    position: relative;\r\n    transition: all ${(p) => p.theme.transitionSpeed.subtle} ease;\r\n    z-index: ${(p) => p.theme.zIndex.lw};\r\n  }\r\n\r\n  &:hover,\r\n  &:active {\r\n    div {\r\n      opacity: 1;\r\n      clip-path: circle(150% at 0% 0%);\r\n    }\r\n\r\n    svg {\r\n      fill: ${(p) => p.theme.subtleBackground};\r\n    }\r\n  }\r\n`;\r\n\r\ninterface FilterProps {}\r\nconst Filter = styled.div<FilterProps>`\r\n  background: ${(p) => p.theme.primary};\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 0;\r\n\r\n  clip-path: circle(0% at 0% 0%);\r\n\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  transition: all ${(p) => p.theme.transitionSpeed.subtle} ease;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { FaGithubAlt, FaFacebookF, FaLinkedinIn } from 'react-icons/fa';\r\nimport { SocialMedia } from './SocialMediaIcon';\r\n\r\ninterface SocialMediaIconsProps {}\r\nexport const SocialMediaIcons: React.FC<SocialMediaIconsProps> = () => {\r\n  return (\r\n    <Container>\r\n      <SocialMedia fillColor=\"#6e5494\" href=\"https://github.com/Andrewnt219\">\r\n        <FaGithubAlt />\r\n      </SocialMedia>\r\n\r\n      <SocialMedia\r\n        fillColor=\"#0e76a8\"\r\n        href=\"https://www.linkedin.com/in/andrewnt219/\"\r\n      >\r\n        <FaLinkedinIn />\r\n      </SocialMedia>\r\n\r\n      <SocialMedia\r\n        fillColor=\"#3b5998\"\r\n        href=\"https://www.facebook.com/phong.nguyentuan.1080\"\r\n      >\r\n        <FaFacebookF />\r\n      </SocialMedia>\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  width: 100%;\r\n  max-width: 20rem;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { SocialMediaIcons } from './SocialMediaIcons';\r\nimport { BaseLogo } from '../../ui/BaseLogo';\r\n\r\ninterface FooterProps {}\r\nexport const Footer: React.FC<FooterProps> = () => {\r\n  return (\r\n    <Container>\r\n      <Logo />\r\n\r\n      <SocialMediaIcons />\r\n\r\n      <Text>\r\n        © 2020 All Rights Reserved.\r\n        <br />\r\n        Developed by Tuan Phong (Andrew) Nguyen\r\n      </Text>\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.footer<ContainerProps>`\r\n  background: ${(p) => p.theme.blackBackground};\r\n  margin-top: 10vh;\r\n  padding: 10vh 5vw;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  justify-content: center;\r\n  justify-items: flex-start;\r\n  gap: 3vh;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  font-size: 1rem;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Logo = styled(BaseLogo)`\r\n  transform: none;\r\n  grid-row: 1/3;\r\n\r\n  width: 20vw;\r\n  max-width: 20rem;\r\n  height: auto;\r\n\r\n  justify-self: center;\r\n  align-self: center;\r\n`;\r\n","import React from 'react';\r\nimport { AppBar } from '../components/navigation/desktop/AppBar';\r\nimport styled from 'styled-components';\r\nimport { CssContext } from '../context/CssContext';\r\nimport { Hamburger } from '../components/navigation/mobile/Hamburger';\r\nimport { Footer } from '../components/navigation/footer/Footer';\r\n\r\ninterface LayoutProps {}\r\n\r\ninterface MainProps {}\r\n\r\nconst APPBAR_HEIGHT = '8rem';\r\nexport const Layout: React.FC<LayoutProps> = ({ children }) => {\r\n  return (\r\n    <CssContext.Provider value={{ appbarHeight: APPBAR_HEIGHT }}>\r\n      <AppBar height={APPBAR_HEIGHT} />\r\n      <Hamburger />\r\n      <Main>{children}</Main>\r\n      <Footer />\r\n    </CssContext.Provider>\r\n  );\r\n};\r\n\r\nconst Main = styled.main<MainProps>`\r\n  /* Compatible with Footer height */\r\n  max-width: 100vw;\r\n`;\r\n","import React from 'react';\r\n\r\ninterface AboutProps {}\r\n\r\nconst About: React.FC<AboutProps> = () => {\r\n  return <div>About</div>;\r\n};\r\n\r\nexport default About;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { BaseLogo } from '../../../components/ui/BaseLogo';\r\nimport {\r\n  MdStoreMallDirectory,\r\n  MdPhoneForwarded,\r\n  MdKeyboardArrowRight,\r\n} from 'react-icons/md';\r\nimport { StyledLink } from '../../../components/navigation/StyledLink';\r\nimport { rgba } from 'polished';\r\n\r\ntype Props = {\r\n  type: 'online' | 'inStore';\r\n  date: string;\r\n  price: number;\r\n  orderId: string;\r\n};\r\n\r\nfunction Order({ type, date, price, orderId }: Props): ReactElement {\r\n  return (\r\n    <Container to={`/orders/${orderId}`}>\r\n      <Logo>\r\n        <LogoWrapper>\r\n          <BaseLogo withText />\r\n        </LogoWrapper>\r\n      </Logo>\r\n\r\n      <Details>\r\n        <Date>{date}</Date>\r\n\r\n        <Price>\r\n          <PriceText>${price.toFixed(2)}</PriceText>\r\n          <MdKeyboardArrowRight />\r\n        </Price>\r\n\r\n        <PurchaseType>\r\n          {type === 'inStore' ? (\r\n            <>\r\n              <MdStoreMallDirectory />\r\n              <PurchaseTypeText>IN-STORE PURCHASE</PurchaseTypeText>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <MdPhoneForwarded />\r\n              <PurchaseTypeText>ONLINE PURCHASE</PurchaseTypeText>\r\n            </>\r\n          )}\r\n        </PurchaseType>\r\n      </Details>\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled(StyledLink)<ContainerProps>`\r\n  display: flex;\r\n  padding: 1rem 0.5rem;\r\n\r\n  :hover {\r\n    background: ${(p) => rgba(p.theme.grey, 0.1)};\r\n  }\r\n`;\r\n\r\ntype LogoProps = {};\r\nconst Logo = styled.div<LogoProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  padding-right: 1rem;\r\n  margin-right: 1rem;\r\n  border-right: 2px dashed #ccc;\r\n`;\r\n\r\ntype LogoWrapperProps = {};\r\nconst LogoWrapper = styled.span<LogoWrapperProps>`\r\n  height: 2rem;\r\n`;\r\n\r\ntype DetailsProps = {};\r\nconst Details = styled.div<DetailsProps>`\r\n  flex: 1;\r\n  display: grid;\r\n  grid-template-columns: 1fr min-content;\r\n  row-gap: 0.5rem;\r\n`;\r\n\r\ntype DateProps = {};\r\nconst Date = styled.h3<DateProps>`\r\n  font-family: 'Montserrat', sans-serif;\r\n  font-weight: 500;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\ntype PurchaseTypeProps = {};\r\nconst PurchaseType = styled.span<PurchaseTypeProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.9rem;\r\n\r\n  color: ${(p) => p.theme.grey};\r\n`;\r\n\r\ntype PurchaseTypeTextProps = {};\r\nconst PurchaseTypeText = styled.span<PurchaseTypeTextProps>`\r\n  display: inline-block;\r\n  margin-left: 0.5rem;\r\n`;\r\n\r\ntype PriceProps = {};\r\nconst Price = styled.span<PriceProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  grid-column: 2 / -1;\r\n  grid-row: 1/3;\r\n\r\n  font-size: 1.2rem;\r\n`;\r\n\r\ntype PriceTextProps = {};\r\nconst PriceText = styled.span<PriceTextProps>`\r\n  display: inline-block;\r\n  margin-right: 0.4rem;\r\n  width: max-content;\r\n`;\r\n\r\nexport default Order;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Order from './Order';\r\n\r\ntype Props = {};\r\n\r\nfunction Orders(props: Props): ReactElement {\r\n  return (\r\n    <Container>\r\n      <Order orderId=\"1\" type=\"inStore\" price={2.5} date=\"July 2nd, 2020\" />\r\n      <Order orderId=\"2\" type=\"inStore\" price={2.5} date=\"July 2nd, 2020\" />\r\n      <Order orderId=\"3\" type=\"online\" price={10.21} date=\"July 12th, 2020\" />\r\n      <Order orderId=\"4\" type=\"inStore\" price={99.121} date=\"July 2nd, 2020\" />\r\n      <Order orderId=\"5\" type=\"online\" price={0.2} date=\"July 31st, 2020\" />\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.div<ContainerProps>`\r\n  display: grid;\r\n  row-gap: 2rem;\r\n`;\r\n\r\nexport { Orders };\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {};\r\n\r\nfunction UserProfile(props: Props): ReactElement {\r\n  return (\r\n    <Container>\r\n      <PrimaryInfo>\r\n        <Avatar />\r\n        <Heading>FirstName LastName</Heading>\r\n        <SubHeading>firstName.lastName@gmail.ca</SubHeading>\r\n      </PrimaryInfo>\r\n\r\n      <SubInfo>\r\n        <Info>\r\n          <Value>03</Value>\r\n          <Field>Orders</Field>\r\n        </Info>\r\n\r\n        <Info>\r\n          <Value>\r\n            22.15 <ValueUnit>CAD</ValueUnit>\r\n          </Value>\r\n          <Field>Tipping</Field>\r\n        </Info>\r\n\r\n        <Info>\r\n          <Value>\r\n            05 <ValueUnit>years</ValueUnit>\r\n          </Value>\r\n          <Field>Loyalty</Field>\r\n        </Info>\r\n      </SubInfo>\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.div<ContainerProps>`\r\n  width: 100%;\r\n  height: 50vw;\r\n  clip-path: ellipse(100vw 50vw at 50% 0);\r\n  background: ${(p) => p.theme.primary};\r\n  padding: 2vw 0 5vw 0;\r\n\r\n  display: grid;\r\n  align-content: flex-start;\r\n  row-gap: 2rem;\r\n\r\n  font-size: 1.2rem;\r\n  color: ${(p) => p.theme.subtleBackground};\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xxs}) {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    height: 65vmin;\r\n    clip-path: ellipse(100vw 65vmin at 50% 0);\r\n  }\r\n`;\r\n\r\ntype PrimaryInfoProps = {};\r\nconst PrimaryInfo = styled.div<PrimaryInfoProps>`\r\n  display: grid;\r\n  row-gap: 0.25rem;\r\n  justify-items: center;\r\n  align-items: center;\r\n`;\r\n\r\ntype AvatarProps = {};\r\nconst Avatar = styled.img<AvatarProps>`\r\n  width: 15%;\r\n  padding-top: 15%;\r\n  background: white;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  border-radius: 50%;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    width: 10rem;\r\n    padding-top: 10rem;\r\n  }\r\n`;\r\n\r\ntype HeadingProps = {};\r\nconst Heading = styled.h3<HeadingProps>`\r\n  font-size: inherit;\r\n`;\r\n\r\ntype SubHeadingProps = {};\r\nconst SubHeading = styled.h4<SubHeadingProps>`\r\n  font-weight: 300;\r\n  font-size: smaller;\r\n`;\r\n\r\ntype InfoContainerProps = {};\r\nconst SubInfo = styled.div<InfoContainerProps>`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  font-size: smaller;\r\n`;\r\n\r\ntype InfoProps = {};\r\nconst Info = styled.div<InfoProps>`\r\n  display: grid;\r\n  row-gap: 0.5rem;\r\n  justify-items: center;\r\n`;\r\n\r\ntype ValueProps = {};\r\nconst Value = styled.span<ValueProps>`\r\n  font-weight: 600;\r\n  font-size: inherit;\r\n`;\r\n\r\ntype ValueUnitProps = {};\r\nconst ValueUnit = styled.span<ValueUnitProps>`\r\n  font-size: smaller;\r\n  font-weight: normal;\r\n`;\r\n\r\ntype FieldProps = {};\r\nconst Field = styled.span<FieldProps>``;\r\n\r\nexport { UserProfile };\r\n","import React from 'react';\r\n\r\nimport styled from 'styled-components/macro';\r\nimport { Orders } from './components/Orders';\r\nimport { UserProfile } from './components/UserProfile';\r\nimport { useDispatch } from 'react-redux';\r\nimport { logout } from '../../features/userSlice';\r\nimport { initCart } from '../../features/cartSlice';\r\n\r\ninterface UserDashboardProps {}\r\n\r\nconst UserDashboard: React.FC<UserDashboardProps> = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const onLogoutButtonClicked = () => {\r\n    dispatch(logout());\r\n    dispatch(initCart());\r\n  };\r\n  return (\r\n    <Container>\r\n      <UserProfile />\r\n      <button onClick={onLogoutButtonClicked}>Logout</button>\r\n      <Header>Past Orders (20)</Header>\r\n      <Orders />\r\n    </Container>\r\n  );\r\n};\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.section<ContainerProps>`\r\n  display: grid;\r\n  row-gap: 2rem;\r\n  margin: 2rem;\r\n`;\r\n\r\ntype HeaderProps = {};\r\nconst Header = styled.h2<HeaderProps>``;\r\n\r\nexport default UserDashboard;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { FieldElement } from 'react-hook-form';\r\n\r\ninterface ControllerInputProps<FormValues> {\r\n  type: 'radio' | 'checkbox';\r\n  register: (ref: FieldElement<FormValues> | null) => void;\r\n  id: string;\r\n  label: string;\r\n}\r\n\r\n/**\r\n * @description render a `radio` or `checkbox` input\r\n * @param id the id of the element\r\n * @param name the name of the element\r\n * @param label the text for the element's label\r\n * @param register the register from react-hook-form/useForm()\r\n * @param type type of the input\r\n * @param htmlRadioAttrs others are html input interface\r\n */\r\nfunction ControllerInput<FormValues>({\r\n  onChange,\r\n  id,\r\n  label,\r\n  name,\r\n  register,\r\n  type,\r\n  ...htmlRadioAttrs\r\n}: ControllerInputProps<FormValues> &\r\n  React.InputHTMLAttributes<HTMLInputElement>) {\r\n  return (\r\n    <Container>\r\n      <Input\r\n        {...htmlRadioAttrs}\r\n        ref={register}\r\n        type={type}\r\n        name={name}\r\n        id={id}\r\n        onChange={onChange}\r\n        hidden\r\n      />\r\n\r\n      <Label htmlFor={id}>\r\n        <InputButton className=\"input-button\" type={type} />\r\n        {label}\r\n      </Label>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport { ControllerInput };\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.li<ContainerProps>``;\r\n\r\ninterface InputProps {}\r\nconst Input = styled.input<InputProps>`\r\n  :checked + label .input-button::before {\r\n    visibility: visible;\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n`;\r\n\r\ninterface InputButtonProps {\r\n  type: 'checkbox' | 'radio';\r\n}\r\nconst InputButton = styled.span<InputButtonProps>`\r\n  display: inline-block;\r\n  margin-right: 0.5rem;\r\n  height: 1.5rem;\r\n  width: 1.5rem;\r\n  border-radius: ${(p) => p.type === 'radio' && '50%'};\r\n  border: 3px solid ${(p) => p.theme.primary};\r\n\r\n  position: relative;\r\n\r\n  ::before {\r\n    content: '';\r\n    visibility: hidden;\r\n    display: block;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n\r\n    width: 80%;\r\n    padding-top: 80%;\r\n    background: ${(p) => p.theme.primary};\r\n    border-radius: ${(p) => p.type === 'radio' && '50%'};\r\n\r\n    transform: translate(-50%, -50%) scale(0);\r\n    transition: transform 200ms ease;\r\n  }\r\n`;\r\n\r\ninterface LabelProps {}\r\nconst Label = styled.label<LabelProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { ControllerInput } from './ControllerInput';\r\nimport { FieldElement, FormContextValues } from 'react-hook-form';\r\nimport ErrorText from './ErrorText';\r\n\r\n/**\r\n * @description the object model to put in ControllerInputsGroup\r\n * @param id the id of each input\r\n * @param value the value of each input\r\n * @param register returned value of register from react-hook-form/useForm()\r\n * @param label the label of each input\r\n */\r\nexport interface ControllerObject<FormValues, OptionValue extends string> {\r\n  id: string;\r\n  checked?: boolean;\r\n  value: OptionValue;\r\n  register: (ref: FieldElement<FormValues> | null) => void;\r\n  label: string;\r\n}\r\n\r\ninterface ControllerInputsGroupProps<FormValues, OptionValue extends string> {\r\n  name: keyof FormValues;\r\n  handleChange?:\r\n    | ((event: React.ChangeEvent<HTMLInputElement>) => void)\r\n    | undefined;\r\n  controllers: ControllerObject<FormValues, OptionValue>[];\r\n  type: 'radio' | 'checkbox';\r\n  label: string;\r\n  defaultCheckedValue?: string;\r\n  errors: FormContextValues<FormValues>['errors'];\r\n}\r\n\r\n/**\r\n * @description Group of radios or checkboxes (ControllerInput)\r\n * @template FormValues the interface of all the inputs' value of the form this group is in\r\n * @param controllers an array of ControllerObject<FormValues>\r\n * @param name the name of the group, and each radio/checkbox\r\n * @param type the type of the inputs\r\n * @param handleChange handle when user changes the value of input controllers\r\n */\r\nfunction ControllerInputsGroup<FormValues, OptionValue extends string>({\r\n  name,\r\n  label,\r\n  controllers,\r\n  type,\r\n  handleChange,\r\n  defaultCheckedValue,\r\n  errors,\r\n}: ControllerInputsGroupProps<FormValues, OptionValue> &\r\n  React.FieldsetHTMLAttributes<HTMLFieldSetElement>) {\r\n  return (\r\n    <Container>\r\n      <GroupName className=\"group-name\">{label}</GroupName>\r\n      <Controllers>\r\n        {controllers.map((controllerProps, index) => (\r\n          <ControllerInput\r\n            {...controllerProps}\r\n            onChange={handleChange}\r\n            defaultChecked={defaultCheckedValue === controllerProps.value}\r\n            key={index}\r\n            name={name}\r\n            type={type}\r\n          />\r\n        ))}\r\n      </Controllers>\r\n      <ErrorText errors={errors} name={name} />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport { ControllerInputsGroup };\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: none;\r\n\r\n  :hover .group-name {\r\n    color: ${(p) => p.theme.primary};\r\n  }\r\n`;\r\n\r\ninterface GroupNameProps {}\r\nconst GroupName = styled.p<GroupNameProps>`\r\n  margin-bottom: 1rem;\r\n  font-size: inherit;\r\n  transition: color 200ms ease;\r\n`;\r\n\r\ninterface ControllersProps {}\r\nconst Controllers = styled.ul<ControllersProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  & > *:not(:last-child) {\r\n    margin-right: 1rem;\r\n  }\r\n`;\r\n","import styled from 'styled-components/macro';\r\nimport { BaseForm } from '../../../components/ui/form/BaseForm';\r\nimport { BaseButton } from '../../../components/ui/BaseButton';\r\n\r\nexport const BaseReservationForm = styled(BaseForm)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nexport const SubmitButton = styled(BaseButton)`\r\n  margin-top: 2rem;\r\n`;\r\n","import React, { ReactElement } from 'react';\r\n\r\nimport { TextField } from '../../../components/ui/form/TextField';\r\nimport {\r\n  ControllerObject,\r\n  ControllerInputsGroup,\r\n} from '../../../components/ui/form/ControllerInputsGroup';\r\nimport { FormProps } from '../../../interfaces/FormProps';\r\nimport {\r\n  SubmitButton,\r\n  BaseReservationForm as Form,\r\n} from './ReservationUIComponents';\r\n\r\ntype Props<FormValues> = FormProps<FormValues> & {};\r\n\r\ntype FormValues = {\r\n  preferredName: string;\r\n  prefix: 'mr' | 'mrs' | 'ms' | 'name';\r\n  email: string;\r\n};\r\n\r\nfunction ReservationForm1({\r\n  onSubmit,\r\n  register,\r\n  errors,\r\n  formValues,\r\n  handleChange,\r\n  isSubmittable,\r\n}: Props<FormValues>): ReactElement {\r\n  const radios: ControllerObject<FormValues, typeof formValues.prefix>[] = [\r\n    {\r\n      id: 'address--mr',\r\n      label: 'Mr.',\r\n      register: register(),\r\n      value: 'mr',\r\n    },\r\n    {\r\n      id: 'address--ms',\r\n      label: 'Ms.',\r\n      register: register(),\r\n      value: 'ms',\r\n    },\r\n    {\r\n      id: 'address--mrs',\r\n      label: 'Mrs.',\r\n      register: register(),\r\n      value: 'mrs',\r\n    },\r\n    {\r\n      id: 'address--none',\r\n      label: 'By name',\r\n      register: register(),\r\n      value: 'name',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Form onSubmit={onSubmit} noValidate>\r\n      <TextField\r\n        required\r\n        id=\"preferredName\"\r\n        name=\"preferredName\"\r\n        label=\"preferred name\"\r\n        errors={errors}\r\n        value={formValues?.preferredName}\r\n        onChange={handleChange}\r\n        register={register({\r\n          required: 'A name is required',\r\n        })}\r\n      />\r\n\r\n      <TextField\r\n        required\r\n        type=\"email\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        errors={errors}\r\n        label=\"email\"\r\n        value={formValues?.email}\r\n        onChange={handleChange}\r\n        register={register({\r\n          required: 'Email is required',\r\n          pattern: {\r\n            value: /.*@.*\\..+/,\r\n            message: 'Not a valid email',\r\n          },\r\n        })}\r\n      />\r\n\r\n      <ControllerInputsGroup\r\n        type=\"radio\"\r\n        label=\"how should we address you?\"\r\n        errors={errors}\r\n        defaultCheckedValue={formValues.prefix}\r\n        name=\"prefix\"\r\n        controllers={radios}\r\n        handleChange={handleChange}\r\n      />\r\n\r\n      <SubmitButton disabled={!isSubmittable} type=\"submit\" outlined>\r\n        NEXT\r\n      </SubmitButton>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport { ReservationForm1 };\r\n","import { add, format } from 'date-fns';\r\nimport React, { ReactElement } from 'react';\r\nimport styled, { css } from 'styled-components/macro';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n  KeyboardTimePicker,\r\n} from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { FormProps } from '../../../interfaces/FormProps';\r\nimport { MaterialUiPickersDate } from '@material-ui/pickers/typings/date';\r\nimport { InputData } from '../../../hook/useFormState';\r\nimport { MdAccessTime } from 'react-icons/md';\r\nimport {\r\n  ControllerObject,\r\n  ControllerInputsGroup,\r\n} from '../../../components/ui/form/ControllerInputsGroup';\r\nimport {\r\n  BaseReservationForm as Form,\r\n  SubmitButton,\r\n} from './ReservationUIComponents';\r\n\r\ntype Props<FormValues> = FormProps<FormValues> & {\r\n  children?: never;\r\n};\r\n\r\ntype FormValues = {\r\n  date: string;\r\n  guests: '1' | '2-4' | '4-8';\r\n  time: string;\r\n};\r\nconst maxFutureDate = add(new Date(), { days: 14 });\r\nconst minDate = add(new Date(), { days: 1 });\r\nfunction ReservationForm2({\r\n  onSubmit,\r\n  register,\r\n  handleChange,\r\n  formValues,\r\n  isSubmittable,\r\n  errors,\r\n}: Props<FormValues>): ReactElement {\r\n  const handleDateChange = (inputName: keyof FormValues) => (\r\n    date: MaterialUiPickersDate\r\n  ): void => {\r\n    const inputData: InputData = {\r\n      currentTarget: {\r\n        name: inputName,\r\n        value: date?.toString() ?? new Date().toString(),\r\n      },\r\n    };\r\n\r\n    handleChange(inputData);\r\n  };\r\n\r\n  const radios: ControllerObject<FormValues, typeof formValues.guests>[] = [\r\n    {\r\n      id: 'guest-1',\r\n      label: 'Alone',\r\n      register: register(),\r\n      value: '1',\r\n    },\r\n    {\r\n      id: 'guest-2',\r\n      label: '2-4 guests',\r\n      register: register(),\r\n      value: '2-4',\r\n    },\r\n    {\r\n      id: 'guest-4',\r\n      label: '4-8 guests',\r\n      register: register(),\r\n      value: '4-8',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Form onSubmit={onSubmit} noValidate>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <DatePicker\r\n          name=\"date\"\r\n          autoOk\r\n          onChange={handleDateChange('date')}\r\n          disableToolbar\r\n          variant=\"dialog\"\r\n          format=\"MM/dd/yyyy\"\r\n          margin=\"normal\"\r\n          label=\"reservation's date\"\r\n          value={formValues.date}\r\n          inputRef={register({ required: true })}\r\n          minDate={minDate}\r\n          maxDate={maxFutureDate}\r\n          maxDateMessage={`Date must be within 14 days (before ${format(\r\n            maxFutureDate,\r\n            'MM/dd/yy'\r\n          )})`}\r\n          minDateMessage=\"Date cannot be in the past\"\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n          }}\r\n        />\r\n\r\n        <TimePicker\r\n          name=\"time\"\r\n          minutesStep={15}\r\n          ampm={false}\r\n          autoOk\r\n          keyboardIcon={<MdAccessTime />}\r\n          inputRef={register({ required: true })}\r\n          margin=\"normal\"\r\n          id=\"time-picker\"\r\n          label=\"reservation's time\"\r\n          value={formValues.time}\r\n          onChange={handleDateChange('time')}\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change time',\r\n          }}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n\r\n      <ControllerInputsGroup\r\n        type=\"radio\"\r\n        label=\"Number of guests\"\r\n        errors={errors}\r\n        defaultCheckedValue={formValues.guests}\r\n        name=\"guests\"\r\n        controllers={radios}\r\n        handleChange={handleChange}\r\n      />\r\n\r\n      <SubmitButton type=\"submit\" disabled={!isSubmittable} outlined>\r\n        SUBMIT\r\n      </SubmitButton>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst overwritten = css`\r\n  .MuiInputBase-input,\r\n  .MuiFormHelperText-root,\r\n  .MuiInputLabel-root {\r\n    font-size: inherit;\r\n    font-family: 'Montserrat', sans-serif;\r\n  }\r\n\r\n  .MuiInputLabel-shrink {\r\n    transform: translate(0, -1.5px);\r\n  }\r\n\r\n  .MuiInputLabel-root {\r\n    color: ${(p) => p.theme.black};\r\n\r\n    :hover label {\r\n      color: ${(p) => p.theme.primary};\r\n    }\r\n  }\r\n\r\n  .MuiFormHelperText-root {\r\n    font-style: italic;\r\n  }\r\n`;\r\n\r\ninterface DatePickerProps {}\r\nconst DatePicker = styled(KeyboardDatePicker)<DatePickerProps>`\r\n  ${overwritten}\r\n`;\r\n\r\nconst TimePicker = styled(KeyboardTimePicker)<DatePickerProps>`\r\n  ${overwritten}\r\n`;\r\n\r\nexport default ReservationForm2;\r\n","import React, { useState } from 'react';\r\nimport styled, {\r\n  ThemeProvider,\r\n  DefaultTheme,\r\n  css,\r\n} from 'styled-components/macro';\r\nimport { ReservationForm1 } from './components/ReservationForm1';\r\nimport { useFormStep } from '../../hook';\r\n\r\nimport ReservationForm2 from './components/ReservationForm2';\r\nimport { rgba } from 'polished';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useFormState } from '../../hook/useFormState';\r\nimport { roundToNearestMinutes } from 'date-fns/esm';\r\nimport { add } from 'date-fns';\r\n\r\ninterface ReservationProps {}\r\ninterface FormValues {\r\n  preferredName: string;\r\n  prefix: 'mr' | 'mrs' | 'ms' | 'name';\r\n  email: string;\r\n  date: string;\r\n  time: string;\r\n  guests: '1' | '2-4' | '4-8';\r\n}\r\n\r\nconst NUMBER_OF_STEP = 2;\r\nconst Reservation: React.FC<ReservationProps> = () => {\r\n  const [currentStep, nextStep, , jumpToStep] = useFormStep(NUMBER_OF_STEP);\r\n  const [completedStep, setCompletedStep] = useState(-1);\r\n\r\n  const {\r\n    handleSubmit,\r\n    errors,\r\n    register,\r\n    formState,\r\n    triggerValidation,\r\n  } = useForm<FormValues>({\r\n    mode: 'onChange',\r\n    validateCriteriaMode: 'all',\r\n  });\r\n\r\n  const [formValues, handleChange] = useFormState<FormValues>({\r\n    preferredName: '',\r\n    prefix: 'name',\r\n\r\n    email: '',\r\n    date: add(new Date(), { days: 1 }).toDateString(),\r\n    time: roundToNearestMinutes(new Date(), { nearestTo: 15 }).toString(),\r\n    guests: '1',\r\n  });\r\n\r\n  const onSubmitStep1 = handleSubmit((_, __) => {\r\n    nextStep();\r\n    setCompletedStep(1);\r\n  });\r\n  const onSubmitStep2 = handleSubmit((_, __) => {\r\n    setCompletedStep(2);\r\n  });\r\n\r\n  let form;\r\n  switch (currentStep) {\r\n    case 1:\r\n      form = (\r\n        <ReservationForm1\r\n          isSubmittable={formState.isValid}\r\n          formValues={formValues}\r\n          register={register}\r\n          errors={errors}\r\n          handleChange={handleChange}\r\n          onSubmit={onSubmitStep1}\r\n        />\r\n      );\r\n      break;\r\n    case 2:\r\n      form = (\r\n        <ReservationForm2\r\n          isSubmittable={formState.isValid}\r\n          formValues={formValues}\r\n          register={register}\r\n          errors={errors}\r\n          handleChange={handleChange}\r\n          onSubmit={onSubmitStep2}\r\n          triggerValidation={triggerValidation}\r\n        />\r\n      );\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider\r\n      theme={(defaultTheme: DefaultTheme) => ({\r\n        ...defaultTheme,\r\n        primary: defaultTheme.formTheme,\r\n      })}\r\n    >\r\n      <Container>\r\n        <FormContainer>\r\n          <FormHeader>\r\n            <Header>Reservation</Header>\r\n            <FormSelectButtons>\r\n              <FormSelectButton\r\n                active={currentStep === 1}\r\n                onClick={() => jumpToStep(1)}\r\n              >\r\n                INFO\r\n              </FormSelectButton>\r\n\r\n              <FormSelectButton\r\n                disabled={completedStep < 1}\r\n                active={currentStep === 2}\r\n                onClick={() => jumpToStep(2)}\r\n              >\r\n                BOOKING\r\n              </FormSelectButton>\r\n            </FormSelectButtons>\r\n          </FormHeader>\r\n\r\n          <FormBody>{form}</FormBody>\r\n        </FormContainer>\r\n        <Image />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nconst Container = styled.section`\r\n  max-width: 100vw;\r\n  margin: 2rem;\r\n  position: relative;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n    min-height: 100vh;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.lg}) {\r\n    min-height: 100vh;\r\n  }\r\n`;\r\n\r\ninterface FormContainerProps {}\r\nconst FormContainer = styled.div<FormContainerProps>`\r\n  width: 100%;\r\n  shape-margin: 2rem;\r\n  background: ${(p) => p.theme.white};\r\n  z-index: ${(p) => p.theme.zIndex.lw};\r\n  margin: auto 0;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    align-items: flex-start;\r\n\r\n    clip-path: polygon(0 0, 100% 0, 90% 100%, 0 100%);\r\n    width: 50%;\r\n    height: 100%;\r\n  }\r\n`;\r\nconst FormHeader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 1rem;\r\n  justify-content: space-between;\r\n  margin-bottom: 2rem;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n    flex-direction: row;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst FormBody = styled.div`\r\n  width: 100%;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    width: 80%;\r\n  }\r\n`;\r\nconst Header = styled.h2``;\r\n\r\nconst FormSelectButtons = styled.div`\r\n  display: flex;\r\n  align-self: stretch;\r\n`;\r\n\r\ninterface ButtonProps {\r\n  active: boolean;\r\n  inactive?: boolean;\r\n}\r\nconst FormSelectButton = styled.button<ButtonProps>`\r\n  padding: 0.75rem 1rem;\r\n  border: none;\r\n  color: ${(p) => p.theme.white};\r\n  background: ${(p) => p.theme.grey};\r\n  width: max-content;\r\n  cursor: ${(p) => (p.disabled ? 'not-allowed' : 'pointer')};\r\n  transition: flex 400ms cubic-bezier(0, 0, 0.2, 1), background 200ms ease,\r\n    transform 200ms cubic-bezier(0, 0, 0.2, 1);\r\n  ${(p) =>\r\n    p.active &&\r\n    css`\r\n      color: ${p.theme.white};\r\n      background: ${p.theme.primary};\r\n      flex: 1;\r\n\r\n      @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n        transform: translateY(-0.2rem);\r\n        flex: unset;\r\n      }\r\n    `};\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n`;\r\n\r\nconst Image = styled.div`\r\n  width: 100%;\r\n  height: 15vh;\r\n  margin-top: 2rem;\r\n\r\n  background: linear-gradient(\r\n      ${(p) => rgba(p.theme.black, 0.6)},\r\n      ${(p) => rgba(p.theme.black, 0.6)}\r\n    ),\r\n    url('https://i.imgur.com/UOWF4s0.jpg');\r\n  background-size: cover;\r\n\r\n  background-position: center;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n    margin: 0;\r\n    /* width is calc-ed on the third point of form's polygon */\r\n    width: 60%;\r\n\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nexport default Reservation;\r\n","import { useState } from 'react';\r\n\r\nexport type InputData = {\r\n  currentTarget: {\r\n    name: string;\r\n    value: string;\r\n  };\r\n};\r\nexport type handleInputChange = (\r\n  e: React.FormEvent<HTMLInputElement> | InputData\r\n) => void;\r\n\r\nexport const useFormState = <FormValues>(\r\n  initialState: FormValues\r\n): [FormValues, handleInputChange] => {\r\n  const [formState, setFormState] = useState<FormValues>(initialState);\r\n\r\n  const handleInputChange: handleInputChange = (e) => {\r\n    const { name, value } = e.currentTarget;\r\n    setFormState((prev): FormValues => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  return [formState, handleInputChange];\r\n};\r\n","import React from 'react';\r\n\r\ninterface EmptyProps {}\r\n\r\nconst Empty: React.FC<EmptyProps> = () => {\r\n  return <div>Empty</div>;\r\n};\r\n\r\nexport default Empty;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n};\r\n\r\nfunction ItemDetail({ name, price, quantity }: Props): ReactElement {\r\n  return (\r\n    <>\r\n      <ItemInfo>\r\n        <ItemName>{name}</ItemName>\r\n        <ItemPrice>${price.toFixed(2)} each</ItemPrice>\r\n      </ItemInfo>\r\n      <Quantity>x{quantity}</Quantity>\r\n      <ItemTotalPrice>${(price * quantity).toFixed(2)}</ItemTotalPrice>\r\n    </>\r\n  );\r\n}\r\n\r\ntype ItemInfoProps = {};\r\nconst ItemInfo = styled.div<ItemInfoProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\ntype ItemNameProps = {};\r\nconst ItemName = styled.h4<ItemNameProps>`\r\n  text-transform: capitalize;\r\n  font-weight: 400;\r\n  font-family: 'Montserrat', sans-serif;\r\n`;\r\n\r\ntype ItemSubInfoProps = {};\r\nconst ItemPrice = styled.span<ItemSubInfoProps>`\r\n  color: ${(p) => p.theme.grey};\r\n  font-size: 0.9rem;\r\n  font-style: italic;\r\n`;\r\n\r\ntype QuantityProps = {};\r\nconst Quantity = styled.span<QuantityProps>`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  color: ${(p) => p.theme.grey};\r\n`;\r\n\r\ntype TotalPriceProps = {};\r\nconst ItemTotalPrice = styled.span<TotalPriceProps>`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  font-weight: 400;\r\n`;\r\n\r\nexport { ItemDetail };\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {};\r\n\r\nfunction ItemDetailsHeader(props: Props): ReactElement {\r\n  return (\r\n    <>\r\n      <Header>Item</Header>\r\n      <Header>Quantity</Header>\r\n      <Header>Price</Header>\r\n    </>\r\n  );\r\n}\r\n\r\ntype HeaderProps = {};\r\nconst Header = styled.h3<HeaderProps>`\r\n  font-family: 'Montserrat', sans-serif;\r\n  font-size: 1.2rem;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport { ItemDetailsHeader };\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {};\r\n\r\nfunction ItemDetailsFooter(props: Props): ReactElement {\r\n  return (\r\n    <React.Fragment>\r\n      <div />\r\n      <Footer>\r\n        <Sub>Subtotal</Sub>\r\n        <Sub>Tip</Sub>\r\n        <Sub>Shipping</Sub>\r\n\r\n        <Primary>Total</Primary>\r\n      </Footer>\r\n\r\n      <Footer>\r\n        <Sub>$99.00</Sub>\r\n        <Sub>$9.99</Sub>\r\n        <Sub>$0.00</Sub>\r\n\r\n        <Primary>$100.00</Primary>\r\n      </Footer>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\ntype LabelsProps = {};\r\nconst Footer = styled.div<LabelsProps>``;\r\n\r\ntype LabelProps = {};\r\nconst Primary = styled.p<LabelProps>`\r\n  font-size: 1.2rem;\r\n`;\r\n\r\ntype SubProps = {};\r\nconst Sub = styled.p<SubProps>`\r\n  font-size: 0.8rem;\r\n  color: ${(p) => p.theme.grey};\r\n`;\r\n\r\nexport { ItemDetailsFooter };\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { ItemDetail } from './components/ItemDetail';\r\nimport { ItemDetailsHeader } from './components/ItemDetailsHeader';\r\nimport { ItemDetailsFooter } from './components/ItemDetailsFooter';\r\n\r\ntype Props = {};\r\n\r\nfunction OrderDetail(props: Props): ReactElement {\r\n  return (\r\n    <Container>\r\n      <Header>Order #01</Header>\r\n      <SubHeader>July 2nd, 2020</SubHeader>\r\n\r\n      <ItemDetails>\r\n        <ItemDetailsHeader />\r\n        <ItemDetail name=\"Kinda Long Name\" price={2.5} quantity={2} />\r\n        <ItemDetail name=\"Super duper long name\" price={1.25} quantity={5} />\r\n        <ItemDetail name=\"Shortname\" price={3.75} quantity={8} />\r\n        <ItemDetail name=\"Normal name\" price={4.99} quantity={1} />\r\n        <ItemDetail name=\"Short\" price={0} quantity={6} />\r\n        <ItemDetailsFooter />\r\n      </ItemDetails>\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.div<ContainerProps>`\r\n  margin: 2rem;\r\n`;\r\n\r\ntype HeaderProps = {};\r\nconst Header = styled.h2<HeaderProps>``;\r\n\r\ntype SubHeaderProps = {};\r\nconst SubHeader = styled.h3<SubHeaderProps>`\r\n  font-family: 'Montserrat', sans-serif;\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n`;\r\n\r\ntype ItemDetailsProps = {};\r\nconst ItemDetails = styled.div<ItemDetailsProps>`\r\n  display: grid;\r\n  grid-template-columns: 1fr auto auto;\r\n  row-gap: 1rem;\r\n  column-gap: 2rem;\r\n\r\n  margin-top: 2rem;\r\n  padding-bottom: 1.5rem;\r\n  border-bottom: 1px dotted ${(p) => p.theme.black};\r\n`;\r\n\r\nexport { OrderDetail };\r\n","import React, { ReactElement } from 'react';\r\nimport { RouteProps, Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { userSelector } from '../../features/userSlice';\r\n\r\ntype Props = RouteProps & {\r\n  children: ReactElement;\r\n};\r\n\r\nfunction ProtectedRoute({ children, ...routeProps }: Props): ReactElement {\r\n  const { email } = useSelector(userSelector);\r\n  const isAuthenticated = !!email;\r\n\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={({ location }) =>\r\n        isAuthenticated ? (\r\n          children\r\n        ) : (\r\n          <Redirect to={{ pathname: '/login', state: { from: location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport {\r\n  useLocation,\r\n  RouteComponentProps,\r\n  useHistory,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport { TextField } from '../../components/ui/form/TextField';\r\nimport { BaseForm } from '../../components/ui/form/BaseForm';\r\nimport { useForm } from 'react-hook-form';\r\nimport { BaseButton } from '../../components/ui/BaseButton';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authUser, userSelector } from '../../features/userSlice';\r\n\r\ntype Props = {};\r\n\r\nexport type LoginFormValues = {\r\n  email: string;\r\n  password: string;\r\n};\r\n\r\nfunction Login(props: Props): ReactElement {\r\n  // note the undefined\r\n  const { state } = useLocation<\r\n    { from?: RouteComponentProps['location'] } | undefined\r\n  >();\r\n  const history = useHistory();\r\n  let pathname = state?.from?.pathname ?? '/';\r\n  const { register, errors, handleSubmit, formState } = useForm<\r\n    LoginFormValues\r\n  >({\r\n    mode: 'onChange',\r\n    validateCriteriaMode: 'all',\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  const { email } = useSelector(userSelector);\r\n\r\n  const onSubmit = handleSubmit((formData) => {\r\n    dispatch(authUser(formData));\r\n    history.push(pathname);\r\n  });\r\n\r\n  return email ? (\r\n    <Redirect to=\"/me\" />\r\n  ) : (\r\n    <BaseForm onSubmit={onSubmit} noValidate>\r\n      <TextField\r\n        id=\"login-email\"\r\n        label=\"Email\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        errors={errors}\r\n        register={register({\r\n          required: 'Email is required',\r\n          pattern: {\r\n            value: /.*@.*\\..+/,\r\n            message: 'Not a valid email',\r\n          },\r\n        })}\r\n      />\r\n\r\n      <TextField\r\n        id=\"login-password\"\r\n        label=\"Password\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        errors={errors}\r\n        register={register({ required: 'Password is required' })}\r\n      />\r\n\r\n      <SubmitButton disabled={!formState.isValid} type=\"submit\">\r\n        Login\r\n      </SubmitButton>\r\n    </BaseForm>\r\n  );\r\n}\r\n\r\ntype SubmitButtonProps = {};\r\nconst SubmitButton = styled(BaseButton).attrs({ outlined: true })<\r\n  SubmitButtonProps\r\n>``;\r\n\r\nexport default Login;\r\n","import React, { ReactElement } from 'react';\r\nimport styled, { ThemeProvider, DefaultTheme } from 'styled-components/macro';\r\nimport { BaseForm } from '../../components/ui/form/BaseForm';\r\nimport { useForm } from 'react-hook-form';\r\nimport { TextField } from '../../components/ui/form/TextField';\r\nimport { BaseButton } from '../../components/ui/BaseButton';\r\nimport { useDispatch } from 'react-redux';\r\nimport { registerUser } from '../../features/userSlice';\r\n\r\ntype Props = {\r\n  className?: string;\r\n  defaultValues?: Partial<RegisterFormValues>;\r\n};\r\n\r\nexport type RegisterFormValues = {\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  preferredName: string;\r\n  address: string;\r\n  phone: string;\r\n};\r\n\r\nfunction Register({ className, defaultValues }: Props): ReactElement {\r\n  const dispatch = useDispatch();\r\n\r\n  const { register, handleSubmit, errors, getValues, formState } = useForm<\r\n    RegisterFormValues\r\n  >({\r\n    mode: 'onChange',\r\n    validateCriteriaMode: 'all',\r\n    defaultValues: {\r\n      ...defaultValues,\r\n    },\r\n  });\r\n\r\n  const onSubmit = handleSubmit((data) => {\r\n    dispatch(registerUser(data));\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider\r\n      theme={(theme): DefaultTheme => ({ ...theme, primary: theme.formTheme })}\r\n    >\r\n      <BaseForm onSubmit={onSubmit} noValidate className={className}>\r\n        <TextField\r\n          required\r\n          id=\"register-email\"\r\n          name=\"email\"\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          errors={errors}\r\n          register={register({\r\n            required: 'Email is required',\r\n            pattern: {\r\n              value: /.*@.*\\..+/,\r\n              message: 'Not a valid email',\r\n            },\r\n          })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          errors={errors}\r\n          register={register({ required: 'Password is required' })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-confirmPassword\"\r\n          type=\"password\"\r\n          name=\"confirmPassword\"\r\n          label=\"Confirm Password\"\r\n          errors={errors}\r\n          register={register({\r\n            validate: (value: string) =>\r\n              value === getValues().password || 'Password does not match',\r\n          })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-preferredName\"\r\n          name=\"preferredName\"\r\n          label=\"Preferred Name\"\r\n          type=\"text\"\r\n          errors={errors}\r\n          register={register({ required: 'Preferred name is required' })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-address\"\r\n          type=\"text\"\r\n          name=\"address\"\r\n          label=\"Address\"\r\n          errors={errors}\r\n          register={register({ required: 'Address is required' })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"register-phone\"\r\n          type=\"tel\"\r\n          name=\"phone\"\r\n          label=\"Phone\"\r\n          errors={errors}\r\n          register={register({\r\n            pattern: {\r\n              value: /(\\d[- ]?){9}\\d$/,\r\n              message: 'Not a valid Canadian number',\r\n            },\r\n          })}\r\n        />\r\n\r\n        <SubmitButton disabled={!formState.isValid} type=\"submit\">\r\n          Sign up\r\n        </SubmitButton>\r\n      </BaseForm>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\ntype SubmitButtonProps = {};\r\nconst SubmitButton = styled(BaseButton).attrs({ outlined: true })<\r\n  SubmitButtonProps\r\n>``;\r\n\r\nexport default Register;\r\n","import React, { useEffect } from 'react';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport { lightTheme } from './theme/lightTheme';\r\nimport { GlobalStyle } from './theme/GlobalStyle';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport { Layout } from './hoc/Layout';\r\nimport About from './pages/about/About';\r\nimport UserDashboard from './pages/userDashboard/UserDashboard';\r\nimport Reservation from './pages/reservation/Reservation';\r\nimport Empty from './pages/empty/Empty';\r\n// import Landing from './pages/landing/Landing';\r\n// import Menu from './pages/menu/Menu';\r\n// import Cart from './pages/cart/Cart';\r\nimport { OrderDetail } from './pages/orderDetail/OrderDetail';\r\nimport ProtectedRoute from './components/navigation/ProtectedRoute';\r\nimport Login from './pages/login/Login';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { initCart, cartSelector, syncCart } from './features/cartSlice';\r\nimport { initUser, userSelector } from './features/userSlice';\r\nimport Register from './pages/register/Register';\r\nimport { LoadingScreen } from './components/ui/LoadingScreen/LoadingScreen';\r\n\r\nconst Menu = React.lazy(() => import('./pages/menu/Menu'));\r\nconst Landing = React.lazy(() => import('./pages/landing/Landing'));\r\nconst Cart = React.lazy(() => import('./pages/cart/Cart'));\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const { id: cartId } = useSelector(cartSelector);\r\n  const { email } = useSelector(userSelector);\r\n\r\n  useEffect(() => {\r\n    const userEmail = localStorage.getItem('userEmail');\r\n    if (userEmail) {\r\n      dispatch(initUser(userEmail));\r\n    }\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(initCart());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (email && cartId) {\r\n      dispatch(syncCart());\r\n    }\r\n  }, [email, cartId, dispatch]);\r\n\r\n  return (\r\n    <ThemeProvider theme={lightTheme}>\r\n      <GlobalStyle />\r\n      <Layout>\r\n        <Switch>\r\n          <Route path=\"/orders/:id\" component={OrderDetail} />\r\n\r\n          <ProtectedRoute path=\"/me\">\r\n            <UserDashboard />\r\n          </ProtectedRoute>\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/about\" component={About} />\r\n          <Route path=\"/reservation\" component={Reservation} />\r\n\r\n          <React.Suspense fallback={<LoadingScreen />}>\r\n            <Route path=\"/cart\" component={Cart} />\r\n            <Route path=\"/menu\" component={Menu} />\r\n            <Route path=\"/\" exact component={Landing} />\r\n          </React.Suspense>\r\n\r\n          <Route component={Empty} />\r\n        </Switch>\r\n      </Layout>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { AppThunk, RootState } from '../../app/store';\r\n\r\ninterface CounterState {\r\n  value: number;\r\n}\r\n\r\nconst initialState: CounterState = {\r\n  value: 0,\r\n};\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState,\r\n  reducers: {\r\n    increment: state => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: state => {\r\n      state.value -= 1;\r\n    },\r\n    // Use the PayloadAction type to declare the contents of `action.payload`\r\n    incrementByAmount: (state, action: PayloadAction<number>) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\nexport const incrementAsync = (amount: number): AppThunk => dispatch => {\r\n  setTimeout(() => {\r\n    dispatch(incrementByAmount(amount));\r\n  }, 1000);\r\n};\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const selectCount = (state: RootState) => state.counter.value;\r\n\r\nexport default counterSlice.reducer;\r\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\r\nimport counterReducer from '../features/counter/counterSlice';\r\nimport loadingReducer from '../features/loadingSlice';\r\nimport cartReducer from '../features/cartSlice';\r\nimport userReducer from '../features/userSlice';\r\nimport orderReducer from '../features/orderSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    counter: counterReducer,\r\n    loading: loadingReducer,\r\n    cart: cartReducer,\r\n    user: userReducer,\r\n    orders: orderReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n  ReturnType,\r\n  RootState,\r\n  unknown,\r\n  Action<string>\r\n>;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <HashRouter basename=\"/\">\r\n        <App />\r\n      </HashRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","import axios from 'axios';\r\n\r\nexport const firebaseApi = axios.create({\r\n  baseURL: 'https://tamago-sushi-bar.firebaseio.com/',\r\n});\r\n","export const keyObjectToObjectWithKey = (object: object) => {\r\n  const [key, value] = Object.entries(object)[0];\r\n  return {\r\n    id: key,\r\n    ...value,\r\n  };\r\n};\r\n","import {\r\n  CartItem,\r\n  Cart,\r\n  CartState,\r\n  CartItems,\r\n  CartItemsState,\r\n} from '../features/sliceTypes';\r\nimport _ from 'lodash';\r\nimport { UiState } from '../features/uiTypes';\r\n\r\n/* ------------------------------ CART HELPERS ------------------------------ */\r\nexport const sumOfCartItems = (items: CartItems): number => {\r\n  return Object.values(items).reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  );\r\n};\r\n\r\n// export const calculateCart = (cart: Cart): Cart => {\r\n//   const calculatedCart = { ...cart };\r\n//   calculatedCart.subtotal = sumOfCartItems(calculatedCart.items);\r\n//   calculatedCart.total =\r\n//     calculatedCart.shipping + calculatedCart.subtotal + calculatedCart.tip;\r\n//   return calculatedCart;\r\n// };\r\n\r\n/* mutating ON PURPOSE, utilize Immer in RTK */\r\nexport const calculateCartOnSuccess = (cartState: CartState): void => {\r\n  cartState.isLoading = false;\r\n  cartState.error = null;\r\n  cartState.subtotal = sumOfCartItems(cartState.items);\r\n  cartState.shipping = cartState.subtotal > 35 ? 0 : 5;\r\n  cartState.total = cartState.shipping + cartState.subtotal + cartState.tip;\r\n};\r\n\r\nexport const getCartItemIdByKey = (\r\n  cart: Cart,\r\n  key: keyof CartItem,\r\n  value: string\r\n): string | undefined => {\r\n  return _.findKey(cart.items, (obj: CartItem) => {\r\n    return obj[key] === value;\r\n  });\r\n};\r\n\r\nexport const getCartItemById = (cart: Cart, itemId: string): CartItem => {\r\n  return cart.items[itemId];\r\n};\r\n\r\nexport const mergeWithUiState = <T extends object>(object: T): T & UiState => {\r\n  return { ...object, isLoading: false, error: null };\r\n};\r\n\r\nexport const cartItemsToCartItemsState = (\r\n  cartItems: CartItems\r\n): CartItemsState => {\r\n  return _.transform<CartItem, CartItemsState>(\r\n    cartItems,\r\n    (cartItemsState, value, key) => {\r\n      return (cartItemsState[key] = mergeWithUiState(value));\r\n    }\r\n  );\r\n};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { AppThunk, RootState } from '../app/store';\r\nimport axios from 'axios';\r\nimport { RegisterFormValues } from '../pages/register/Register';\r\nimport { LoginFormValues } from '../pages/login/Login';\r\nimport {\r\n  FireBaseRegisterResponse,\r\n  FireBaseLoginResponse,\r\n  UserState,\r\n  FireBaseRegisterRequest,\r\n  DatabaseUser,\r\n  FireBaseLoginRequest,\r\n} from './sliceTypes';\r\nimport { firebaseApi } from '../apis/firebase';\r\nimport { keyObjectToObjectWithKey, asyncDispatchWrapper } from '../helpers';\r\nimport _ from 'lodash';\r\n\r\nconst initialState: UserState = {\r\n  email: null,\r\n  address: '',\r\n  joinDate: '',\r\n  phone: '',\r\n  preferredName: '',\r\n  totalTip: 0,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    /* initUser */\r\n    initUserRequest: (_) => {\r\n      return { ...initialState, isLoading: true, error: null };\r\n    },\r\n    initUserSuccess: (_, { payload }: PayloadAction<DatabaseUser>) => {\r\n      return {\r\n        ...payload,\r\n        totalTip: +payload.totalTip,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    },\r\n    initUserFailed: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* Auth */\r\n    authRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    authSuccess: (_, { payload }: PayloadAction<DatabaseUser>) => {\r\n      localStorage.setItem('userEmail', payload.email);\r\n\r\n      return {\r\n        ...payload,\r\n        totalTip: +payload.totalTip,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    },\r\n    authFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* Logout */\r\n    logout: (_) => {\r\n      localStorage.clear();\r\n      return { ...initialState };\r\n    },\r\n    /* Register */\r\n    registerRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    registerSuccess: (_, { payload }: PayloadAction<DatabaseUser>) => {\r\n      localStorage.setItem('userEmail', payload.email);\r\n\r\n      return {\r\n        ...payload,\r\n        totalTip: +payload.totalTip,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    },\r\n    registerFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default userSlice.reducer;\r\nexport const userSelector = (state: RootState) => state.user;\r\nexport const { logout } = userSlice.actions;\r\n\r\nconst {\r\n  authFailure,\r\n  authRequest,\r\n  authSuccess,\r\n  registerFailure,\r\n  registerRequest,\r\n  registerSuccess,\r\n  initUserFailed,\r\n  initUserRequest,\r\n  initUserSuccess,\r\n} = userSlice.actions;\r\n\r\nexport const initUser = (userEmail: string): AppThunk => async (dispatch) => {\r\n  asyncDispatchWrapper(getUserByEmail, dispatch, initUserFailed);\r\n\r\n  async function getUserByEmail() {\r\n    dispatch(initUserRequest());\r\n\r\n    const { data } = await firebaseApi.get<Record<string, DatabaseUser> | {}>(\r\n      '/users.json',\r\n      {\r\n        params: {\r\n          orderBy: '\"email\"',\r\n          equalTo: `\"${userEmail}\"`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!_.isEmpty(data)) {\r\n      dispatch(initUserSuccess(keyObjectToObjectWithKey(data)));\r\n    } else {\r\n      dispatch(initUserFailed('Invalid request'));\r\n    }\r\n  }\r\n};\r\n\r\nexport const registerUser = ({\r\n  address,\r\n  password,\r\n  preferredName,\r\n  phone,\r\n  email,\r\n}: RegisterFormValues): AppThunk => async (dispatch) => {\r\n  dispatch(registerRequest());\r\n\r\n  try {\r\n    const bodyRequest: FireBaseRegisterRequest = {\r\n      email,\r\n      password,\r\n      displayName: preferredName,\r\n      returnSecureToken: true,\r\n    };\r\n    await axios.post<FireBaseRegisterResponse>(\r\n      `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${process.env.REACT_APP_FIREBASE}`,\r\n      bodyRequest\r\n    );\r\n\r\n    const newUser: DatabaseUser = {\r\n      email,\r\n      preferredName,\r\n      phone,\r\n      address,\r\n      joinDate: new Date().toDateString(),\r\n      totalTip: '0',\r\n    };\r\n\r\n    await firebaseApi.post('/users.json', newUser);\r\n    dispatch(registerSuccess(newUser));\r\n  } catch (error) {\r\n    dispatch(\r\n      registerFailure(\r\n        error?.response?.data?.error?.message ?? 'Something went wrong'\r\n      )\r\n    );\r\n  }\r\n};\r\n\r\nexport const authUser = ({\r\n  email,\r\n  password,\r\n}: LoginFormValues): AppThunk => async (dispatch) => {\r\n  dispatch(authRequest());\r\n\r\n  try {\r\n    const bodyRequest: FireBaseLoginRequest = {\r\n      email,\r\n      password,\r\n      returnSecureToken: true,\r\n    };\r\n    await axios.post<FireBaseLoginResponse>(\r\n      `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${process.env.REACT_APP_FIREBASE}`,\r\n      bodyRequest\r\n    );\r\n\r\n    const { data } = await firebaseApi.get<Record<string, DatabaseUser> | {}>(\r\n      '/users.json',\r\n      {\r\n        params: {\r\n          orderBy: '\"email\"',\r\n          equalTo: `\"${email}\"`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!_.isEmpty(data)) {\r\n      dispatch(authSuccess(keyObjectToObjectWithKey(data)));\r\n    } else {\r\n      dispatch(authFailure('Invalid Request'));\r\n    }\r\n  } catch (error) {\r\n    dispatch(\r\n      authFailure(\r\n        error?.response?.data?.error?.message ?? 'Something went wrong'\r\n      )\r\n    );\r\n  }\r\n};\r\n","/* -------------------------------- TextField ------------------------------- */\r\n\r\nimport React from 'react';\r\nimport { FieldElement } from 'react-hook-form';\r\nimport ErrorText, { ErrorTextProps } from './ErrorText';\r\nimport styled, { ThemeProvider, DefaultTheme } from 'styled-components/macro';\r\n\r\nexport interface TextFieldProps<FormValues> {\r\n  register: (ref: FieldElement<FormValues> | null) => void;\r\n  id: string;\r\n  label: string;\r\n  name: keyof FormValues;\r\n  type?:\r\n    | 'text'\r\n    | 'password'\r\n    | 'number'\r\n    | 'tel'\r\n    | 'email'\r\n    | 'time'\r\n    | 'week'\r\n    | 'date'\r\n    | 'datetime-local';\r\n}\r\n\r\nexport function TextField<FormValues>({\r\n  register,\r\n  onChange,\r\n  errors,\r\n  name,\r\n  label,\r\n  id,\r\n  type = 'text',\r\n  disabled,\r\n  required,\r\n  ...htmlInputProps\r\n}: TextFieldProps<FormValues> &\r\n  React.InputHTMLAttributes<HTMLInputElement> &\r\n  ErrorTextProps) {\r\n  const hasError = Boolean(errors[name]);\r\n\r\n  const switchPrimaryColor = (theme: DefaultTheme): DefaultTheme => {\r\n    if (hasError) {\r\n      return { ...theme, primary: theme.error, black: theme.error };\r\n    }\r\n\r\n    if (disabled) {\r\n      return { ...theme, primary: '#ccc', black: '#ccc' };\r\n    }\r\n\r\n    return theme;\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={switchPrimaryColor}>\r\n      <Container>\r\n        <InputWrapper>\r\n          <Input\r\n            {...htmlInputProps}\r\n            id={id}\r\n            type={type}\r\n            name={name}\r\n            ref={register}\r\n            onChange={onChange}\r\n            placeholder=\" \"\r\n            disabled={disabled}\r\n          />\r\n          <Label required={required} htmlFor={id}>\r\n            {label}\r\n          </Label>\r\n          <BottomBar />\r\n        </InputWrapper>\r\n        <ErrorText errors={errors} name={name} />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\nconst Container = styled.div``;\r\n\r\ninterface InputWrapperProps {}\r\nconst InputWrapper = styled.div<InputWrapperProps>`\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  border: none;\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n\r\n  :hover label {\r\n    color: ${(p) => p.theme.primary};\r\n  }\r\n`;\r\n\r\ntype InputProps = {};\r\nconst Input = styled.input.attrs({ marginTop: '2rem', borderBottom: '' })<\r\n  InputProps\r\n>`\r\n  appearance: none;\r\n  display: block;\r\n  font-size: inherit;\r\n\r\n  width: 100%;\r\n  margin-top: ${(p) => p.marginTop};\r\n  padding-bottom: 1rem;\r\n  outline: none;\r\n  background: transparent;\r\n  /* Same with BottomBar */\r\n  border-width: 0 0 1px 0;\r\n  border-style: solid;\r\n  border-color: ${(p) => p.theme.black};\r\n\r\n  cursor: ${(p) => p.disabled && 'not-allowed'};\r\n\r\n  &:placeholder-shown + label {\r\n    /* Y equals to input margin-top */\r\n    transform: translateY(${(p) => p.marginTop});\r\n  }\r\n\r\n  &:focus {\r\n    + label {\r\n      color: ${(p) => p.theme.primary};\r\n      transform: translateY(0) scale(0.9);\r\n    }\r\n\r\n    ~ div {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\ntype LabelProps = {\r\n  required?: boolean;\r\n};\r\nconst Label = styled.label<LabelProps>`\r\n  display: block;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  color: ${(p) => p.theme.black};\r\n\r\n  transform-origin: top left;\r\n  transform: translateY(0) scale(0.9);\r\n  transition: all 200ms cubic-bezier(0, 0, 0.2, 1);\r\n\r\n  ::after {\r\n    content: \"${(p) => p.required && ' *'}\";\r\n  }\r\n`;\r\n\r\ntype BottomBarProps = {};\r\nconst BottomBar = styled.div<BottomBarProps>`\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  /* To spread out from the center */\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n\r\n  margin: 0 auto;\r\n  /* Same with Input's border */\r\n  border-bottom: 2px solid ${(p) => p.theme.primary};\r\n  transition: all 200ms cubic-bezier(0, 0, 0.2, 1);\r\n  width: 0.1px;\r\n`;\r\n","import { Dispatch, ActionCreatorWithPayload } from '@reduxjs/toolkit';\r\n\r\nexport const asyncDispatchWrapper = async (\r\n  callback: () => void,\r\n  dispatch: Dispatch,\r\n  actionFailure?: ActionCreatorWithPayload<any>\r\n) => {\r\n  try {\r\n    await callback();\r\n  } catch (error) {\r\n    console.log(error);\r\n    actionFailure &&\r\n      dispatch(\r\n        actionFailure(error?.response?.data?.error ?? 'Something went wrong')\r\n      );\r\n  }\r\n};\r\n","import _ from 'lodash';\r\nimport { firebaseApi } from '../apis/firebase';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { checkIfLoading } from './loadingSlice';\r\nimport { AppThunk, RootState } from '../app/store';\r\nimport { asyncDispatchWrapper } from '../helpers/redux-helpers';\r\nimport {\r\n  keyObjectToObjectWithKey,\r\n  calculateCartOnSuccess,\r\n  getCartItemById,\r\n  cartItemsToCartItemsState,\r\n} from '../helpers';\r\nimport {\r\n  CartItem,\r\n  IncreaseItemQuantityPayload,\r\n  DatabaseCart,\r\n  CartState,\r\n  CartItemsState,\r\n  Cart,\r\n  UpdateCartPayload,\r\n} from './sliceTypes';\r\n\r\nconst initialState: CartState = {\r\n  id: null,\r\n  userEmail: '',\r\n  items: {},\r\n  tip: 0,\r\n  shipping: 5,\r\n  error: null,\r\n  isLoading: false,\r\n  subtotal: 0,\r\n  total: 0,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState: initialState,\r\n  reducers: {\r\n    /* createCart */\r\n    createCartRequest: () => {\r\n      return { ...initialState, isLoading: true };\r\n    },\r\n    createCartSuccess: (state, { payload }: PayloadAction<string>) => {\r\n      state.id = payload;\r\n      calculateCartOnSuccess(state);\r\n    },\r\n    createCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* fettchCar */\r\n    fetchCartRequest: () => {\r\n      return { ...initialState, isLoading: true };\r\n    },\r\n    fetchCartSuccess: (state, { payload }: PayloadAction<DatabaseCart>) => {\r\n      state.items = payload.items\r\n        ? cartItemsToCartItemsState(payload.items)\r\n        : {};\r\n      state.id = payload.id;\r\n      calculateCartOnSuccess(state);\r\n    },\r\n    fetchCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = true;\r\n      state.error = payload;\r\n    },\r\n    /* -------------------------------- syncCart -------------------------------- */\r\n    syncCartRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    syncCartSuccess: (\r\n      state,\r\n      {\r\n        payload,\r\n      }: PayloadAction<{\r\n        userEmail: string | null;\r\n        cartItemsState?: CartItemsState;\r\n      }>\r\n    ) => {\r\n      state.userEmail = payload.userEmail || '';\r\n      state.isLoading = false;\r\n      state.error = null;\r\n\r\n      if (payload.cartItemsState) {\r\n        state.items = _.merge({}, payload.cartItemsState, state.items);\r\n\r\n        calculateCartOnSuccess(state);\r\n      }\r\n    },\r\n    syncCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* clearCart */\r\n    clearCartRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    clearCartSuccess: (state) => {\r\n      return { ...initialState, userEmail: state.userEmail };\r\n    },\r\n    clearCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* updateCart */\r\n    updateCartRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    updateCartSuccess: (state, { payload }: PayloadAction<Partial<Cart>>) => {\r\n      state = { ...state, ...payload };\r\n      calculateCartOnSuccess(state);\r\n      return state;\r\n    },\r\n    updateCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.error = payload;\r\n      state.isLoading = false;\r\n    },\r\n    /* addItem */\r\n    addItemRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    addItemSucces: (state, { payload }: PayloadAction<CartItem>) => {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.items[payload.id] = { ...payload, isLoading: false, error: null };\r\n      calculateCartOnSuccess(state);\r\n    },\r\n    addItemFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* removeItem */\r\n    removeItemRequest: (state, { payload: itemId }: PayloadAction<string>) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n      const requestingItem = state.items[itemId];\r\n\r\n      if (requestingItem) {\r\n        requestingItem.isLoading = true;\r\n        requestingItem.error = null;\r\n      }\r\n    },\r\n    removeItemSucces: (state, { payload: itemId }: PayloadAction<string>) => {\r\n      const requestingItem = state.items[itemId];\r\n\r\n      if (requestingItem) {\r\n        requestingItem.isLoading = false;\r\n        requestingItem.error = null;\r\n\r\n        state.items = _.omit(state.items, itemId);\r\n        calculateCartOnSuccess(state);\r\n      }\r\n    },\r\n    removeItemFailure: (\r\n      state,\r\n      { payload }: PayloadAction<{ itemId: string; errorMessage: string }>\r\n    ) => {\r\n      const requestingItem = state.items[payload.itemId];\r\n\r\n      if (requestingItem) {\r\n        requestingItem.isLoading = false;\r\n        requestingItem.error = payload.errorMessage;\r\n      }\r\n    },\r\n    /* increaseItemQuantity */\r\n    updateItemQuantityRequest: (\r\n      state,\r\n      { payload: itemId }: PayloadAction<string>\r\n    ) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n      const updatingItem = state.items[itemId];\r\n\r\n      if (updatingItem) {\r\n        updatingItem.isLoading = true;\r\n        updatingItem.error = null;\r\n      }\r\n    },\r\n    updateItemQuantitySuccess: (\r\n      state,\r\n      { payload }: PayloadAction<IncreaseItemQuantityPayload>\r\n    ) => {\r\n      const updatingItem = state.items[payload.itemId];\r\n\r\n      if (updatingItem) {\r\n        updatingItem.isLoading = false;\r\n        updatingItem.error = null;\r\n        updatingItem.quantity = payload.isIncrementAmount\r\n          ? updatingItem.quantity + payload.amount\r\n          : payload.amount;\r\n\r\n        calculateCartOnSuccess(state);\r\n      }\r\n    },\r\n    updateItemQuantityFailure: (\r\n      state,\r\n      { payload }: PayloadAction<{ itemId: string; errorMessage: string }>\r\n    ) => {\r\n      const updatingItem = state.items[payload.itemId];\r\n\r\n      if (updatingItem) {\r\n        updatingItem.isLoading = false;\r\n        updatingItem.error = payload.errorMessage;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport default cartSlice.reducer;\r\nexport const cartSelector = (state: RootState) => state.cart;\r\nexport const itemIsLoadingSelector = (itemId: string) => (\r\n  state: RootState\r\n): boolean | undefined => state.cart.items[itemId]?.isLoading;\r\nexport const cartItemsSelector = (state: RootState) => state.cart.items;\r\nexport const cartIsLoadingSelector = checkIfLoading('cart');\r\nconst {\r\n  updateItemQuantityRequest,\r\n  updateItemQuantitySuccess,\r\n  updateItemQuantityFailure,\r\n  addItemFailure,\r\n  addItemRequest,\r\n  addItemSucces,\r\n  removeItemFailure,\r\n  removeItemRequest,\r\n  removeItemSucces,\r\n  createCartSuccess,\r\n  createCartRequest,\r\n  createCartFailure,\r\n  fetchCartFailure,\r\n  fetchCartRequest,\r\n  fetchCartSuccess,\r\n  syncCartFailure,\r\n  syncCartRequest,\r\n  syncCartSuccess,\r\n  updateCartFailure,\r\n  updateCartRequest,\r\n  updateCartSuccess,\r\n  clearCartFailure,\r\n  clearCartRequest,\r\n  clearCartSuccess,\r\n} = cartSlice.actions;\r\n\r\nexport const initCart = (): AppThunk => async (dispatch) => {\r\n  const localCartId = localStorage.getItem('cartId');\r\n  const userEmail = localStorage.getItem('userEmail');\r\n\r\n  if (userEmail) {\r\n    asyncDispatchWrapper(getWithEmail, dispatch, fetchCartFailure);\r\n  } else if (localCartId) {\r\n    asyncDispatchWrapper(getWithId, dispatch, fetchCartFailure);\r\n  } else {\r\n    asyncDispatchWrapper(postNewCart, dispatch, createCartFailure);\r\n  }\r\n\r\n  async function getWithId() {\r\n    dispatch(fetchCartRequest());\r\n\r\n    const { data } = await firebaseApi.get<DatabaseCart | null>(\r\n      `/cart/${localCartId}.json`\r\n    );\r\n\r\n    if (data) {\r\n      dispatch(fetchCartSuccess(data));\r\n    } else {\r\n      dispatch(fetchCartFailure('Invalid request'));\r\n      localStorage.removeItem('cartId');\r\n\r\n      asyncDispatchWrapper(postNewCart, dispatch, createCartFailure);\r\n    }\r\n  }\r\n\r\n  async function getWithEmail() {\r\n    dispatch(fetchCartRequest());\r\n\r\n    const { data } = await firebaseApi.get<DatabaseCart | {}>(`/cart.json`, {\r\n      params: {\r\n        orderBy: '\"userEmail\"',\r\n        equalTo: `\"${userEmail}\"`,\r\n      },\r\n    });\r\n\r\n    if (!_.isEmpty(data)) {\r\n      dispatch(fetchCartSuccess(keyObjectToObjectWithKey(data)));\r\n    } else {\r\n      dispatch(fetchCartFailure('Invalid request'));\r\n      localStorage.removeItem('email');\r\n\r\n      asyncDispatchWrapper(postNewCart, dispatch, createCartFailure);\r\n    }\r\n  }\r\n\r\n  async function postNewCart() {\r\n    dispatch(createCartRequest());\r\n\r\n    const { data } = await firebaseApi.post<{ name: string }>(\r\n      '/cart.json',\r\n      _.omit(initialState, 'isLoading', 'error', 'subtotal', 'total')\r\n    );\r\n\r\n    const cartId = data.name;\r\n    const patchObject = { id: cartId };\r\n    await firebaseApi.patch<typeof patchObject>(\r\n      `/cart/${cartId}.json`,\r\n      patchObject\r\n    );\r\n\r\n    localStorage.setItem('cartId', cartId);\r\n    dispatch(createCartSuccess(cartId));\r\n  }\r\n};\r\n\r\nexport const syncCart = (): AppThunk => async (dispatch, getState) => {\r\n  asyncDispatchWrapper(getWithId, dispatch, syncCartFailure);\r\n\r\n  async function getWithId() {\r\n    dispatch(syncCartRequest());\r\n\r\n    const stateCartId = getState().cart.id;\r\n    const userEmail = getState().user.email;\r\n\r\n    if (!userEmail || !stateCartId) {\r\n      throw new Error('userEmail or localCartId does not exist');\r\n    } else {\r\n      const { data } = await firebaseApi.get<Record<string, DatabaseCart> | {}>(\r\n        `/cart.json`,\r\n        {\r\n          params: {\r\n            orderBy: '\"userEmail\"',\r\n            equalTo: `\"${userEmail}\"`,\r\n          },\r\n        }\r\n      );\r\n\r\n      await firebaseApi.patch(`/cart/${stateCartId}.json`, { userEmail });\r\n\r\n      if (!_.isEmpty(data)) {\r\n        const databaseCart = _.values(data)[0];\r\n\r\n        await firebaseApi.patch(`/cart/${stateCartId}/items.json`, {\r\n          ...databaseCart.items,\r\n        });\r\n\r\n        const cartItemsState = cartItemsToCartItemsState(databaseCart.items);\r\n\r\n        if (stateCartId !== databaseCart.id) {\r\n          await firebaseApi.delete(`/cart/${databaseCart.id}.json`);\r\n        }\r\n        dispatch(syncCartSuccess({ userEmail, cartItemsState }));\r\n      } else {\r\n        dispatch(syncCartSuccess({ userEmail }));\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const increaseItemQuantity = ({\r\n  itemId,\r\n  amount,\r\n  isIncrementAmount,\r\n}: IncreaseItemQuantityPayload): AppThunk => async (dispatch, getState) => {\r\n  const cart = getState().cart;\r\n  if (cart.id) {\r\n    dispatch(updateItemQuantityRequest(itemId));\r\n\r\n    const item = getCartItemById(cart, itemId);\r\n    const newQuantity = isIncrementAmount ? item.quantity + amount : amount;\r\n\r\n    if (item) {\r\n      try {\r\n        await firebaseApi.patch(`/cart/${cart.id}/items/${itemId}.json`, {\r\n          quantity: newQuantity,\r\n        });\r\n\r\n        dispatch(\r\n          updateItemQuantitySuccess({ itemId, amount, isIncrementAmount })\r\n        );\r\n      } catch (error) {\r\n        dispatch(\r\n          updateItemQuantityFailure({\r\n            itemId,\r\n            errorMessage:\r\n              error?.response?.data?.error ?? 'Something went wrong',\r\n          })\r\n        );\r\n      }\r\n    } else throw new Error('Item not found!');\r\n  } else throw new Error('Cart ID not found!');\r\n};\r\n\r\nexport const addItemToCart = (item: Omit<CartItem, 'id'>): AppThunk => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const cartId = getState().cart.id;\r\n  if (cartId) {\r\n    dispatch(addItemRequest());\r\n    asyncDispatchWrapper(postNewItemToCart, dispatch, addItemFailure);\r\n  } else throw new Error('Cart ID not found!');\r\n\r\n  async function postNewItemToCart() {\r\n    const { data } = await firebaseApi.post<{ name: string }>(\r\n      `/cart/${cartId}/items.json`,\r\n      item\r\n    );\r\n\r\n    const cartItemId = data.name;\r\n    await firebaseApi.patch(`/cart/${cartId}/items/${cartItemId}.json`, {\r\n      id: cartItemId,\r\n    });\r\n    dispatch(addItemSucces({ ...item, id: cartItemId }));\r\n  }\r\n};\r\n\r\nexport const removeItemFromCart = (itemId: string): AppThunk => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const cartId = getState().cart.id;\r\n  if (cartId) {\r\n    dispatch(removeItemRequest(itemId));\r\n\r\n    try {\r\n      await firebaseApi.delete(`/cart/${cartId}/items/${itemId}.json`);\r\n      dispatch(removeItemSucces(itemId));\r\n    } catch (error) {\r\n      dispatch(\r\n        removeItemFailure({\r\n          itemId,\r\n          errorMessage: error?.response?.data?.error ?? 'Something went wrong',\r\n        })\r\n      );\r\n    }\r\n  } else throw new Error('Cart ID not found!');\r\n};\r\n\r\nexport const updateCart = (payload: UpdateCartPayload): AppThunk => async (\r\n  dispatch\r\n) => {\r\n  asyncDispatchWrapper(patchCart, dispatch, updateCartFailure);\r\n\r\n  async function patchCart() {\r\n    dispatch(updateCartRequest());\r\n\r\n    await firebaseApi.patch<UpdateCartPayload>(`/cart/${payload.id}.json`, {\r\n      ...payload,\r\n    });\r\n    dispatch(updateCartSuccess(payload));\r\n  }\r\n};\r\n\r\nexport const clearCart = ({ cartId }: { cartId: string }): AppThunk => async (\r\n  dispatch\r\n) => {\r\n  asyncDispatchWrapper(deleteCart, dispatch, clearCartFailure);\r\n\r\n  async function deleteCart() {\r\n    dispatch(clearCartRequest());\r\n\r\n    await firebaseApi.delete(`/cart/${cartId}.json`);\r\n    dispatch(clearCartSuccess());\r\n  }\r\n};\r\n","import styled, { css } from 'styled-components/macro';\r\n\r\ninterface BaseButtonProps {\r\n  contained?: boolean;\r\n  outlined?: boolean;\r\n  text?: boolean;\r\n  color?: string;\r\n  fontSize?: string;\r\n  shadowed?: boolean;\r\n}\r\n\r\nexport const BaseButton = styled.button<BaseButtonProps>`\r\n  font-size: ${(p) => p.fontSize ?? 'inherit'};\r\n  padding: 0.75rem 1.5rem;\r\n  border: 1px solid transparent;\r\n  border-radius: 10rem;\r\n  cursor: pointer;\r\n  box-shadow: ${(p) => p.shadowed && p.theme.shadow.button};\r\n  transition: all ${(p) => p.theme.transitionSpeed.quick} ease-in;\r\n\r\n  /* :active,\r\n  :hover {\r\n    filter: brightness(0.9);\r\n  } */\r\n\r\n  &:hover {\r\n    transform: translateY(-.2rem);\r\n    box-shadow: 0 1rem 2rem rgba(0,0,0, .15);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 .5rem 1rem rgba(0,0,0, .15);\r\n  }\r\n\r\n  ${(p) =>\r\n    p.contained &&\r\n    css`\r\n      background-color: ${p.color ?? p.theme.primary};\r\n      color: ${p.theme.text};\r\n\r\n      &:hover,\r\n      &:active {\r\n        filter: brightness(0.9);\r\n      }\r\n    `}\r\n\r\n  ${(p) =>\r\n    p.outlined &&\r\n    css`\r\n      background: transparent;\r\n      border-color: ${p.color ?? p.theme.primary};\r\n      color: ${p.color ?? p.theme.primary};\r\n\r\n      &:hover,\r\n      &:active {\r\n        background-color: ${p.color ?? p.theme.primary};\r\n        color: ${p.theme.text};\r\n      }\r\n    `}\r\n\r\n    ${(p) =>\r\n      p.text &&\r\n      css`\r\n        border-bottom: 1px solid ${p.color ?? p.theme.primary};\r\n        border-radius: 0;\r\n        background: transparent;\r\n        padding: 0.25rem 0.5rem;\r\n        color: ${p.color ?? p.theme.primary};\r\n\r\n        &:hover,\r\n        &:active {\r\n          filter: none;\r\n          background: ${p.color ?? p.theme.primary};\r\n          color: ${p.theme.text};\r\n        }\r\n      `}\r\n\r\n      /* IMPORTANT!! Put at the end of css */\r\n      ${(p) =>\r\n        p.disabled &&\r\n        css`\r\n          cursor: not-allowed;\r\n          &,\r\n          &:hover,\r\n          &:active,\r\n          &:link {\r\n            opacity: 0.5;\r\n            color: ${(p) => p.theme.black};\r\n            background: unset;\r\n            border-color: unset;\r\n            box-shadow: unset;\r\n            transform: unset;\r\n          }\r\n        `}\r\n`;\r\n","import styled from 'styled-components/macro';\r\n\r\ninterface BaseFormStyledProps {}\r\n\r\n/**\r\n * @description render a styled <form>\r\n */\r\nexport const BaseForm = styled.form<BaseFormStyledProps>``;\r\n","import { useState } from 'react';\r\n\r\ntype useToggleFn = () => [boolean, () => void];\r\n\r\nexport const useToggle: useToggleFn = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleOpen = () => {\r\n    setIsOpen((prev) => !prev);\r\n  };\r\n\r\n  return [isOpen, toggleOpen];\r\n};\r\n","import { useState, useCallback } from 'react';\r\n\r\n/**\r\n * @description return the currentStep and step controllers\r\n * @param numberOfSteps the total number of steps, counting from 1\r\n */\r\nexport const useFormStep = (\r\n  numberOfSteps: number\r\n): [number, () => void, () => void, (step: number) => void] => {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n\r\n  const nextStep = useCallback(() => {\r\n    if (currentStep <= numberOfSteps) {\r\n      setCurrentStep((prev) => prev + 1);\r\n    }\r\n  }, [currentStep, numberOfSteps]);\r\n\r\n  const prevStep = useCallback(() => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep((prev) => prev - 1);\r\n    }\r\n  }, [currentStep]);\r\n\r\n  const jumpToStep = useCallback(\r\n    (step: number) => {\r\n      if (step >= 1 && step <= numberOfSteps) {\r\n        setCurrentStep(step);\r\n      } else {\r\n        throw new Error('selected step is out of range');\r\n      }\r\n    },\r\n    [numberOfSteps]\r\n  );\r\n\r\n  return [currentStep, nextStep, prevStep, jumpToStep];\r\n};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { RootState } from '../app/store';\r\n\r\ninterface LoadingState {\r\n  isLoadings: { [actionName: string]: boolean };\r\n}\r\n\r\nconst loadingState: LoadingState = {\r\n  isLoadings: {},\r\n};\r\n\r\nexport const loadingSlice = createSlice({\r\n  name: 'ui',\r\n  initialState: loadingState,\r\n  reducers: {\r\n    actionStart: (\r\n      state,\r\n      { payload }: PayloadAction<[string, 'request' | 'success' | 'failure']>\r\n    ) => {\r\n      const [actionName, actionState] = payload;\r\n      state.isLoadings = {\r\n        ...state.isLoadings,\r\n        [actionName]: actionState === 'request',\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default loadingSlice.reducer;\r\nexport const { actionStart } = loadingSlice.actions;\r\nexport const checkIfLoading = (actionName: string) => (state: RootState) =>\r\n  state.loading.isLoadings[actionName];\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { ErrorMessage, FormContextValues } from 'react-hook-form';\r\n\r\nexport interface ErrorTextProps {\r\n  name: string;\r\n  errors: FormContextValues['errors'];\r\n}\r\n\r\n/**\r\n * @description a text hint for an invalid input\r\n * @param name must be the same with the `name` of the input this text connected with\r\n * @param errors must be the same with the `errors` of the connected input; errors from react-hook-form/useForm()\r\n */\r\nconst ErrorText: React.FC<ErrorTextProps> = ({ name, errors }) => {\r\n  return (\r\n    <Container>\r\n      <ErrorMessage errors={errors} name={name}>\r\n        {({ message, messages }) => {\r\n          if (messages) {\r\n            return Object.entries(messages).map(([type, message]) => (\r\n              <Text key={type}>{message}</Text>\r\n            ));\r\n          }\r\n\r\n          return <p>{message}</p>;\r\n        }}\r\n      </ErrorMessage>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ErrorText;\r\n\r\n/* To avoid that line jump */\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  min-height: 2rem;\r\n`;\r\n\r\ninterface TextProps {}\r\nconst Text = styled.p<TextProps>`\r\n  font-size: inherit;\r\n  color: ${(p) => p.theme.error};\r\n  font-style: italic;\r\n`;\r\n"],"sourceRoot":""}