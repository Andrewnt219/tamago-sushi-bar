(this.webpackJsonptamago=this.webpackJsonptamago||[]).push([[4],{1288:function(e,t,n){e.exports=n.p+"static/media/tick.21589d14.svg"},1291:function(e,t,n){"use strict";n.r(t);var a=n(15),r=n(3),i=n(1),o=n.n(i),d=n(41),l=n(44),c=n(27),m=n(50),s=n(60);function u(e){var t=e.id,n=e.name,r=e.price,d=e.quantity,u=e.imgSrc,I=o.a.useRef(!0),v=Object(i.useState)(d),k=Object(a.a)(v,2),j=k[0],O=k[1],N=Object(c.b)(),z=Object(c.c)(Object(m.h)(t));return Object(i.useEffect)((function(){var e;return I.current?I.current=!1:e=setTimeout((function(){N(j<=0?Object(m.i)(t):Object(m.f)({itemId:t,amount:j,isIncrementAmount:!1}))}),300),function(){clearInterval(e)}}),[j,t,N]),o.a.createElement(p,null,o.a.createElement(f,{src:u}),o.a.createElement(g,null,o.a.createElement(h,null,n),o.a.createElement(b,null,o.a.createElement(C,{disabled:0===j,onClick:function(){O((function(e){return e-1}))}},o.a.createElement(l.i,null)),o.a.createElement(w,null,j),o.a.createElement(C,{isLeftButton:!0,onClick:function(){O((function(e){return e+1}))}},o.a.createElement(l.b,null)),z&&o.a.createElement(y,null,o.a.createElement(s.a,{size:"1rem"}))),o.a.createElement(_,{onClick:function(){N(Object(m.i)(t))}},"Remove item from cart")),o.a.createElement(E,null,o.a.createElement(h,null,"$",(j*r).toFixed(2)),o.a.createElement(x,null,"$",r.toFixed(2)," each")))}var p=r.d.li.withConfig({displayName:"CartItem__Container",componentId:"kpgaau-0"})(["display:grid;grid-template-columns:20% auto max-content;column-gap:1.5rem;align-items:flex-start;padding:1rem 1rem;background:",";box-shadow:",";border-radius:4px;"],(function(e){return e.theme.white}),(function(e){return e.theme.shadow.button})),f=r.d.img.withConfig({displayName:"CartItem__Image",componentId:"kpgaau-1"})(["width:100%;height:8rem;border-radius:4px;object-fit:cover;object-position:center;"]),g=r.d.div.withConfig({displayName:"CartItem__SubContainer",componentId:"kpgaau-2"})(["display:grid;row-gap:0.8rem;"]),h=r.d.h4.withConfig({displayName:"CartItem__PrimaryText",componentId:"kpgaau-3"})(["font-size:1.2rem;font-weight:600;font-family:'Montserrat',sans-serif;"]),b=r.d.div.withConfig({displayName:"CartItem__QuantityContainer",componentId:"kpgaau-4"})(["display:flex;height:2rem;& > *:not(:last-child){margin-right:0.5rem;}"]),w=r.d.span.withConfig({displayName:"CartItem__Quantity",componentId:"kpgaau-5"})(["display:inline-block;background:transparent;padding:0.25rem 0.5rem;border:1px solid #ccc;width:4rem;text-align:center;height:100%;border-radius:4px;"]),C=Object(r.d)(d.a).attrs({outlined:!0}).withConfig({displayName:"CartItem__QuantityButton",componentId:"kpgaau-6"})(["width:2rem;height:100%;padding:0;border-radius:4px;display:inline-flex;justify-content:center;align-items:center;transition:all 150ms ease-out;&:hover{transform:none;box-shadow:none;}&:active{transform:translate(",",2px);box-shadow:none;}"],(function(e){return e.isLeftButton?"1px":"-1px"})),y=r.d.span.withConfig({displayName:"CartItem__SpinnerWrapper",componentId:"kpgaau-7"})(["display:inline-flex;justify-content:center;align-items:center;"]),_=r.d.button.withConfig({displayName:"CartItem__RemoveButton",componentId:"kpgaau-8"})(["padding:0;padding-bottom:0.2rem;justify-self:flex-start;font-size:inherit;background:transparent;border:none;border-bottom:1px solid currentColor;cursor:pointer;color:",";transition:all 200ms ease;:hover{color:",";border-bottom-color:",";}"],(function(e){return e.theme.black}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),x=r.d.span.withConfig({displayName:"CartItem__Price",componentId:"kpgaau-9"})(["display:flex;flex-direction:column;"]),E=r.d.div.withConfig({displayName:"CartItem__ProductPrice",componentId:"kpgaau-10"})([""]);function I(e){var t=e.cartItems;return o.a.createElement(v,null,Object.values(t).map((function(e){return o.a.createElement(u,Object.assign({key:e.id},e))})))}var v=r.d.ul.withConfig({displayName:"CartItems__Container",componentId:"sc-1mf4bar-0"})(["grid-area:items;display:grid;row-gap:2rem;"]),k=n(64),j=n(61),O=n(39),N=n(33),z=n(58);function S(e){var t=e.onOrderCreated,n=Object(c.c)(N.g),a=n.email,r=n.address,i=Object(c.c)(z.g),d=i.isLoading,l=i.error,m=i.orderIsCreated,u=Object(c.b)(),p=Object(k.b)({validateCriteriaMode:"all",mode:"onChange",defaultValues:{email:null!==a&&void 0!==a?a:"",address:r}}),f=p.handleSubmit,g=p.register,h=p.errors,b=f((function(e){u(Object(z.e)(e))}));return m&&!l&&t&&t(),o.a.createElement(T,{noValidate:!0,onSubmit:b},o.a.createElement(O.a,{required:!0,id:"checkout-email",name:"email",label:"Email",type:"email",errors:h,register:g({required:"Email is required for updates",pattern:{value:/.*@.*\..+/,message:"Not a valid email"}})}),o.a.createElement(O.a,{required:!0,id:"checout-address",name:"address",label:"Address",type:"text",errors:h,register:g({required:"Address is required"})}),o.a.createElement(M,{type:"submit"},d?o.a.createElement(P,null,o.a.createElement(s.a,null)):"ORDER"),l&&o.a.createElement(R,null,l))}var T=Object(r.d)(j.a).withConfig({displayName:"Checkout__Form",componentId:"sc-7j48k2-0"})([""]),M=Object(r.d)(d.a).attrs({contained:!0}).withConfig({displayName:"Checkout__SubmitButton",componentId:"sc-7j48k2-1"})(["border-radius:4px;display:flex;justify-content:center;align-items:center;width:100%;"]),P=r.d.span.withConfig({displayName:"Checkout__SpinnerWrapper",componentId:"sc-7j48k2-2"})([""]),R=r.d.span.withConfig({displayName:"Checkout__ErrorText",componentId:"sc-7j48k2-3"})(["display:inline-block;margin-top:2rem;color:",";"],(function(e){return e.theme.error})),q=n(24),F=n(79),L=n(1288),B=n.n(L);function Y(e){var t=e.onClick;return o.a.createElement(A,{onClick:t},o.a.createElement(H,{src:B.a}),o.a.createElement(Q,null,"Your order is on its way"),o.a.createElement(V,null,"(Click to dismiss)"))}var A=r.d.div.withConfig({displayName:"CheckoutModal__Container",componentId:"wlx44w-0"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);z-index:",";background:",";box-shadow:",";padding:2rem 4rem;display:grid;justify-items:center;row-gap:1rem;width:max-content;cursor:pointer;"],(function(e){return e.theme.zIndex.hg}),(function(e){return e.theme.white}),(function(e){return e.theme.shadow.button})),H=r.d.img.withConfig({displayName:"CheckoutModal__Icon",componentId:"wlx44w-1"})(["height:4rem;"]),Q=r.d.span.withConfig({displayName:"CheckoutModal__Text",componentId:"wlx44w-2"})(["font-size:2rem;"]),V=r.d.span.withConfig({displayName:"CheckoutModal__SubText",componentId:"wlx44w-3"})(["font-style:italic;"]);function $(e,t){return t?o.a.createElement(s.a,{size:"1.2rem"}):o.a.createElement(Z,null,"$",e.toFixed(2))}var D=r.d.div.withConfig({displayName:"Cart__Container",componentId:"sc-1d7uwzv-0"})(["position:relative;margin:2rem;display:grid;row-gap:2rem;grid-template-areas:'header' 'summary' 'items';@media screen and (min-width:","){grid-template-areas:'header header' 'items  summary';grid-template-columns:1fr max-content;align-items:flex-start;column-gap:3rem;}"],(function(e){return e.theme.breakpoints.md})),G=r.d.p.withConfig({displayName:"Cart__EmptyCartText",componentId:"sc-1d7uwzv-1"})(["a{color:",";}"],(function(e){return e.theme.primary})),J=r.d.h2.withConfig({displayName:"Cart__Header",componentId:"sc-1d7uwzv-2"})(["grid-area:header;"]),W=r.d.div.withConfig({displayName:"Cart__Summary",componentId:"sc-1d7uwzv-3"})(["grid-area:summary;display:grid;row-gap:1rem;max-width:32rem;padding:1rem;border-radius:4px;border:1px solid black;text-align:center;"]),U=r.d.h3.withConfig({displayName:"Cart__SummaryHeader",componentId:"sc-1d7uwzv-4"})(["margin-left:-1rem;margin-top:-1rem;width:calc(100% + 2rem);padding:1rem;background:",";color:",";"],(function(e){return e.theme.primary}),(function(e){return e.theme.white})),K=r.d.div.withConfig({displayName:"Cart__SubField",componentId:"sc-1d7uwzv-5"})(["display:flex;font-weight:500;width:100%;justify-content:space-between;"]),X=r.d.div.withConfig({displayName:"Cart__Field",componentId:"sc-1d7uwzv-6"})(["display:flex;justify-content:space-between;font-weight:700;font-size:1.3rem;"]),Z=r.d.span.withConfig({displayName:"Cart__Value",componentId:"sc-1d7uwzv-7"})([""]),ee=r.d.div.withConfig({displayName:"Cart__InputContainer",componentId:"sc-1d7uwzv-8"})(["display:flex;flex-direction:column;align-items:flex-end;"]),te=r.d.input.withConfig({displayName:"Cart__TipInput",componentId:"sc-1d7uwzv-9"})(["appearance:textfield;text-align:right;width:3rem;border-width:0 0 1px 0;border-style:solid;border-color:",";outline:none;padding-bottom:0.25rem;:hover{}:placeholder-shown + p{visibility:hidden;transform:translateY(-2px);}"],(function(e){return e.theme.black})),ne=r.d.p.withConfig({displayName:"Cart__TipMessage",componentId:"sc-1d7uwzv-10"})(["font-size:inherit;font-weight:normal;transition:all 100ms ease-in;color:",";"],(function(e){return e.theme.primary})),ae=Object(r.d)(d.a).attrs({contained:!0}).withConfig({displayName:"Cart__Button",componentId:"sc-1d7uwzv-11"})(["border-radius:4px;display:flex;justify-content:center;align-items:center;width:100%;:hover{box-shadow:none;transform:none;}:active{box-shadow:none;transform:translateY(2px);}"]);t.default=function(){Object(q.d)("Cart"),Object(q.c)();var e=Object(c.c)(m.c),t=Object(i.useState)(!1),n=Object(a.a)(t,2),r=n[0],d=n[1],l=Object(i.useState)(!1),s=Object(a.a)(l,2),u=s[0],p=s[1],f=Object(i.useState)(""),g=Object(a.a)(f,2),h=g[0],b=g[1],w=Object(c.b)();return o.a.useEffect((function(){var t=setTimeout((function(){e.id&&+h>=0&&w(Object(m.k)({id:e.id,tip:+h}))}),200);return function(){return clearTimeout(t)}}),[h,w,e.id]),o.a.createElement(D,null,u&&o.a.createElement(Y,{onClick:function(){w(Object(z.f)()),p(!1)}}),o.a.createElement(J,null,"Your Tray"),o.a.createElement(W,null,o.a.createElement(U,null,"Order Summary"),o.a.createElement(K,null,"Subtotal",$(e.subtotal,e.isLoading)),o.a.createElement(K,null,"Shipping",$(e.shipping,e.isLoading)),o.a.createElement(K,null,"Tip",o.a.createElement(ee,null,o.a.createElement(te,{type:"number",placeholder:"0.00",min:"0",value:h,onChange:function(e){return b(e.target.value)}}),o.a.createElement(ne,null,+h>=0?"Thank you!":"Great advice!"))),o.a.createElement(X,null,"Total",$(e.total,e.isLoading)),r?o.a.createElement(S,{onOrderCreated:function(){b("0"),p(!0),d(!1)}}):o.a.createElement(ae,{disabled:e.isLoading||0===e.subtotal,onClick:function(){return d(!0)}},0===e.subtotal?"YOUR CART IS EMPTY":"PROCEED TO SHIPPING")),0===e.subtotal?o.a.createElement(G,null,"Find delicious dishes in ",o.a.createElement(F.a,{to:"/menu"},"Menu")):o.a.createElement(I,{cartItems:e.items}))}}}]);
//# sourceMappingURL=4.21c10ca3.chunk.js.map