(this.webpackJsonptamago=this.webpackJsonptamago||[]).push([[5],{1290:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a(3),i=a(1),o=a.n(i),d=a(41),l=a(44),m=a(27),c=a(50),s=a(60);function u(e){var t=e.id,a=e.name,r=e.price,d=e.quantity,u=e.imgSrc,I=o.a.useRef(!0),x=Object(i.useState)(d),j=Object(n.a)(x,2),k=j[0],O=j[1],N=Object(m.b)(),S=Object(m.c)(Object(c.h)(t));return Object(i.useEffect)((function(){var e;return I.current?I.current=!1:e=setTimeout((function(){N(k<=0?Object(c.i)(t):Object(c.f)({itemId:t,amount:k,isIncrementAmount:!1}))}),300),function(){clearInterval(e)}}),[k,t,N]),o.a.createElement(p,null,o.a.createElement(f,{src:u}),o.a.createElement(g,null,o.a.createElement(h,null,a),o.a.createElement(b,null,o.a.createElement(C,{disabled:0===k,onClick:function(){O((function(e){return e-1}))}},o.a.createElement(l.i,null)),o.a.createElement(y,null,k),o.a.createElement(C,{isLeftButton:!0,onClick:function(){O((function(e){return e+1}))}},o.a.createElement(l.b,null)),S&&o.a.createElement(w,null,o.a.createElement(s.a,{size:"1rem"}))),o.a.createElement(_,{onClick:function(){N(Object(c.i)(t))}},"Remove item from cart")),o.a.createElement(E,null,o.a.createElement(h,null,"$",(k*r).toFixed(2)),o.a.createElement(v,null,"$",r.toFixed(2)," each")))}var p=r.d.li.withConfig({displayName:"CartItem__Container",componentId:"kpgaau-0"})(["display:grid;grid-template-columns:20% auto max-content;column-gap:1.5rem;align-items:flex-start;padding:1rem 1rem;background:",";box-shadow:",";border-radius:4px;"],(function(e){return e.theme.white}),(function(e){return e.theme.shadow.button})),f=r.d.img.withConfig({displayName:"CartItem__Image",componentId:"kpgaau-1"})(["width:100%;height:8rem;border-radius:4px;object-fit:cover;object-position:center;"]),g=r.d.div.withConfig({displayName:"CartItem__SubContainer",componentId:"kpgaau-2"})(["display:grid;row-gap:0.8rem;"]),h=r.d.h4.withConfig({displayName:"CartItem__PrimaryText",componentId:"kpgaau-3"})(["font-size:1.2rem;font-weight:600;font-family:'Montserrat',sans-serif;"]),b=r.d.div.withConfig({displayName:"CartItem__QuantityContainer",componentId:"kpgaau-4"})(["display:flex;height:2rem;& > *:not(:last-child){margin-right:0.5rem;}"]),y=r.d.span.withConfig({displayName:"CartItem__Quantity",componentId:"kpgaau-5"})(["display:inline-block;background:transparent;padding:0.25rem 0.5rem;border:1px solid #ccc;width:4rem;text-align:center;height:100%;border-radius:4px;"]),C=Object(r.d)(d.a).attrs({outlined:!0}).withConfig({displayName:"CartItem__QuantityButton",componentId:"kpgaau-6"})(["width:2rem;height:100%;padding:0;border-radius:4px;display:inline-flex;justify-content:center;align-items:center;transition:all 150ms ease-out;&:hover{transform:none;box-shadow:none;}&:active{transform:translate(",",2px);box-shadow:none;}"],(function(e){return e.isLeftButton?"1px":"-1px"})),w=r.d.span.withConfig({displayName:"CartItem__SpinnerWrapper",componentId:"kpgaau-7"})(["display:inline-flex;justify-content:center;align-items:center;"]),_=r.d.button.withConfig({displayName:"CartItem__RemoveButton",componentId:"kpgaau-8"})(["padding:0;padding-bottom:0.2rem;justify-self:flex-start;font-size:inherit;background:transparent;border:none;border-bottom:1px solid currentColor;cursor:pointer;color:",";transition:all 200ms ease;:hover{color:",";border-bottom-color:",";}"],(function(e){return e.theme.black}),(function(e){return e.theme.primary}),(function(e){return e.theme.primary})),v=r.d.span.withConfig({displayName:"CartItem__Price",componentId:"kpgaau-9"})(["display:flex;flex-direction:column;"]),E=r.d.div.withConfig({displayName:"CartItem__ProductPrice",componentId:"kpgaau-10"})([""]);function I(e){var t=e.cartItems;return o.a.createElement(x,null,Object.values(t).map((function(e){return o.a.createElement(u,Object.assign({key:e.id},e))})))}var x=r.d.ul.withConfig({displayName:"CartItems__Container",componentId:"sc-1mf4bar-0"})(["grid-area:items;display:grid;row-gap:2rem;"]),j=a(64),k=a(61),O=a(39),N=a(33),S=a(58);function z(e){var t=e.onFormSubmitted,a=Object(m.c)(N.g),n=a.email,r=a.address,i=Object(m.c)(S.f).isLoading,d=Object(m.b)(),l=Object(j.b)({validateCriteriaMode:"all",mode:"onChange",defaultValues:{email:null!==n&&void 0!==n?n:"",address:r}}),c=l.handleSubmit,u=l.register,p=l.errors,f=c((function(e){d(Object(S.e)(e)),t&&t()}));return o.a.createElement(T,{noValidate:!0,onSubmit:f},o.a.createElement(O.a,{required:!0,id:"checkout-email",name:"email",label:"Email",type:"email",errors:p,register:u({required:"Email is required for updates",pattern:{value:/.*@.*\..+/,message:"Not a valid email"}})}),o.a.createElement(O.a,{required:!0,id:"checout-address",name:"address",label:"Address",type:"text",errors:p,register:u({required:"Address is required"})}),o.a.createElement(F,{type:"submit"},i?o.a.createElement(P,null,o.a.createElement(s.a,null)):"ORDER"))}var T=Object(r.d)(k.a).withConfig({displayName:"Checkout__Form",componentId:"sc-7j48k2-0"})([""]),F=Object(r.d)(d.a).attrs({contained:!0}).withConfig({displayName:"Checkout__SubmitButton",componentId:"sc-7j48k2-1"})(["border-radius:4px;display:flex;justify-content:center;align-items:center;width:100%;"]),P=r.d.span.withConfig({displayName:"Checkout__SpinnerWrapper",componentId:"sc-7j48k2-2"})([""]),R=a(24),q=a(79);function L(e,t){return t?o.a.createElement(s.a,{size:"1.2rem"}):o.a.createElement($,null,"$",e.toFixed(2))}var B=r.d.div.withConfig({displayName:"Cart__Container",componentId:"sc-1d7uwzv-0"})(["position:relative;margin:2rem;display:grid;row-gap:2rem;grid-template-areas:'header' 'summary' 'items';@media screen and (min-width:","){grid-template-areas:'header header' 'items  summary';grid-template-columns:1fr max-content;align-items:flex-start;column-gap:3rem;}"],(function(e){return e.theme.breakpoints.md})),M=r.d.p.withConfig({displayName:"Cart__EmptyCartText",componentId:"sc-1d7uwzv-1"})(["a{color:",";}"],(function(e){return e.theme.primary})),Y=r.d.h2.withConfig({displayName:"Cart__Header",componentId:"sc-1d7uwzv-2"})(["grid-area:header;"]),A=r.d.div.withConfig({displayName:"Cart__Summary",componentId:"sc-1d7uwzv-3"})(["grid-area:summary;display:grid;row-gap:1rem;max-width:32rem;padding:1rem;border-radius:4px;border:1px solid black;text-align:center;"]),H=r.d.h3.withConfig({displayName:"Cart__SummaryHeader",componentId:"sc-1d7uwzv-4"})(["margin-left:-1rem;margin-top:-1rem;width:calc(100% + 2rem);padding:1rem;background:",";color:",";"],(function(e){return e.theme.primary}),(function(e){return e.theme.white})),Q=r.d.div.withConfig({displayName:"Cart__SubField",componentId:"sc-1d7uwzv-5"})(["display:flex;font-weight:500;width:100%;justify-content:space-between;"]),V=r.d.div.withConfig({displayName:"Cart__Field",componentId:"sc-1d7uwzv-6"})(["display:flex;justify-content:space-between;font-weight:700;font-size:1.3rem;"]),$=r.d.span.withConfig({displayName:"Cart__Value",componentId:"sc-1d7uwzv-7"})([""]),D=r.d.div.withConfig({displayName:"Cart__InputContainer",componentId:"sc-1d7uwzv-8"})(["display:flex;flex-direction:column;align-items:flex-end;"]),G=r.d.input.withConfig({displayName:"Cart__TipInput",componentId:"sc-1d7uwzv-9"})(["appearance:textfield;text-align:right;width:3rem;border-width:0 0 1px 0;border-style:solid;border-color:",";outline:none;padding-bottom:0.25rem;:hover{}:placeholder-shown + p{visibility:hidden;transform:translateY(-2px);}"],(function(e){return e.theme.black})),J=r.d.p.withConfig({displayName:"Cart__TipMessage",componentId:"sc-1d7uwzv-10"})(["font-size:inherit;font-weight:normal;transition:all 100ms ease-in;color:",";"],(function(e){return e.theme.primary})),W=Object(r.d)(d.a).attrs({contained:!0}).withConfig({displayName:"Cart__Button",componentId:"sc-1d7uwzv-11"})(["border-radius:4px;display:flex;justify-content:center;align-items:center;width:100%;:hover{box-shadow:none;transform:none;}:active{box-shadow:none;transform:translateY(2px);}"]);t.default=function(){Object(R.d)("Cart"),Object(R.c)();var e=Object(m.c)(c.c),t=Object(i.useState)(!1),a=Object(n.a)(t,2),r=a[0],d=a[1],l=Object(i.useState)(""),s=Object(n.a)(l,2),u=s[0],p=s[1],f=Object(m.b)();return o.a.useEffect((function(){var t=setTimeout((function(){e.id&&+u>=0&&f(Object(c.k)({id:e.id,tip:+u}))}),200);return function(){return clearTimeout(t)}}),[u,f,e.id]),o.a.createElement(B,null,o.a.createElement(Y,null,"Your Tray"),o.a.createElement(A,null,o.a.createElement(H,null,"Order Summary"),o.a.createElement(Q,null,"Subtotal",L(e.subtotal,e.isLoading)),o.a.createElement(Q,null,"Shipping",L(e.shipping,e.isLoading)),o.a.createElement(Q,null,"Tip",o.a.createElement(D,null,o.a.createElement(G,{type:"number",placeholder:"0.00",min:"0",value:u,onChange:function(e){return p(e.target.value)}}),o.a.createElement(J,null,+u>=0?"Thank you!":"Great advice!"))),o.a.createElement(V,null,"Total",L(e.total,e.isLoading)),r?o.a.createElement(z,{onFormSubmitted:function(){return d(!1)}}):o.a.createElement(W,{disabled:e.isLoading||0===e.subtotal,onClick:function(){return d(!0)}},0===e.subtotal?"YOUR CART IS EMPTY":"PROCEED TO SHIPPING")),0===e.subtotal?o.a.createElement(M,null,"Find delicious dishes in ",o.a.createElement(q.a,{to:"/menu"},"Menu")):o.a.createElement(I,{cartItems:e.items}))}}}]);
//# sourceMappingURL=5.0a6a0ff3.chunk.js.map