{"version":3,"sources":["features/loadingSlice.ts","components/ui/form/ErrorText.tsx","components/ui/LoadingScreen/Spinner/Spinner.tsx","components/navigation/StyledLink.tsx","components/ui/LoadingScreen/LoadingScreen.tsx","asset/logo.svg","asset/textLogo.svg","theme/lightTheme.ts","theme/GlobalStyle.ts","components/navigation/StyledNavLink.tsx","components/navigation/desktop/DesktopNavigationItem.tsx","components/navigation/desktop/DesktopNavigationItems.tsx","components/ui/BaseLogo.tsx","components/navigation/desktop/AppBar.tsx","context/CssContext.ts","components/navigation/mobile/MobileNavigationItem.tsx","components/navigation/mobile/MobileNavigationItems.tsx","components/navigation/mobile/PopupMenu.tsx","components/navigation/mobile/Hamburger.tsx","components/navigation/footer/SocialMediaIcon.tsx","components/navigation/footer/SocialMediaIcons.tsx","components/navigation/footer/Footer.tsx","hoc/Layout.tsx","pages/userDashboard/components/Order.tsx","pages/userDashboard/components/Orders.tsx","pages/userDashboard/components/UserProfile.tsx","pages/userDashboard/UserDashboard.tsx","components/ui/form/ControllerInput.tsx","components/ui/form/ControllerInputsGroup.tsx","pages/reservation/components/ReservationUIComponents.tsx","pages/reservation/components/ReservationForm1.tsx","pages/reservation/components/ReservationForm2.tsx","pages/reservation/Reservation.tsx","hook/useFormState.ts","pages/empty/Empty.tsx","pages/orderDetail/components/ItemDetail.tsx","pages/orderDetail/components/ItemDetailsHeader.tsx","pages/orderDetail/components/ItemDetailsFooter.tsx","pages/orderDetail/OrderDetail.tsx","components/navigation/ProtectedRoute.tsx","pages/login/Login.tsx","pages/register/Register.tsx","App.tsx","features/counter/counterSlice.ts","app/store.ts","index.tsx","apis/firebase.ts","hook/useToggle.ts","hook/useScroll.ts","hook/useFormStep.ts","hook/useTitle.ts","hook/useScrollToTop.ts","helpers/helpers.ts","helpers/cartHelpers.ts","features/userSlice.ts","components/ui/form/TextField.tsx","helpers/redux-helpers.ts","features/cartSlice.ts","features/orderSlice.ts","components/ui/BaseButton.tsx","components/ui/form/BaseForm.tsx"],"names":["loadingSlice","createSlice","name","initialState","isLoadings","reducers","actionStart","state","payload","actionName","actionState","actions","checkIfLoading","loading","ErrorText","errors","Container","message","messages","Object","entries","map","type","Text","key","styled","div","p","theme","error","skChase","keyframes","size","skChaseDot","skyChaseDotBefore","Dot","color","primary","Spinner","className","numberOfDots","dots","index","push","createDots","Link","forwardRef","ref","children","props","StyledLink","subtleBackground","zIndex","top","SpinnerContainer","h2","LoadingScreen","useTheme","useEffect","html","document","querySelector","style","overflow","module","exports","lightTheme","yellow","brown","pink","darkBlue","lightBlue","h1","text","bg1","bg2","black","grey","white","formTheme","strongBackground","blackBackground","hg","md","lw","breakpoints","xl","lg","sm","xs","xxs","shadow","button","paragraph","section","transitionSpeed","quick","subtle","slow","GlobalStyle","createGlobalStyle","StyledNavLink","activeClassName","DesktopNavigationItem","StyledLi","li","DesktopNavigationItems","StyledNavigationItems","to","exact","ul","BaseLogo","img","attrs","src","withText","TextLogo","LogoImg","AppBar","height","useInView","isInView","matchLandingPage","useRouteMatch","path","StaticAppBar","id","isOnLandingPage","Boolean","FixedAppBar","nav","css","CssContext","React","createContext","appbarHeight","MobileNavigationItem","Icon","IconWrapper","fill","span","MobileNavigationItems","StyledMobileNavigationItems","MdHome","MdRestaurantMenu","MdBook","MdShoppingCart","MdDashboard","PopupMenu","Hamburger","useToggle","menuIsOpen","toggleMenu","HamburgerIcon","contained","onClick","Line","active","BaseButton","SocialMedia","fillColor","href","defaultTheme","Filter","a","SocialMediaIcons","Footer","Logo","footer","Layout","Provider","value","Main","main","rgba","LogoWrapper","Details","DateText","h3","PurchaseType","PurchaseTypeText","Price","PriceText","Order","order","createdDate","total","pathname","format","Date","toFixed","Orders","orders","Math","round","random","UserProfile","PrimaryInfo","Avatar","Heading","SubHeading","SubInfo","Info","Value","Field","ValueUnit","h4","Header","UserDashboard","useTitle","useScrollToTop","dispatch","useDispatch","useSelector","ordersSelector","ordersArray","values","logout","initCart","length","ControllerInput","onChange","label","register","htmlRadioAttrs","Input","hidden","Label","htmlFor","InputButton","input","ControllerInputsGroup","controllers","handleChange","defaultCheckedValue","GroupName","Controllers","controllerProps","defaultChecked","BaseReservationForm","BaseForm","SubmitButton","ReservationForm1","onSubmit","formValues","isSubmittable","radios","noValidate","TextField","required","preferredName","email","pattern","prefix","disabled","outlined","maxFutureDate","add","days","minDate","overwritten","DatePicker","KeyboardDatePicker","TimePicker","KeyboardTimePicker","ReservationForm2","handleDateChange","inputName","date","inputData","currentTarget","toString","utils","DateFnsUtils","autoOk","disableToolbar","variant","margin","inputRef","maxDate","maxDateMessage","minDateMessage","KeyboardButtonProps","minutesStep","ampm","keyboardIcon","time","guests","FormContainer","FormHeader","FormBody","FormSelectButtons","FormSelectButton","Image","Reservation","form","useFormStep","currentStep","nextStep","jumpToStep","useState","completedStep","setCompletedStep","useForm","mode","validateCriteriaMode","handleSubmit","formState","triggerValidation","setFormState","e","prev","useFormState","toDateString","roundToNearestMinutes","nearestTo","onSubmitStep1","_","__","onSubmitStep2","isValid","Empty","ItemDetail","price","quantity","ItemInfo","ItemName","ItemPrice","Quantity","ItemTotalPrice","ItemDetailsHeader","ItemDetailsFooter","Fragment","Sub","Primary","OrderDetail","orderId","useParams","displayedOrderSelector","fetchOrder","SubHeader","ItemDetails","items","ProtectedRoute","routeProps","isAuthenticated","userSelector","render","location","from","Login","useLocation","history","useHistory","formData","authUser","Register","defaultValues","getValues","data","registerUser","validate","password","Menu","lazy","Landing","Cart","App","cartId","cartSelector","userEmail","localStorage","getItem","initUser","fetchOrders","syncCart","component","Suspense","fallback","counterSlice","increment","decrement","incrementByAmount","action","store","configureStore","reducer","counter","counterReducer","loadingReducer","cart","cartReducer","user","userReducer","orderReducer","ReactDOM","StrictMode","basename","getElementById","firebaseApi","axios","create","baseURL","isOpen","setIsOpen","useScroll","hash","element","scrollIntoView","behavior","block","window","scroll","numberOfSteps","setCurrentStep","useCallback","prevStep","step","Error","title","scrollTo","keyObjectToObjectWithKey","object","recursiveKeyObjectToObjectWithKey","srcObj","transform","newObj","assign","calculateCartOnSuccess","cartState","isLoading","subtotal","reduce","sum","item","shipping","tip","getCartItemIdByKey","findKey","obj","getCartItemById","itemId","itemsToItemsState","cartItems","cartItemsState","address","joinDate","phone","totalTip","userSlice","initUserRequest","initUserSuccess","initUserFailed","authRequest","authSuccess","setItem","authFailure","clear","registerRequest","registerSuccess","registerFailure","getUserByEmail","get","params","orderBy","equalTo","isEmpty","asyncDispatchWrapper","bodyRequest","displayName","returnSecureToken","post","process","newUser","response","htmlInputProps","hasError","InputWrapper","placeholder","BottomBar","marginTop","borderBottom","callback","actionFailure","console","log","cartSlice","createCartRequest","createCartSuccess","createCartFailure","fetchCartRequest","fetchCartSuccess","fetchCartFailure","syncCartRequest","syncCartSuccess","merge","syncCartFailure","clearCartRequest","clearCartSuccess","clearCartFailure","updateCartRequest","updateCartSuccess","updateCartFailure","addItemRequest","addItemSucces","addItemFailure","removeItemRequest","requestingItem","removeItemSucces","omit","removeItemFailure","errorMessage","updateItemQuantityRequest","updatingItem","updateItemQuantitySuccess","isIncrementAmount","amount","updateItemQuantityFailure","itemIsLoadingSelector","getWithId","getWithEmail","postNewCart","patchObject","patch","removeItem","localCartId","getState","stateCartId","databaseCart","delete","increaseItemQuantity","newQuantity","addItemToCart","postNewItemToCart","cartItemId","removeItemFromCart","updateCart","patchCart","clearCart","deleteCart","orderSlice","displayedOrder","fetchOrdersRequest","fetchOrdersSuccess","fetchOrdersFailure","fetchOrderRequest","fetchOrderSuccess","fetchOrderFailure","generateOrderRequest","generateOrderSuccess","generateOrderFailure","generateOrder","postNewOrder","newOrder","getOrders","getOrder","fontSize","shadowed"],"mappings":"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","file":"static/js/main.257f25d3.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { RootState } from '../app/store';\r\n\r\ninterface LoadingState {\r\n  isLoadings: { [actionName: string]: boolean };\r\n}\r\n\r\nconst loadingState: LoadingState = {\r\n  isLoadings: {},\r\n};\r\n\r\nexport const loadingSlice = createSlice({\r\n  name: 'ui',\r\n  initialState: loadingState,\r\n  reducers: {\r\n    actionStart: (\r\n      state,\r\n      { payload }: PayloadAction<[string, 'request' | 'success' | 'failure']>\r\n    ) => {\r\n      const [actionName, actionState] = payload;\r\n      state.isLoadings = {\r\n        ...state.isLoadings,\r\n        [actionName]: actionState === 'request',\r\n      };\r\n    },\r\n  },\r\n});\r\n\r\nexport default loadingSlice.reducer;\r\nexport const { actionStart } = loadingSlice.actions;\r\nexport const checkIfLoading = (actionName: string) => (state: RootState) =>\r\n  state.loading.isLoadings[actionName];\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { ErrorMessage, FormContextValues } from 'react-hook-form';\r\n\r\nexport interface ErrorTextProps {\r\n  name: string;\r\n  errors: FormContextValues['errors'];\r\n}\r\n\r\n/**\r\n * @description a text hint for an invalid input\r\n * @param name must be the same with the `name` of the input this text connected with\r\n * @param errors must be the same with the `errors` of the connected input; errors from react-hook-form/useForm()\r\n */\r\nconst ErrorText: React.FC<ErrorTextProps> = ({ name, errors }) => {\r\n  return (\r\n    <Container>\r\n      <ErrorMessage errors={errors} name={name}>\r\n        {({ message, messages }) => {\r\n          if (messages) {\r\n            return Object.entries(messages).map(([type, message]) => (\r\n              <Text key={type}>{message}</Text>\r\n            ));\r\n          }\r\n\r\n          return <p>{message}</p>;\r\n        }}\r\n      </ErrorMessage>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ErrorText;\r\n\r\n/* To avoid that line jump */\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  min-height: 2rem;\r\n`;\r\n\r\ninterface TextProps {}\r\nconst Text = styled.p<TextProps>`\r\n  font-size: inherit;\r\n  color: ${(p) => p.theme.error};\r\n  font-style: italic;\r\n`;\r\n","import React, { ReactElement } from 'react';\r\nimport styled, { keyframes } from 'styled-components/macro';\r\n\r\ninterface SpinnerProps {\r\n  readonly size?: string;\r\n  readonly color?: string;\r\n  readonly className?: string;\r\n}\r\n\r\ninterface ContainerProps {\r\n  size?: string;\r\n}\r\n\r\ninterface DotProps {\r\n  color?: string;\r\n}\r\n\r\n/**\r\n * @param size width and height of the spinner\r\n * @param color the color of the spinner dot\r\n * @return a Spinner\r\n */\r\nfunction Spinner({ size, color, className }: SpinnerProps): ReactElement {\r\n  return (\r\n    <Container className={className} size={size}>\r\n      {createDots(6, color)}\r\n    </Container>\r\n  );\r\n}\r\n\r\n/**\r\n * @param numberOfDots the total number of generated Dots\r\n * @param color the color of all the Dot\r\n * @returns an array of Dot\r\n */\r\nfunction createDots(numberOfDots: number, color?: string): ReactElement[] {\r\n  let dots: ReactElement[] = [];\r\n\r\n  for (let index = 0; index < numberOfDots; index++) {\r\n    dots.push(<Dot key={index} color={color} />);\r\n  }\r\n\r\n  return dots;\r\n}\r\n\r\nconst skChase = keyframes`\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst Container = styled.div<ContainerProps>`\r\n  width: ${(p) => p.size ?? '40px'};\r\n  height: ${(p) => p.size ?? '40px'};\r\n  position: relative;\r\n  animation: ${skChase} 2.5s infinite linear both;\r\n\r\n  div {\r\n    &:nth-child(1) {\r\n      animation-delay: -1.1s;\r\n    }\r\n    &:nth-child(2) {\r\n      animation-delay: -1s;\r\n    }\r\n    &:nth-child(3) {\r\n      animation-delay: -0.9s;\r\n    }\r\n    &:nth-child(4) {\r\n      animation-delay: -0.8s;\r\n    }\r\n    &:nth-child(5) {\r\n      animation-delay: -0.7s;\r\n    }\r\n    &:nth-child(6) {\r\n      animation-delay: -0.6s;\r\n    }\r\n    &:nth-child(1):before {\r\n      animation-delay: -1.1s;\r\n    }\r\n    &:nth-child(2):before {\r\n      animation-delay: -1s;\r\n    }\r\n    &:nth-child(3):before {\r\n      animation-delay: -0.9s;\r\n    }\r\n    &:nth-child(4):before {\r\n      animation-delay: -0.8s;\r\n    }\r\n    &:nth-child(5):before {\r\n      animation-delay: -0.7s;\r\n    }\r\n    &:nth-child(6):before {\r\n      animation-delay: -0.6s;\r\n    }\r\n  }\r\n`;\r\n\r\nconst skChaseDot = keyframes`\r\n  80%,\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst skyChaseDotBefore = keyframes`\r\n  50% {\r\n    transform: scale(0.4);\r\n  }\r\n  100%,\r\n  0% {\r\n    transform: scale(1);\r\n  }\r\n`;\r\n\r\nconst Dot = styled.div<DotProps>`\r\n  width: 100%;\r\n  height: 100%;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  animation: ${skChaseDot} 2s infinite ease-in-out both;\r\n\r\n  &::before {\r\n    content: '';\r\n    display: block;\r\n    width: 25%;\r\n    height: 25%;\r\n    background-color: ${(p) => p.color ?? p.theme.primary};\r\n    border-radius: 100%;\r\n    animation: ${skyChaseDotBefore} 2s infinite ease-in-out both;\r\n  }\r\n`;\r\n\r\nexport default Spinner;\r\n","import React, { forwardRef } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { Link as RRLink, LinkProps } from 'react-router-dom';\r\n\r\ntype LinkRef = HTMLAnchorElement;\r\n\r\nconst Link = forwardRef<LinkRef, LinkProps>(({ children, ...props }, ref) => {\r\n  return (\r\n    <RRLink ref={ref} {...props}>\r\n      {children}\r\n    </RRLink>\r\n  );\r\n});\r\n\r\n/**\r\n * @param children the text of NavLink\r\n * @param props props of NavLink from React Router\r\n * @param ref HTMLAnchorElement\r\n */\r\nexport const StyledLink = styled(Link)`\r\n  &:link,\r\n  &:visited {\r\n    color: currentColor;\r\n  }\r\n`;\r\n","import React, { useEffect } from 'react';\r\nimport styled, { useTheme } from 'styled-components/macro';\r\nimport Spinner from './Spinner/Spinner';\r\n\r\ninterface LoadingScreenProps {}\r\n\r\nconst Container = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: ${(p) => p.theme.subtleBackground};\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: ${(p) => p.theme.zIndex.top};\r\n`;\r\n\r\nconst SpinnerContainer = styled.div`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  & > :not(:first-child) {\r\n    margin-top: 10vh;\r\n  }\r\n`;\r\n\r\nconst Text = styled.h2`\r\n  font-weight: 500;\r\n`;\r\n\r\nexport const LoadingScreen: React.FC<LoadingScreenProps> = () => {\r\n  const theme = useTheme();\r\n\r\n  useEffect(() => {\r\n    const html = document.querySelector('html')!;\r\n    html.style.overflow = 'hidden';\r\n\r\n    return () => {\r\n      html.style.overflow = 'auto';\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Container>\r\n      <SpinnerContainer>\r\n        <Spinner size=\"10rem\" color={theme.primary} />\r\n        <Text>Catching fish</Text>\r\n      </SpinnerContainer>\r\n    </Container>\r\n  );\r\n};\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.45e095b6.svg\";","module.exports = __webpack_public_path__ + \"static/media/textLogo.c755c9aa.svg\";","import { DefaultTheme } from 'styled-components';\r\n\r\nexport const lightTheme: DefaultTheme = {\r\n  primary: '#E23638',\r\n  yellow: '#E3E04D',\r\n  brown: '#961517',\r\n  pink: '#FA2F98',\r\n  darkBlue: '#1D6896',\r\n  lightBlue: '#2099E3',\r\n  h1: '#FA4C2F',\r\n  h2: '#FA4C2F',\r\n  text: '#fff',\r\n  bg1: '#eee',\r\n  bg2: '#ccc',\r\n  black: '#000',\r\n  grey: '#aaa',\r\n  white: '#fff',\r\n  error: '#f44336',\r\n  formTheme: '#B04419',\r\n  subtleBackground: '#f7f7f7',\r\n  strongBackground: '#f4f4f4',\r\n  blackBackground: '#1b1f28',\r\n\r\n  zIndex: {\r\n    top: 100,\r\n    hg: 80,\r\n    md: 50,\r\n    lw: 1,\r\n  },\r\n\r\n  breakpoints: {\r\n    xl: '120em',\r\n    lg: '80em',\r\n    md: '60em',\r\n    sm: '37.5em',\r\n    xs: '30em',\r\n    xxs: '20em',\r\n  },\r\n\r\n  shadow: {\r\n    button: '0 2px 4px rgba(0,0,0, .5)',\r\n    paragraph: '0 1.5rem 4rem rgba(0,0,0, .5)',\r\n    section: '0 20px 40px rgba(0,0,0, .5)',\r\n  },\r\n\r\n  transitionSpeed: {\r\n    quick: '200ms',\r\n    subtle: '350ms',\r\n    slow: '500ms',\r\n  },\r\n};\r\n","import { createGlobalStyle } from 'styled-components/macro';\r\n// import { normalize } from 'styled-normalize';\r\n\r\nexport const GlobalStyle = createGlobalStyle`\r\n\r\n  \r\n  :root {\r\n    font-size: 62.5%;\r\n    font-family: 'Montserrat', sans-serif;\r\n    box-sizing: border-box;\r\n    overflow-x:hidden;\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n      font-size: 75%; /* 16px => 12px */\r\n    }\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n      font-size: 81.25%; /* 16px => 13px */\r\n    }\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.lg}) {\r\n      font-size: 87.5%; /* 16px => 14px */\r\n    }\r\n\r\n    @media screen and (min-width: ${(p) => p.theme.breakpoints.xl}) {\r\n      font-size: 93.75%; /* 16px => 15px */\r\n    }\r\n\r\n\r\n  }\r\n\r\n  h1,h2,h3,h4,h5,h6 {\r\n    font-family: 'Quicksand', sans-serif;\r\n  }\r\n\r\n  h1 {\r\n    font-size: 3.2rem;\r\n  }\r\n\r\n  h2 {\r\n    font-size: 2.4rem;\r\n  }\r\n\r\n  h3 {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  p {\r\n    font-size: 1.6rem;\r\n    line-height: 1.6;\r\n  }\r\n\r\n\r\n  *, *::before, *::after {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: inherit;\r\n    text-decoration: none;\r\n    list-style: none;\r\n\r\n    font-family: inherit;\r\n  }\r\n\r\n  input {\r\n    font-size: inherit;\r\n    font-family: inherit;\r\n  }\r\n\r\n  #root {\r\n    min-height: 100vh;\r\n    position: relative;\r\n  }\r\n\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { NavLink as RRNavLink, NavLinkProps } from 'react-router-dom';\r\n\r\nconst NavLink: React.FC<NavLinkProps> = ({ children, ...props }) => {\r\n  return (\r\n    <RRNavLink activeClassName=\"active\" {...props}>\r\n      {children}\r\n    </RRNavLink>\r\n  );\r\n};\r\n\r\n/**\r\n * @param children the text of NavLink\r\n * @param props props of NavLink from React Router\r\n */\r\nexport const StyledNavLink = styled(NavLink)`\r\n  transition: all ${(p) => p.theme.transitionSpeed.quick};\r\n\r\n  /* &.active {\r\n  } */\r\n\r\n  &:visited,\r\n  &:link {\r\n    color: inherit;\r\n  }\r\n`;\r\n","import styled from 'styled-components/macro';\r\nimport React from 'react';\r\nimport { StyledNavLink } from '../StyledNavLink';\r\nimport { NavLinkProps as RRNavLinkProps } from 'react-router-dom';\r\n\r\nexport interface DesktopNavigationItemProps extends RRNavLinkProps {}\r\n\r\nexport const DesktopNavigationItem: React.FC<DesktopNavigationItemProps> = ({\r\n  children,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <StyledLi>\r\n      <StyledNavLink {...props}>{children}</StyledNavLink>\r\n    </StyledLi>\r\n  );\r\n};\r\n\r\ninterface StyledLiProps {}\r\nconst StyledLi = styled.li<StyledLiProps>`\r\n  display: flex;\r\n  align-items: flex-end;\r\n\r\n  height: 100%;\r\n  padding: 0 1rem 1rem 1rem;\r\n  color: inherit;\r\n  font-weight: 300;\r\n  font-size: 2rem;\r\n  border-bottom: 0.1rem solid transparent;\r\n\r\n  transition: all ${(p) => p.theme.transitionSpeed.subtle} ease;\r\n\r\n  :hover {\r\n    border-bottom: 0.1rem solid ${(p) => p.theme.primary};\r\n  }\r\n\r\n  .active {\r\n    color: ${(p) => p.theme.primary};\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { DesktopNavigationItem } from './DesktopNavigationItem';\r\n\r\ninterface DesktopNavigationItemsProps {}\r\nexport const DesktopNavigationItems: React.FC<DesktopNavigationItemsProps> = () => {\r\n  return (\r\n    <StyledNavigationItems>\r\n      <DesktopNavigationItem to=\"/\" exact>\r\n        Home\r\n      </DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/menu\">Menu</DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/reservation\">\r\n        Reservation\r\n      </DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/cart\">Cart</DesktopNavigationItem>\r\n\r\n      <DesktopNavigationItem to=\"/me\">Dashboard</DesktopNavigationItem>\r\n    </StyledNavigationItems>\r\n  );\r\n};\r\n\r\ninterface StyledNavigationItemsProps {}\r\nconst StyledNavigationItems = styled.ul<StyledNavigationItemsProps>`\r\n  position: relative;\r\n\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n\r\n  width: 60%;\r\n  height: 100%;\r\n`;\r\n","import styled from 'styled-components/macro';\r\nimport LogoImg from '../../asset/logo.svg';\r\nimport TextLogo from '../../asset/textLogo.svg';\r\n\r\n// interface LogoStyledProps {}\r\n\r\n// interface LogoProps {\r\n//   className?: string;\r\n//   showName?: boolean;\r\n// }\r\n\r\n// /**\r\n//  * @return a LogoIcon with brand name - Tamago\r\n//  */\r\n// export const BaseLogo: React.FC<LogoProps> = ({ className, showName }) => {\r\n//   return (\r\n//     <Container className={className}>\r\n//       <LogoIcon />\r\n//       {showName && <BrandName>tamago</BrandName>}\r\n//     </Container>\r\n//   );\r\n// };\r\n\r\ntype BaseLogoProps = {\r\n  withText?: boolean;\r\n};\r\nexport const BaseLogo = styled.img.attrs((p: BaseLogoProps) => ({\r\n  src: p.withText ? TextLogo : LogoImg,\r\n}))<BaseLogoProps>`\r\n  max-height: 100%;\r\n`;\r\n\r\n// const Container = styled.div`\r\n//   height: 100%;\r\n\r\n//   display: inline-block;\r\n\r\n//   display: flex;\r\n//   flex-direction: column;\r\n//   align-items: center;\r\n// `;\r\n\r\n// const BrandName = styled.p`\r\n//   font-weight: 500;\r\n//   text-align: center;\r\n//   color: ${(p) => p.theme.primary};\r\n// `;\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components/macro';\r\nimport { DesktopNavigationItems } from './DesktopNavigationItems';\r\nimport { useInView } from 'react-intersection-observer';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { BaseLogo } from '../../ui/BaseLogo';\r\n\r\ninterface AppBarProps {\r\n  height?: string;\r\n}\r\n\r\nexport const AppBar: React.FC<AppBarProps> = ({ height }) => {\r\n  const [ref, isInView] = useInView();\r\n  let matchLandingPage = useRouteMatch({\r\n    path: '/',\r\n    exact: true,\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <StaticAppBar\r\n        height={height}\r\n        id=\"AppBar\"\r\n        ref={ref}\r\n        isOnLandingPage={Boolean(matchLandingPage)}\r\n      >\r\n        <BaseLogo />\r\n        <DesktopNavigationItems />\r\n      </StaticAppBar>\r\n\r\n      {!isInView && (\r\n        <FixedAppBar>\r\n          <DesktopNavigationItems />\r\n        </FixedAppBar>\r\n      )}\r\n    </>\r\n  );\r\n};\r\ninterface StaticAppBarProps {\r\n  height?: string;\r\n  isOnLandingPage?: boolean;\r\n}\r\n\r\nconst StaticAppBar = styled.nav<StaticAppBarProps>`\r\n  display: none;\r\n\r\n  /* Intentionally move these outside of media for style inheritance */\r\n  padding: 1rem 5vw;\r\n\r\n  width: 100%;\r\n  \r\n  height: ${(p) => p.height};\r\n\r\n  color: ${(p) => p.theme.black};\r\n\r\n  ${(p) =>\r\n    p.isOnLandingPage &&\r\n    css`\r\n      color: ${p.theme.white};\r\n\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n    `}\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nconst FixedAppBar = styled(StaticAppBar)`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  background: ${(p) => p.theme.subtleBackground};\r\n  box-shadow: ${(p) => p.theme.shadow.button};\r\n  z-index: ${(p) => p.theme.zIndex.top};\r\n\r\n  color: ${(p) => p.theme.black};\r\n  height: 5rem;\r\n\r\n  ul {\r\n    width: 100%;\r\n\r\n    li {\r\n      padding-top: initial;\r\n      padding-bottom: initial;\r\n      align-items: center;\r\n    }\r\n  }\r\n`;\r\n","import React from 'react';\r\n\r\nexport const CssContext = React.createContext({\r\n  appbarHeight: '',\r\n});\r\n","import styled, { useTheme } from 'styled-components/macro';\r\nimport React from 'react';\r\n\r\nimport { NavLinkProps as RRNavLinkProps } from 'react-router-dom';\r\nimport { IconType } from 'react-icons';\r\nimport { StyledNavLink } from '../StyledNavLink';\r\n\r\nexport interface MobileNavigationItemProps extends RRNavLinkProps {\r\n  Icon: IconType;\r\n}\r\n\r\nexport const MobileNavigationItem: React.FC<MobileNavigationItemProps> = ({\r\n  Icon,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const theme = useTheme();\r\n  return (\r\n    <Container>\r\n      <IconWrapper>\r\n        <Icon fill={theme.primary} />\r\n      </IconWrapper>\r\n      <StyledNavLink {...props}>{children}</StyledNavLink>\r\n    </Container>\r\n  );\r\n};\r\n\r\nconst Container = styled.li`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  font-size: 1.6rem;\r\n`;\r\n\r\nconst IconWrapper = styled.span`\r\n  margin-right: 0.5rem;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  svg {\r\n    background-size: 1.6rem;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { MobileNavigationItem } from './MobileNavigationItem';\r\nimport {\r\n  MdHome,\r\n  MdRestaurantMenu,\r\n  MdBook,\r\n  MdDashboard,\r\n  MdShoppingCart,\r\n} from 'react-icons/md';\r\n\r\ninterface MobileNavigationItemsProps {}\r\nexport const MobileNavigationItems: React.FC<MobileNavigationItemsProps> = () => {\r\n  return (\r\n    <StyledMobileNavigationItems>\r\n      <MobileNavigationItem to=\"/\" exact Icon={MdHome}>\r\n        Home\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/menu\" Icon={MdRestaurantMenu}>\r\n        Menu\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/reservation\" Icon={MdBook}>\r\n        Reservation\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/cart\" Icon={MdShoppingCart}>\r\n        Cart\r\n      </MobileNavigationItem>\r\n\r\n      <MobileNavigationItem to=\"/me\" Icon={MdDashboard}>\r\n        Dashboard\r\n      </MobileNavigationItem>\r\n    </StyledMobileNavigationItems>\r\n  );\r\n};\r\n\r\ninterface StyledMobileNavigationItemsProps {}\r\nconst StyledMobileNavigationItems = styled.ul<StyledMobileNavigationItemsProps>`\r\n  display: grid;\r\n  /* grid-template-columns: repeat(2, 1fr); */\r\n  justify-items: flex-start;\r\n  gap: 1rem;\r\n\r\n  width: 100%;\r\n  padding: 1rem 1.5rem;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { MobileNavigationItems } from './MobileNavigationItems';\r\n\r\ninterface PopupMenuProps {}\r\nexport const PopupMenu: React.FC<PopupMenuProps> = () => {\r\n  return (\r\n    <Container>\r\n      <MobileNavigationItems />\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.nav<ContainerProps>`\r\n  position: absolute;\r\n  bottom: 8rem;\r\n  right: 0;\r\n  display: block;\r\n\r\n  background-color: #fff;\r\n`;\r\n","import React from 'react';\r\nimport styled, { css } from 'styled-components/macro';\r\nimport { PopupMenu } from './PopupMenu';\r\nimport { useToggle } from '../../../hook';\r\nimport { BaseButton } from '../../ui/BaseButton';\r\n\r\ninterface HamburgerProps {}\r\nexport const Hamburger: React.FC<HamburgerProps> = () => {\r\n  const [menuIsOpen, toggleMenu] = useToggle();\r\n\r\n  return (\r\n    <Container>\r\n      {menuIsOpen && <PopupMenu />}\r\n      <HamburgerIcon contained onClick={toggleMenu}>\r\n        <Line active={menuIsOpen} />\r\n      </HamburgerIcon>\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  position: fixed;\r\n  bottom: 1rem;\r\n  right: 1.5rem;\r\n  z-index: ${(p) => p.theme.zIndex.hg};\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\ninterface HamburgerIconProps {}\r\nconst HamburgerIcon = styled(BaseButton)<HamburgerIconProps>`\r\n  width: 6rem;\r\n  height: 6rem;\r\n  border-radius: 50%;\r\n  padding: 0;\r\n  /* box-shadow: 0 2px 5px #000; */\r\n  /* border: 0; */\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\ninterface LineProps {\r\n  active: boolean;\r\n}\r\nconst Line = styled.div<LineProps>`\r\n  position: relative;\r\n\r\n  &,\r\n  &::before,\r\n  &::after {\r\n    content: '';\r\n    display: block;\r\n    background-color: #fff;\r\n    width: 4rem;\r\n    height: 0.3rem;\r\n    border-radius: 100px;\r\n\r\n    transition: all 200ms ease;\r\n  }\r\n\r\n  ::before {\r\n    position: absolute;\r\n    top: -0.8rem;\r\n  }\r\n\r\n  ::after {\r\n    position: absolute;\r\n    top: 0.8rem;\r\n  }\r\n\r\n  ${(p) =>\r\n    p.active &&\r\n    css`\r\n      /* increase specitivity */\r\n      & {\r\n        background-color: transparent;\r\n      }\r\n\r\n      ::before {\r\n        top: 0;\r\n        transform: scale(0.9) rotate(135deg);\r\n      }\r\n\r\n      ::after {\r\n        top: 0;\r\n        transform: scale(0.9) rotate(-135deg);\r\n      }\r\n    `}\r\n`;\r\n","import React from 'react';\r\nimport styled, { useTheme, ThemeProvider } from 'styled-components/macro';\r\n\r\ninterface SocialMediaProps {\r\n  fillColor?: string;\r\n}\r\nexport const SocialMedia: React.FC<\r\n  SocialMediaProps & React.AnchorHTMLAttributes<HTMLAnchorElement>\r\n> = ({ children, fillColor = '#000', href }) => {\r\n  const defaultTheme = useTheme();\r\n\r\n  return (\r\n    <ThemeProvider theme={{ ...defaultTheme, primary: fillColor }}>\r\n      <Container href={href}>\r\n        {children}\r\n        <Filter />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nconst Container = styled.a`\r\n  background-color: ${(p) => p.theme.subtleBackground};\r\n  width: 3rem;\r\n  height: 3rem;\r\n  padding: 0.5rem;\r\n  border-radius: 4px;\r\n\r\n  display: block;\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  svg {\r\n    fill: ${(p) => p.theme.primary};\r\n    width: 100%;\r\n    height: 100%;\r\n\r\n    position: relative;\r\n    transition: all ${(p) => p.theme.transitionSpeed.subtle} ease;\r\n    z-index: ${(p) => p.theme.zIndex.lw};\r\n  }\r\n\r\n  &:hover,\r\n  &:active {\r\n    div {\r\n      opacity: 1;\r\n      clip-path: circle(150% at 0% 0%);\r\n    }\r\n\r\n    svg {\r\n      fill: ${(p) => p.theme.subtleBackground};\r\n    }\r\n  }\r\n`;\r\n\r\ninterface FilterProps {}\r\nconst Filter = styled.div<FilterProps>`\r\n  background: ${(p) => p.theme.primary};\r\n\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 0;\r\n\r\n  clip-path: circle(0% at 0% 0%);\r\n\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  transition: all ${(p) => p.theme.transitionSpeed.subtle} ease;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { FaGithubAlt, FaFacebookF, FaLinkedinIn } from 'react-icons/fa';\r\nimport { SocialMedia } from './SocialMediaIcon';\r\n\r\ninterface SocialMediaIconsProps {}\r\nexport const SocialMediaIcons: React.FC<SocialMediaIconsProps> = () => {\r\n  return (\r\n    <Container>\r\n      <SocialMedia fillColor=\"#6e5494\" href=\"https://github.com/Andrewnt219\">\r\n        <FaGithubAlt />\r\n      </SocialMedia>\r\n\r\n      <SocialMedia\r\n        fillColor=\"#0e76a8\"\r\n        href=\"https://www.linkedin.com/in/andrewnt219/\"\r\n      >\r\n        <FaLinkedinIn />\r\n      </SocialMedia>\r\n\r\n      <SocialMedia\r\n        fillColor=\"#3b5998\"\r\n        href=\"https://www.facebook.com/phong.nguyentuan.1080\"\r\n      >\r\n        <FaFacebookF />\r\n      </SocialMedia>\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  width: 100%;\r\n  max-width: 20rem;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { SocialMediaIcons } from './SocialMediaIcons';\r\nimport { BaseLogo } from '../../ui/BaseLogo';\r\n\r\ninterface FooterProps {}\r\nexport const Footer: React.FC<FooterProps> = () => {\r\n  return (\r\n    <Container>\r\n      <Logo />\r\n\r\n      <SocialMediaIcons />\r\n\r\n      <Text>\r\n        © 2020 All Rights Reserved.\r\n        <br />\r\n        Developed by Tuan Phong (Andrew) Nguyen\r\n      </Text>\r\n    </Container>\r\n  );\r\n};\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.footer<ContainerProps>`\r\n  background: ${(p) => p.theme.blackBackground};\r\n  margin-top: 10vh;\r\n  padding: 10vh 5vw;\r\n  display: grid;\r\n  grid-template-columns: 1fr 1fr;\r\n  justify-content: center;\r\n  justify-items: flex-start;\r\n  gap: 3vh;\r\n`;\r\n\r\nconst Text = styled.p`\r\n  font-size: 1rem;\r\n  color: white;\r\n  display: flex;\r\n  align-items: center;\r\n`;\r\n\r\nconst Logo = styled(BaseLogo)`\r\n  transform: none;\r\n  grid-row: 1/3;\r\n\r\n  width: 20vw;\r\n  max-width: 20rem;\r\n  height: auto;\r\n\r\n  justify-self: center;\r\n  align-self: center;\r\n`;\r\n","import React from 'react';\r\nimport { AppBar } from '../components/navigation/desktop/AppBar';\r\nimport styled from 'styled-components';\r\nimport { CssContext } from '../context/CssContext';\r\nimport { Hamburger } from '../components/navigation/mobile/Hamburger';\r\nimport { Footer } from '../components/navigation/footer/Footer';\r\n\r\ninterface LayoutProps {}\r\n\r\ninterface MainProps {}\r\n\r\nconst APPBAR_HEIGHT = '8rem';\r\nexport const Layout: React.FC<LayoutProps> = ({ children }) => {\r\n  return (\r\n    <CssContext.Provider value={{ appbarHeight: APPBAR_HEIGHT }}>\r\n      <AppBar height={APPBAR_HEIGHT} />\r\n      <Hamburger />\r\n      <Main>{children}</Main>\r\n      <Footer />\r\n    </CssContext.Provider>\r\n  );\r\n};\r\n\r\nconst Main = styled.main<MainProps>`\r\n  /* Compatible with Footer height */\r\n  max-width: 100vw;\r\n`;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { BaseLogo } from '../../../components/ui/BaseLogo';\r\nimport {\r\n  MdStoreMallDirectory,\r\n  MdPhoneForwarded,\r\n  MdKeyboardArrowRight,\r\n} from 'react-icons/md';\r\nimport { StyledLink } from '../../../components/navigation/StyledLink';\r\nimport { rgba } from 'polished';\r\nimport { format } from 'date-fns';\r\nimport { Order as OrderObject } from '../../../features/sliceTypes';\r\n\r\ntype Props = {\r\n  type: 'online' | 'inStore';\r\n  order: OrderObject;\r\n};\r\n\r\nfunction Order({ type, order }: Props): ReactElement {\r\n  const { id, createdDate, total } = order;\r\n\r\n  return (\r\n    <Container to={{ pathname: `/orders/${id}` }}>\r\n      <Logo>\r\n        <LogoWrapper>\r\n          <BaseLogo withText />\r\n        </LogoWrapper>\r\n      </Logo>\r\n\r\n      <Details>\r\n        <DateText>{format(new Date(createdDate), 'MMMM do, yyyy')}</DateText>\r\n\r\n        <Price>\r\n          <PriceText>${total.toFixed(2)}</PriceText>\r\n          <MdKeyboardArrowRight />\r\n        </Price>\r\n\r\n        <PurchaseType>\r\n          {type === 'inStore' ? (\r\n            <>\r\n              <MdStoreMallDirectory />\r\n              <PurchaseTypeText>IN-STORE PURCHASE</PurchaseTypeText>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <MdPhoneForwarded />\r\n              <PurchaseTypeText>ONLINE PURCHASE</PurchaseTypeText>\r\n            </>\r\n          )}\r\n        </PurchaseType>\r\n      </Details>\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled(StyledLink)<ContainerProps>`\r\n  display: flex;\r\n  padding: 1rem 0.5rem;\r\n\r\n  :hover {\r\n    background: ${(p) => rgba(p.theme.grey, 0.1)};\r\n  }\r\n`;\r\n\r\ntype LogoProps = {};\r\nconst Logo = styled.div<LogoProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  padding-right: 1rem;\r\n  margin-right: 1rem;\r\n  border-right: 2px dashed #ccc;\r\n`;\r\n\r\ntype LogoWrapperProps = {};\r\nconst LogoWrapper = styled.span<LogoWrapperProps>`\r\n  height: 2rem;\r\n`;\r\n\r\ntype DetailsProps = {};\r\nconst Details = styled.div<DetailsProps>`\r\n  flex: 1;\r\n  display: grid;\r\n  grid-template-columns: 1fr min-content;\r\n  row-gap: 0.5rem;\r\n`;\r\n\r\ntype DateTextProps = {};\r\nconst DateText = styled.h3<DateTextProps>`\r\n  font-family: 'Montserrat', sans-serif;\r\n  font-weight: 500;\r\n  font-size: 1.5rem;\r\n`;\r\n\r\ntype PurchaseTypeProps = {};\r\nconst PurchaseType = styled.span<PurchaseTypeProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 0.9rem;\r\n\r\n  color: ${(p) => p.theme.grey};\r\n`;\r\n\r\ntype PurchaseTypeTextProps = {};\r\nconst PurchaseTypeText = styled.span<PurchaseTypeTextProps>`\r\n  display: inline-block;\r\n  margin-left: 0.5rem;\r\n`;\r\n\r\ntype PriceProps = {};\r\nconst Price = styled.span<PriceProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  grid-column: 2 / -1;\r\n  grid-row: 1/3;\r\n\r\n  font-size: 1.2rem;\r\n`;\r\n\r\ntype PriceTextProps = {};\r\nconst PriceText = styled.span<PriceTextProps>`\r\n  display: inline-block;\r\n  margin-right: 0.4rem;\r\n  width: max-content;\r\n`;\r\n\r\nexport default Order;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport Order from './Order';\r\nimport { Order as OrderObject } from '../../../features/sliceTypes';\r\n\r\ntype Props = {\r\n  orders: OrderObject[];\r\n};\r\n\r\nfunction Orders({ orders }: Props): ReactElement {\r\n  return (\r\n    <Container>\r\n      {orders.map((order) => (\r\n        <Order\r\n          key={order.id}\r\n          order={order}\r\n          type={Math.round(Math.random()) === 1 ? 'inStore' : 'online'}\r\n        />\r\n      ))}\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.div<ContainerProps>`\r\n  display: grid;\r\n  row-gap: 2rem;\r\n`;\r\n\r\nexport { Orders };\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {};\r\n\r\nfunction UserProfile(props: Props): ReactElement {\r\n  return (\r\n    <Container>\r\n      <PrimaryInfo>\r\n        <Avatar />\r\n        <Heading>FirstName LastName</Heading>\r\n        <SubHeading>firstName.lastName@gmail.ca</SubHeading>\r\n      </PrimaryInfo>\r\n\r\n      <SubInfo>\r\n        <Info>\r\n          <Value>03</Value>\r\n          <Field>Orders</Field>\r\n        </Info>\r\n\r\n        <Info>\r\n          <Value>\r\n            22.15 <ValueUnit>CAD</ValueUnit>\r\n          </Value>\r\n          <Field>Tipping</Field>\r\n        </Info>\r\n\r\n        <Info>\r\n          <Value>\r\n            05 <ValueUnit>years</ValueUnit>\r\n          </Value>\r\n          <Field>Loyalty</Field>\r\n        </Info>\r\n      </SubInfo>\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.div<ContainerProps>`\r\n  width: 100%;\r\n  height: 50vw;\r\n  clip-path: ellipse(100vw 50vw at 50% 0);\r\n  background: ${(p) => p.theme.primary};\r\n  padding: 2vw 0 5vw 0;\r\n\r\n  display: grid;\r\n  align-content: flex-start;\r\n  row-gap: 2rem;\r\n\r\n  font-size: 1.2rem;\r\n  color: ${(p) => p.theme.subtleBackground};\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xxs}) {\r\n    font-size: 1.5rem;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n    font-size: 2rem;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    height: 65vmin;\r\n    clip-path: ellipse(100vw 65vmin at 50% 0);\r\n  }\r\n`;\r\n\r\ntype PrimaryInfoProps = {};\r\nconst PrimaryInfo = styled.div<PrimaryInfoProps>`\r\n  display: grid;\r\n  row-gap: 0.25rem;\r\n  justify-items: center;\r\n  align-items: center;\r\n`;\r\n\r\ntype AvatarProps = {};\r\nconst Avatar = styled.img<AvatarProps>`\r\n  width: 15%;\r\n  padding-top: 15%;\r\n  background: white;\r\n  object-fit: cover;\r\n  object-position: center;\r\n  border-radius: 50%;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    width: 10rem;\r\n    padding-top: 10rem;\r\n  }\r\n`;\r\n\r\ntype HeadingProps = {};\r\nconst Heading = styled.h3<HeadingProps>`\r\n  font-size: inherit;\r\n`;\r\n\r\ntype SubHeadingProps = {};\r\nconst SubHeading = styled.h4<SubHeadingProps>`\r\n  font-weight: 300;\r\n  font-size: smaller;\r\n`;\r\n\r\ntype InfoContainerProps = {};\r\nconst SubInfo = styled.div<InfoContainerProps>`\r\n  display: flex;\r\n  justify-content: space-around;\r\n  font-size: smaller;\r\n`;\r\n\r\ntype InfoProps = {};\r\nconst Info = styled.div<InfoProps>`\r\n  display: grid;\r\n  row-gap: 0.5rem;\r\n  justify-items: center;\r\n`;\r\n\r\ntype ValueProps = {};\r\nconst Value = styled.span<ValueProps>`\r\n  font-weight: 600;\r\n  font-size: inherit;\r\n`;\r\n\r\ntype ValueUnitProps = {};\r\nconst ValueUnit = styled.span<ValueUnitProps>`\r\n  font-size: smaller;\r\n  font-weight: normal;\r\n`;\r\n\r\ntype FieldProps = {};\r\nconst Field = styled.span<FieldProps>``;\r\n\r\nexport { UserProfile };\r\n","import React from 'react';\r\n\r\nimport styled from 'styled-components/macro';\r\nimport { Orders } from './components/Orders';\r\nimport { UserProfile } from './components/UserProfile';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logout } from '../../features/userSlice';\r\nimport { initCart } from '../../features/cartSlice';\r\nimport { ordersSelector } from '../../features/orderSlice';\r\nimport { Order as OrderObject } from '../../features/sliceTypes';\r\nimport { useTitle, useScrollToTop } from '../../hook';\r\n\r\ninterface UserDashboardProps {}\r\n\r\nconst UserDashboard: React.FC<UserDashboardProps> = () => {\r\n  useTitle('Your Profile');\r\n  useScrollToTop();\r\n\r\n  const dispatch = useDispatch();\r\n  const { orders } = useSelector(ordersSelector);\r\n  const ordersArray: OrderObject[] = orders ? Object.values(orders) : [];\r\n\r\n  const onLogoutButtonClicked = () => {\r\n    dispatch(logout());\r\n    dispatch(initCart());\r\n  };\r\n\r\n  return (\r\n    <Container>\r\n      <UserProfile />\r\n      <button onClick={onLogoutButtonClicked}>Logout</button>\r\n      <Header>\r\n        Past Orders (\r\n        {ordersArray.length < 10\r\n          ? '0' + ordersArray.length\r\n          : ordersArray.length}\r\n        )\r\n      </Header>\r\n      <Orders orders={ordersArray} />\r\n    </Container>\r\n  );\r\n};\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.section<ContainerProps>`\r\n  display: grid;\r\n  row-gap: 2rem;\r\n  margin: 2rem;\r\n`;\r\n\r\ntype HeaderProps = {};\r\nconst Header = styled.h2<HeaderProps>``;\r\n\r\nexport default UserDashboard;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { FieldElement } from 'react-hook-form';\r\n\r\ninterface ControllerInputProps<FormValues> {\r\n  type: 'radio' | 'checkbox';\r\n  register: (ref: FieldElement<FormValues> | null) => void;\r\n  id: string;\r\n  label: string;\r\n}\r\n\r\n/**\r\n * @description render a `radio` or `checkbox` input\r\n * @param id the id of the element\r\n * @param name the name of the element\r\n * @param label the text for the element's label\r\n * @param register the register from react-hook-form/useForm()\r\n * @param type type of the input\r\n * @param htmlRadioAttrs others are html input interface\r\n */\r\nfunction ControllerInput<FormValues>({\r\n  onChange,\r\n  id,\r\n  label,\r\n  name,\r\n  register,\r\n  type,\r\n  ...htmlRadioAttrs\r\n}: ControllerInputProps<FormValues> &\r\n  React.InputHTMLAttributes<HTMLInputElement>) {\r\n  return (\r\n    <Container>\r\n      <Input\r\n        {...htmlRadioAttrs}\r\n        ref={register}\r\n        type={type}\r\n        name={name}\r\n        id={id}\r\n        onChange={onChange}\r\n        hidden\r\n      />\r\n\r\n      <Label htmlFor={id}>\r\n        <InputButton className=\"input-button\" type={type} />\r\n        {label}\r\n      </Label>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport { ControllerInput };\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.li<ContainerProps>``;\r\n\r\ninterface InputProps {}\r\nconst Input = styled.input<InputProps>`\r\n  :checked + label .input-button::before {\r\n    visibility: visible;\r\n    transform: translate(-50%, -50%) scale(1);\r\n  }\r\n`;\r\n\r\ninterface InputButtonProps {\r\n  type: 'checkbox' | 'radio';\r\n}\r\nconst InputButton = styled.span<InputButtonProps>`\r\n  display: inline-block;\r\n  margin-right: 0.5rem;\r\n  height: 1.5rem;\r\n  width: 1.5rem;\r\n  border-radius: ${(p) => p.type === 'radio' && '50%'};\r\n  border: 3px solid ${(p) => p.theme.primary};\r\n\r\n  position: relative;\r\n\r\n  ::before {\r\n    content: '';\r\n    visibility: hidden;\r\n    display: block;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n\r\n    width: 80%;\r\n    padding-top: 80%;\r\n    background: ${(p) => p.theme.primary};\r\n    border-radius: ${(p) => p.type === 'radio' && '50%'};\r\n\r\n    transform: translate(-50%, -50%) scale(0);\r\n    transition: transform 200ms ease;\r\n  }\r\n`;\r\n\r\ninterface LabelProps {}\r\nconst Label = styled.label<LabelProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  cursor: pointer;\r\n`;\r\n","import React from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { ControllerInput } from './ControllerInput';\r\nimport { FieldElement, FormContextValues } from 'react-hook-form';\r\nimport ErrorText from './ErrorText';\r\n\r\n/**\r\n * @description the object model to put in ControllerInputsGroup\r\n * @param id the id of each input\r\n * @param value the value of each input\r\n * @param register returned value of register from react-hook-form/useForm()\r\n * @param label the label of each input\r\n */\r\nexport interface ControllerObject<FormValues, OptionValue extends string> {\r\n  id: string;\r\n  checked?: boolean;\r\n  value: OptionValue;\r\n  register: (ref: FieldElement<FormValues> | null) => void;\r\n  label: string;\r\n}\r\n\r\ninterface ControllerInputsGroupProps<FormValues, OptionValue extends string> {\r\n  name: keyof FormValues;\r\n  handleChange?:\r\n    | ((event: React.ChangeEvent<HTMLInputElement>) => void)\r\n    | undefined;\r\n  controllers: ControllerObject<FormValues, OptionValue>[];\r\n  type: 'radio' | 'checkbox';\r\n  label: string;\r\n  defaultCheckedValue?: string;\r\n  errors: FormContextValues<FormValues>['errors'];\r\n}\r\n\r\n/**\r\n * @description Group of radios or checkboxes (ControllerInput)\r\n * @template FormValues the interface of all the inputs' value of the form this group is in\r\n * @param controllers an array of ControllerObject<FormValues>\r\n * @param name the name of the group, and each radio/checkbox\r\n * @param type the type of the inputs\r\n * @param handleChange handle when user changes the value of input controllers\r\n */\r\nfunction ControllerInputsGroup<FormValues, OptionValue extends string>({\r\n  name,\r\n  label,\r\n  controllers,\r\n  type,\r\n  handleChange,\r\n  defaultCheckedValue,\r\n  errors,\r\n}: ControllerInputsGroupProps<FormValues, OptionValue> &\r\n  React.FieldsetHTMLAttributes<HTMLFieldSetElement>) {\r\n  return (\r\n    <Container>\r\n      <GroupName className=\"group-name\">{label}</GroupName>\r\n      <Controllers>\r\n        {controllers.map((controllerProps, index) => (\r\n          <ControllerInput\r\n            {...controllerProps}\r\n            onChange={handleChange}\r\n            defaultChecked={defaultCheckedValue === controllerProps.value}\r\n            key={index}\r\n            name={name}\r\n            type={type}\r\n          />\r\n        ))}\r\n      </Controllers>\r\n      <ErrorText errors={errors} name={name} />\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport { ControllerInputsGroup };\r\n\r\ninterface ContainerProps {}\r\nconst Container = styled.div<ContainerProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n  border: none;\r\n\r\n  :hover .group-name {\r\n    color: ${(p) => p.theme.primary};\r\n  }\r\n`;\r\n\r\ninterface GroupNameProps {}\r\nconst GroupName = styled.p<GroupNameProps>`\r\n  margin-bottom: 1rem;\r\n  font-size: inherit;\r\n  transition: color 200ms ease;\r\n`;\r\n\r\ninterface ControllersProps {}\r\nconst Controllers = styled.ul<ControllersProps>`\r\n  display: flex;\r\n  align-items: center;\r\n  & > *:not(:last-child) {\r\n    margin-right: 1rem;\r\n  }\r\n`;\r\n","import styled from 'styled-components/macro';\r\nimport { BaseForm } from '../../../components/ui/form/BaseForm';\r\nimport { BaseButton } from '../../../components/ui/BaseButton';\r\n\r\nexport const BaseReservationForm = styled(BaseForm)`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-around;\r\n  width: 100%;\r\n  font-size: 1.2rem;\r\n`;\r\n\r\nexport const SubmitButton = styled(BaseButton)`\r\n  margin-top: 2rem;\r\n`;\r\n","import React, { ReactElement } from 'react';\r\n\r\nimport { TextField } from '../../../components/ui/form/TextField';\r\nimport {\r\n  ControllerObject,\r\n  ControllerInputsGroup,\r\n} from '../../../components/ui/form/ControllerInputsGroup';\r\nimport { FormProps } from '../../../interfaces/FormProps';\r\nimport {\r\n  SubmitButton,\r\n  BaseReservationForm as Form,\r\n} from './ReservationUIComponents';\r\n\r\ntype Props<FormValues> = FormProps<FormValues> & {};\r\n\r\ntype FormValues = {\r\n  preferredName: string;\r\n  prefix: 'mr' | 'mrs' | 'ms' | 'name';\r\n  email: string;\r\n};\r\n\r\nfunction ReservationForm1({\r\n  onSubmit,\r\n  register,\r\n  errors,\r\n  formValues,\r\n  handleChange,\r\n  isSubmittable,\r\n}: Props<FormValues>): ReactElement {\r\n  const radios: ControllerObject<FormValues, typeof formValues.prefix>[] = [\r\n    {\r\n      id: 'address--mr',\r\n      label: 'Mr.',\r\n      register: register(),\r\n      value: 'mr',\r\n    },\r\n    {\r\n      id: 'address--ms',\r\n      label: 'Ms.',\r\n      register: register(),\r\n      value: 'ms',\r\n    },\r\n    {\r\n      id: 'address--mrs',\r\n      label: 'Mrs.',\r\n      register: register(),\r\n      value: 'mrs',\r\n    },\r\n    {\r\n      id: 'address--none',\r\n      label: 'By name',\r\n      register: register(),\r\n      value: 'name',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Form onSubmit={onSubmit} noValidate>\r\n      <TextField\r\n        required\r\n        id=\"preferredName\"\r\n        name=\"preferredName\"\r\n        label=\"preferred name\"\r\n        errors={errors}\r\n        value={formValues?.preferredName}\r\n        onChange={handleChange}\r\n        register={register({\r\n          required: 'A name is required',\r\n        })}\r\n      />\r\n\r\n      <TextField\r\n        required\r\n        type=\"email\"\r\n        id=\"email\"\r\n        name=\"email\"\r\n        errors={errors}\r\n        label=\"email\"\r\n        value={formValues?.email}\r\n        onChange={handleChange}\r\n        register={register({\r\n          required: 'Email is required',\r\n          pattern: {\r\n            value: /.*@.*\\..+/,\r\n            message: 'Not a valid email',\r\n          },\r\n        })}\r\n      />\r\n\r\n      <ControllerInputsGroup\r\n        type=\"radio\"\r\n        label=\"how should we address you?\"\r\n        errors={errors}\r\n        defaultCheckedValue={formValues.prefix}\r\n        name=\"prefix\"\r\n        controllers={radios}\r\n        handleChange={handleChange}\r\n      />\r\n\r\n      <SubmitButton disabled={!isSubmittable} type=\"submit\" outlined>\r\n        NEXT\r\n      </SubmitButton>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport { ReservationForm1 };\r\n","import { add, format } from 'date-fns';\r\nimport React, { ReactElement } from 'react';\r\nimport styled, { css } from 'styled-components/macro';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n  KeyboardTimePicker,\r\n} from '@material-ui/pickers';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport { FormProps } from '../../../interfaces/FormProps';\r\nimport { MaterialUiPickersDate } from '@material-ui/pickers/typings/date';\r\nimport { InputData } from '../../../hook/useFormState';\r\nimport { MdAccessTime } from 'react-icons/md';\r\nimport {\r\n  ControllerObject,\r\n  ControllerInputsGroup,\r\n} from '../../../components/ui/form/ControllerInputsGroup';\r\nimport {\r\n  BaseReservationForm as Form,\r\n  SubmitButton,\r\n} from './ReservationUIComponents';\r\n\r\ntype Props<FormValues> = FormProps<FormValues> & {\r\n  children?: never;\r\n};\r\n\r\ntype FormValues = {\r\n  date: string;\r\n  guests: '1' | '2-4' | '4-8';\r\n  time: string;\r\n};\r\nconst maxFutureDate = add(new Date(), { days: 14 });\r\nconst minDate = add(new Date(), { days: 1 });\r\nfunction ReservationForm2({\r\n  onSubmit,\r\n  register,\r\n  handleChange,\r\n  formValues,\r\n  isSubmittable,\r\n  errors,\r\n}: Props<FormValues>): ReactElement {\r\n  const handleDateChange = (inputName: keyof FormValues) => (\r\n    date: MaterialUiPickersDate\r\n  ): void => {\r\n    const inputData: InputData = {\r\n      currentTarget: {\r\n        name: inputName,\r\n        value: date?.toString() ?? new Date().toString(),\r\n      },\r\n    };\r\n\r\n    handleChange(inputData);\r\n  };\r\n\r\n  const radios: ControllerObject<FormValues, typeof formValues.guests>[] = [\r\n    {\r\n      id: 'guest-1',\r\n      label: 'Alone',\r\n      register: register(),\r\n      value: '1',\r\n    },\r\n    {\r\n      id: 'guest-2',\r\n      label: '2-4 guests',\r\n      register: register(),\r\n      value: '2-4',\r\n    },\r\n    {\r\n      id: 'guest-4',\r\n      label: '4-8 guests',\r\n      register: register(),\r\n      value: '4-8',\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <Form onSubmit={onSubmit} noValidate>\r\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n        <DatePicker\r\n          name=\"date\"\r\n          autoOk\r\n          onChange={handleDateChange('date')}\r\n          disableToolbar\r\n          variant=\"dialog\"\r\n          format=\"MM/dd/yyyy\"\r\n          margin=\"normal\"\r\n          label=\"reservation's date\"\r\n          value={formValues.date}\r\n          inputRef={register({ required: true })}\r\n          minDate={minDate}\r\n          maxDate={maxFutureDate}\r\n          maxDateMessage={`Date must be within 14 days (before ${format(\r\n            maxFutureDate,\r\n            'MM/dd/yy'\r\n          )})`}\r\n          minDateMessage=\"Date cannot be in the past\"\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change date',\r\n          }}\r\n        />\r\n\r\n        <TimePicker\r\n          name=\"time\"\r\n          minutesStep={15}\r\n          ampm={false}\r\n          autoOk\r\n          keyboardIcon={<MdAccessTime />}\r\n          inputRef={register({ required: true })}\r\n          margin=\"normal\"\r\n          id=\"time-picker\"\r\n          label=\"reservation's time\"\r\n          value={formValues.time}\r\n          onChange={handleDateChange('time')}\r\n          KeyboardButtonProps={{\r\n            'aria-label': 'change time',\r\n          }}\r\n        />\r\n      </MuiPickersUtilsProvider>\r\n\r\n      <ControllerInputsGroup\r\n        type=\"radio\"\r\n        label=\"Number of guests\"\r\n        errors={errors}\r\n        defaultCheckedValue={formValues.guests}\r\n        name=\"guests\"\r\n        controllers={radios}\r\n        handleChange={handleChange}\r\n      />\r\n\r\n      <SubmitButton type=\"submit\" disabled={!isSubmittable} outlined>\r\n        SUBMIT\r\n      </SubmitButton>\r\n    </Form>\r\n  );\r\n}\r\n\r\nconst overwritten = css`\r\n  .MuiInputBase-input,\r\n  .MuiFormHelperText-root,\r\n  .MuiInputLabel-root {\r\n    font-size: inherit;\r\n    font-family: 'Montserrat', sans-serif;\r\n  }\r\n\r\n  .MuiInputLabel-shrink {\r\n    transform: translate(0, -1.5px);\r\n  }\r\n\r\n  .MuiInputLabel-root {\r\n    color: ${(p) => p.theme.black};\r\n\r\n    :hover label {\r\n      color: ${(p) => p.theme.primary};\r\n    }\r\n  }\r\n\r\n  .MuiFormHelperText-root {\r\n    font-style: italic;\r\n  }\r\n`;\r\n\r\ninterface DatePickerProps {}\r\nconst DatePicker = styled(KeyboardDatePicker)<DatePickerProps>`\r\n  ${overwritten}\r\n`;\r\n\r\nconst TimePicker = styled(KeyboardTimePicker)<DatePickerProps>`\r\n  ${overwritten}\r\n`;\r\n\r\nexport default ReservationForm2;\r\n","import React, { useState } from 'react';\r\nimport styled, {\r\n  ThemeProvider,\r\n  DefaultTheme,\r\n  css,\r\n} from 'styled-components/macro';\r\nimport { ReservationForm1 } from './components/ReservationForm1';\r\nimport { useFormStep, useScrollToTop, useTitle } from '../../hook';\r\n\r\nimport ReservationForm2 from './components/ReservationForm2';\r\nimport { rgba } from 'polished';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useFormState } from '../../hook/useFormState';\r\nimport { roundToNearestMinutes } from 'date-fns/esm';\r\nimport { add } from 'date-fns';\r\n\r\ninterface ReservationProps {}\r\ninterface FormValues {\r\n  preferredName: string;\r\n  prefix: 'mr' | 'mrs' | 'ms' | 'name';\r\n  email: string;\r\n  date: string;\r\n  time: string;\r\n  guests: '1' | '2-4' | '4-8';\r\n}\r\n\r\nconst NUMBER_OF_STEP = 2;\r\nconst Reservation: React.FC<ReservationProps> = () => {\r\n  useTitle('Reservation');\r\n  useScrollToTop();\r\n\r\n  const [currentStep, nextStep, , jumpToStep] = useFormStep(NUMBER_OF_STEP);\r\n  const [completedStep, setCompletedStep] = useState(-1);\r\n\r\n  const {\r\n    handleSubmit,\r\n    errors,\r\n    register,\r\n    formState,\r\n    triggerValidation,\r\n  } = useForm<FormValues>({\r\n    mode: 'onChange',\r\n    validateCriteriaMode: 'all',\r\n  });\r\n\r\n  const [formValues, handleChange] = useFormState<FormValues>({\r\n    preferredName: '',\r\n    prefix: 'name',\r\n\r\n    email: '',\r\n    date: add(new Date(), { days: 1 }).toDateString(),\r\n    time: roundToNearestMinutes(new Date(), { nearestTo: 15 }).toString(),\r\n    guests: '1',\r\n  });\r\n\r\n  const onSubmitStep1 = handleSubmit((_, __) => {\r\n    nextStep();\r\n    setCompletedStep(1);\r\n  });\r\n  const onSubmitStep2 = handleSubmit((_, __) => {\r\n    setCompletedStep(2);\r\n  });\r\n\r\n  let form;\r\n  switch (currentStep) {\r\n    case 1:\r\n      form = (\r\n        <ReservationForm1\r\n          isSubmittable={formState.isValid}\r\n          formValues={formValues}\r\n          register={register}\r\n          errors={errors}\r\n          handleChange={handleChange}\r\n          onSubmit={onSubmitStep1}\r\n        />\r\n      );\r\n      break;\r\n    case 2:\r\n      form = (\r\n        <ReservationForm2\r\n          isSubmittable={formState.isValid}\r\n          formValues={formValues}\r\n          register={register}\r\n          errors={errors}\r\n          handleChange={handleChange}\r\n          onSubmit={onSubmitStep2}\r\n          triggerValidation={triggerValidation}\r\n        />\r\n      );\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider\r\n      theme={(defaultTheme: DefaultTheme) => ({\r\n        ...defaultTheme,\r\n        primary: defaultTheme.formTheme,\r\n      })}\r\n    >\r\n      <Container>\r\n        <FormContainer>\r\n          <FormHeader>\r\n            <Header>Reservation</Header>\r\n            <FormSelectButtons>\r\n              <FormSelectButton\r\n                active={currentStep === 1}\r\n                onClick={() => jumpToStep(1)}\r\n              >\r\n                INFO\r\n              </FormSelectButton>\r\n\r\n              <FormSelectButton\r\n                disabled={completedStep < 1}\r\n                active={currentStep === 2}\r\n                onClick={() => jumpToStep(2)}\r\n              >\r\n                BOOKING\r\n              </FormSelectButton>\r\n            </FormSelectButtons>\r\n          </FormHeader>\r\n\r\n          <FormBody>{form}</FormBody>\r\n        </FormContainer>\r\n        <Image />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n};\r\n\r\nconst Container = styled.section`\r\n  max-width: 100vw;\r\n  margin: 2rem;\r\n  position: relative;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n    min-height: 100vh;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.lg}) {\r\n    min-height: 100vh;\r\n  }\r\n`;\r\n\r\ninterface FormContainerProps {}\r\nconst FormContainer = styled.div<FormContainerProps>`\r\n  width: 100%;\r\n  shape-margin: 2rem;\r\n  background: ${(p) => p.theme.white};\r\n  z-index: ${(p) => p.theme.zIndex.lw};\r\n  margin: auto 0;\r\n\r\n  display: flex;\r\n  flex-direction: column;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    align-items: flex-start;\r\n\r\n    clip-path: polygon(0 0, 100% 0, 90% 100%, 0 100%);\r\n    width: 50%;\r\n    height: 100%;\r\n  }\r\n`;\r\nconst FormHeader = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-top: 1rem;\r\n  justify-content: space-between;\r\n  margin-bottom: 2rem;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n    flex-direction: row;\r\n  }\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst FormBody = styled.div`\r\n  width: 100%;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.sm}) {\r\n    width: 80%;\r\n  }\r\n`;\r\nconst Header = styled.h2``;\r\n\r\nconst FormSelectButtons = styled.div`\r\n  display: flex;\r\n  align-self: stretch;\r\n`;\r\n\r\ninterface ButtonProps {\r\n  active: boolean;\r\n  inactive?: boolean;\r\n}\r\nconst FormSelectButton = styled.button<ButtonProps>`\r\n  padding: 0.75rem 1rem;\r\n  border: none;\r\n  color: ${(p) => p.theme.white};\r\n  background: ${(p) => p.theme.grey};\r\n  width: max-content;\r\n  cursor: ${(p) => (p.disabled ? 'not-allowed' : 'pointer')};\r\n  transition: flex 400ms cubic-bezier(0, 0, 0.2, 1), background 200ms ease,\r\n    transform 200ms cubic-bezier(0, 0, 0.2, 1);\r\n  ${(p) =>\r\n    p.active &&\r\n    css`\r\n      color: ${p.theme.white};\r\n      background: ${p.theme.primary};\r\n      flex: 1;\r\n\r\n      @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n        transform: translateY(-0.2rem);\r\n        flex: unset;\r\n      }\r\n    `};\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.xs}) {\r\n    border-radius: 10px 10px 0 0;\r\n  }\r\n`;\r\n\r\nconst Image = styled.div`\r\n  width: 100%;\r\n  height: 15vh;\r\n  margin-top: 2rem;\r\n\r\n  background: linear-gradient(\r\n      ${(p) => rgba(p.theme.black, 0.6)},\r\n      ${(p) => rgba(p.theme.black, 0.6)}\r\n    ),\r\n    url('https://i.imgur.com/UOWF4s0.jpg');\r\n  background-size: cover;\r\n\r\n  background-position: center;\r\n\r\n  @media screen and (min-width: ${(p) => p.theme.breakpoints.md}) {\r\n    margin: 0;\r\n    /* width is calc-ed on the third point of form's polygon */\r\n    width: 60%;\r\n\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    height: 100%;\r\n  }\r\n`;\r\n\r\nexport default Reservation;\r\n","import { useState } from 'react';\r\n\r\nexport type InputData = {\r\n  currentTarget: {\r\n    name: string;\r\n    value: string;\r\n  };\r\n};\r\nexport type handleInputChange = (\r\n  e: React.FormEvent<HTMLInputElement> | InputData\r\n) => void;\r\n\r\nexport const useFormState = <FormValues>(\r\n  initialState: FormValues\r\n): [FormValues, handleInputChange] => {\r\n  const [formState, setFormState] = useState<FormValues>(initialState);\r\n\r\n  const handleInputChange: handleInputChange = (e) => {\r\n    const { name, value } = e.currentTarget;\r\n    setFormState((prev): FormValues => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  return [formState, handleInputChange];\r\n};\r\n","import React from 'react';\r\nimport { useScrollToTop, useTitle } from '../../hook';\r\n\r\ninterface EmptyProps {}\r\n\r\nconst Empty: React.FC<EmptyProps> = () => {\r\n  useScrollToTop();\r\n  useTitle('Page not found');\r\n\r\n  return <div>Empty</div>;\r\n};\r\n\r\nexport default Empty;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {\r\n  name: string;\r\n  price: number;\r\n  quantity: number;\r\n};\r\n\r\nfunction ItemDetail({ name, price, quantity }: Props): ReactElement {\r\n  return (\r\n    <>\r\n      <ItemInfo>\r\n        <ItemName>{name}</ItemName>\r\n        <ItemPrice>${price.toFixed(2)} each</ItemPrice>\r\n      </ItemInfo>\r\n      <Quantity>x{quantity}</Quantity>\r\n      <ItemTotalPrice>${(price * quantity).toFixed(2)}</ItemTotalPrice>\r\n    </>\r\n  );\r\n}\r\n\r\ntype ItemInfoProps = {};\r\nconst ItemInfo = styled.div<ItemInfoProps>`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\ntype ItemNameProps = {};\r\nconst ItemName = styled.h4<ItemNameProps>`\r\n  text-transform: capitalize;\r\n  font-weight: 400;\r\n  font-family: 'Montserrat', sans-serif;\r\n`;\r\n\r\ntype ItemSubInfoProps = {};\r\nconst ItemPrice = styled.span<ItemSubInfoProps>`\r\n  color: ${(p) => p.theme.grey};\r\n  font-size: 0.9rem;\r\n  font-style: italic;\r\n`;\r\n\r\ntype QuantityProps = {};\r\nconst Quantity = styled.span<QuantityProps>`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  color: ${(p) => p.theme.grey};\r\n`;\r\n\r\ntype TotalPriceProps = {};\r\nconst ItemTotalPrice = styled.span<TotalPriceProps>`\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  font-weight: 400;\r\n`;\r\n\r\nexport { ItemDetail };\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {};\r\n\r\nfunction ItemDetailsHeader(props: Props): ReactElement {\r\n  return (\r\n    <>\r\n      <Header>Item</Header>\r\n      <Header>Quantity</Header>\r\n      <Header>Price</Header>\r\n    </>\r\n  );\r\n}\r\n\r\ntype HeaderProps = {};\r\nconst Header = styled.h3<HeaderProps>`\r\n  font-family: 'Montserrat', sans-serif;\r\n  font-size: 1.2rem;\r\n  text-transform: uppercase;\r\n`;\r\n\r\nexport { ItemDetailsHeader };\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\n\r\ntype Props = {};\r\n\r\nfunction ItemDetailsFooter(props: Props): ReactElement {\r\n  return (\r\n    <React.Fragment>\r\n      <div />\r\n      <Footer>\r\n        <Sub>Subtotal</Sub>\r\n        <Sub>Tip</Sub>\r\n        <Sub>Shipping</Sub>\r\n\r\n        <Primary>Total</Primary>\r\n      </Footer>\r\n\r\n      <Footer>\r\n        <Sub>$99.00</Sub>\r\n        <Sub>$9.99</Sub>\r\n        <Sub>$0.00</Sub>\r\n\r\n        <Primary>$100.00</Primary>\r\n      </Footer>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\ntype LabelsProps = {};\r\nconst Footer = styled.div<LabelsProps>``;\r\n\r\ntype LabelProps = {};\r\nconst Primary = styled.p<LabelProps>`\r\n  font-size: 1.2rem;\r\n`;\r\n\r\ntype SubProps = {};\r\nconst Sub = styled.p<SubProps>`\r\n  font-size: 0.8rem;\r\n  color: ${(p) => p.theme.grey};\r\n`;\r\n\r\nexport { ItemDetailsFooter };\r\n","import React, { ReactElement, useEffect } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport { ItemDetail } from './components/ItemDetail';\r\nimport { ItemDetailsHeader } from './components/ItemDetailsHeader';\r\nimport { ItemDetailsFooter } from './components/ItemDetailsFooter';\r\nimport { useParams } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { displayedOrderSelector, fetchOrder } from '../../features/orderSlice';\r\nimport { format } from 'date-fns';\r\nimport { useTitle, useScrollToTop } from '../../hook';\r\n\r\ntype Props = {};\r\n\r\nfunction OrderDetail(): ReactElement {\r\n  useTitle('Order Detail');\r\n  useScrollToTop();\r\n  const { orderId } = useParams<{ orderId: string | undefined }>();\r\n  const dispatch = useDispatch();\r\n  const order = useSelector(displayedOrderSelector);\r\n\r\n  useEffect(() => {\r\n    if (orderId) dispatch(fetchOrder({ orderId }));\r\n  }, [dispatch, orderId]);\r\n\r\n  return (\r\n    <Container>\r\n      <Header>Order's Detail</Header>\r\n      {order ? (\r\n        <>\r\n          <SubHeader>\r\n            {format(new Date(order.createdDate), 'MMMM do, yyyy')}\r\n          </SubHeader>\r\n\r\n          <ItemDetails>\r\n            <ItemDetailsHeader />\r\n            {Object.values(order.items).map(({ name, quantity, price, id }) => (\r\n              <ItemDetail\r\n                key={id}\r\n                name={name}\r\n                quantity={quantity}\r\n                price={price}\r\n              />\r\n            ))}\r\n            <ItemDetailsFooter />\r\n          </ItemDetails>\r\n        </>\r\n      ) : (\r\n        'Order not found'\r\n      )}\r\n    </Container>\r\n  );\r\n}\r\n\r\ntype ContainerProps = {};\r\nconst Container = styled.div<ContainerProps>`\r\n  max-width: 50rem;\r\n  margin-right: auto;\r\n  padding: 2rem;\r\n`;\r\n\r\ntype HeaderProps = {};\r\nconst Header = styled.h2<HeaderProps>``;\r\n\r\ntype SubHeaderProps = {};\r\nconst SubHeader = styled.h3<SubHeaderProps>`\r\n  font-family: 'Montserrat', sans-serif;\r\n  font-size: 1.2rem;\r\n  font-weight: 500;\r\n`;\r\n\r\ntype ItemDetailsProps = {};\r\nconst ItemDetails = styled.div<ItemDetailsProps>`\r\n  display: grid;\r\n  grid-template-columns: 1fr auto auto;\r\n  row-gap: 1rem;\r\n  column-gap: 2rem;\r\n\r\n  margin-top: 2rem;\r\n  padding-bottom: 1.5rem;\r\n  border-bottom: 1px dotted ${(p) => p.theme.black};\r\n`;\r\n\r\nexport { OrderDetail };\r\n","import React, { ReactElement } from 'react';\r\nimport { RouteProps, Route, Redirect } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { userSelector } from '../../features/userSlice';\r\n\r\ntype Props = RouteProps & {\r\n  children: ReactElement;\r\n};\r\n\r\nfunction ProtectedRoute({ children, ...routeProps }: Props): ReactElement {\r\n  const { email } = useSelector(userSelector);\r\n  const isAuthenticated = !!email;\r\n\r\n  return (\r\n    <Route\r\n      {...routeProps}\r\n      render={({ location }) =>\r\n        isAuthenticated ? (\r\n          children\r\n        ) : (\r\n          <Redirect to={{ pathname: '/login', state: { from: location } }} />\r\n        )\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React, { ReactElement } from 'react';\r\nimport styled from 'styled-components/macro';\r\nimport {\r\n  useLocation,\r\n  RouteComponentProps,\r\n  useHistory,\r\n  Redirect,\r\n} from 'react-router-dom';\r\nimport { TextField } from '../../components/ui/form/TextField';\r\nimport { BaseForm } from '../../components/ui/form/BaseForm';\r\nimport { useForm } from 'react-hook-form';\r\nimport { BaseButton } from '../../components/ui/BaseButton';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { authUser, userSelector } from '../../features/userSlice';\r\nimport { useTitle, useScrollToTop } from '../../hook';\r\n\r\ntype Props = {};\r\n\r\nexport type LoginFormValues = {\r\n  email: string;\r\n  password: string;\r\n};\r\n\r\nfunction Login(props: Props): ReactElement {\r\n  useTitle('Login');\r\n  useScrollToTop();\r\n  // note the undefined\r\n  const { state } = useLocation<\r\n    { from?: RouteComponentProps['location'] } | undefined\r\n  >();\r\n  const history = useHistory();\r\n  let pathname = state?.from?.pathname ?? '/';\r\n  const { register, errors, handleSubmit, formState } = useForm<\r\n    LoginFormValues\r\n  >({\r\n    mode: 'onChange',\r\n    validateCriteriaMode: 'all',\r\n  });\r\n\r\n  const dispatch = useDispatch();\r\n  const { email } = useSelector(userSelector);\r\n\r\n  const onSubmit = handleSubmit((formData) => {\r\n    dispatch(authUser(formData));\r\n    history.push(pathname);\r\n  });\r\n\r\n  return email ? (\r\n    <Redirect to=\"/me\" />\r\n  ) : (\r\n    <BaseForm onSubmit={onSubmit} noValidate>\r\n      <TextField\r\n        id=\"login-email\"\r\n        label=\"Email\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        errors={errors}\r\n        register={register({\r\n          required: 'Email is required',\r\n          pattern: {\r\n            value: /.*@.*\\..+/,\r\n            message: 'Not a valid email',\r\n          },\r\n        })}\r\n      />\r\n\r\n      <TextField\r\n        id=\"login-password\"\r\n        label=\"Password\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        errors={errors}\r\n        register={register({ required: 'Password is required' })}\r\n      />\r\n\r\n      <SubmitButton disabled={!formState.isValid} type=\"submit\">\r\n        Login\r\n      </SubmitButton>\r\n    </BaseForm>\r\n  );\r\n}\r\n\r\ntype SubmitButtonProps = {};\r\nconst SubmitButton = styled(BaseButton).attrs({ outlined: true })<\r\n  SubmitButtonProps\r\n>``;\r\n\r\nexport default Login;\r\n","import React, { ReactElement } from 'react';\r\nimport styled, { ThemeProvider, DefaultTheme } from 'styled-components/macro';\r\nimport { BaseForm } from '../../components/ui/form/BaseForm';\r\nimport { useForm } from 'react-hook-form';\r\nimport { TextField } from '../../components/ui/form/TextField';\r\nimport { BaseButton } from '../../components/ui/BaseButton';\r\nimport { useDispatch } from 'react-redux';\r\nimport { registerUser } from '../../features/userSlice';\r\nimport { useTitle, useScrollToTop } from '../../hook';\r\n\r\ntype Props = {\r\n  className?: string;\r\n  defaultValues?: Partial<RegisterFormValues>;\r\n};\r\n\r\nexport type RegisterFormValues = {\r\n  email: string;\r\n  password: string;\r\n  confirmPassword: string;\r\n  preferredName: string;\r\n  address: string;\r\n  phone: string;\r\n};\r\n\r\nfunction Register({ className, defaultValues }: Props): ReactElement {\r\n  const dispatch = useDispatch();\r\n  useTitle('Sign up');\r\n  useScrollToTop();\r\n\r\n  const { register, handleSubmit, errors, getValues, formState } = useForm<\r\n    RegisterFormValues\r\n  >({\r\n    mode: 'onChange',\r\n    validateCriteriaMode: 'all',\r\n    defaultValues: {\r\n      ...defaultValues,\r\n    },\r\n  });\r\n\r\n  const onSubmit = handleSubmit((data) => {\r\n    dispatch(registerUser(data));\r\n  });\r\n\r\n  return (\r\n    <ThemeProvider\r\n      theme={(theme): DefaultTheme => ({ ...theme, primary: theme.formTheme })}\r\n    >\r\n      <BaseForm onSubmit={onSubmit} noValidate className={className}>\r\n        <TextField\r\n          required\r\n          id=\"register-email\"\r\n          name=\"email\"\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          errors={errors}\r\n          register={register({\r\n            required: 'Email is required',\r\n            pattern: {\r\n              value: /.*@.*\\..+/,\r\n              message: 'Not a valid email',\r\n            },\r\n          })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-password\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          label=\"Password\"\r\n          errors={errors}\r\n          register={register({ required: 'Password is required' })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-confirmPassword\"\r\n          type=\"password\"\r\n          name=\"confirmPassword\"\r\n          label=\"Confirm Password\"\r\n          errors={errors}\r\n          register={register({\r\n            validate: (value: string) =>\r\n              value === getValues().password || 'Password does not match',\r\n          })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-preferredName\"\r\n          name=\"preferredName\"\r\n          label=\"Preferred Name\"\r\n          type=\"text\"\r\n          errors={errors}\r\n          register={register({ required: 'Preferred name is required' })}\r\n        />\r\n\r\n        <TextField\r\n          required\r\n          id=\"register-address\"\r\n          type=\"text\"\r\n          name=\"address\"\r\n          label=\"Address\"\r\n          errors={errors}\r\n          register={register({ required: 'Address is required' })}\r\n        />\r\n\r\n        <TextField\r\n          id=\"register-phone\"\r\n          type=\"tel\"\r\n          name=\"phone\"\r\n          label=\"Phone\"\r\n          errors={errors}\r\n          register={register({\r\n            pattern: {\r\n              value: /(\\d[- ]?){9}\\d$/,\r\n              message: 'Not a valid Canadian number',\r\n            },\r\n          })}\r\n        />\r\n\r\n        <SubmitButton disabled={!formState.isValid} type=\"submit\">\r\n          Sign up\r\n        </SubmitButton>\r\n      </BaseForm>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\ntype SubmitButtonProps = {};\r\nconst SubmitButton = styled(BaseButton).attrs({ outlined: true })<\r\n  SubmitButtonProps\r\n>``;\r\n\r\nexport default Register;\r\n","import React, { useEffect } from 'react';\r\nimport { ThemeProvider } from 'styled-components';\r\nimport { lightTheme } from './theme/lightTheme';\r\nimport { GlobalStyle } from './theme/GlobalStyle';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport { Layout } from './hoc/Layout';\r\nimport UserDashboard from './pages/userDashboard/UserDashboard';\r\nimport Reservation from './pages/reservation/Reservation';\r\nimport Empty from './pages/empty/Empty';\r\nimport { OrderDetail } from './pages/orderDetail/OrderDetail';\r\nimport ProtectedRoute from './components/navigation/ProtectedRoute';\r\nimport Login from './pages/login/Login';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { initCart, cartSelector, syncCart } from './features/cartSlice';\r\nimport { initUser, userSelector } from './features/userSlice';\r\nimport Register from './pages/register/Register';\r\nimport { LoadingScreen } from './components/ui/LoadingScreen/LoadingScreen';\r\nimport { fetchOrders } from './features/orderSlice';\r\n\r\nconst Menu = React.lazy(() => import('./pages/menu/Menu'));\r\nconst Landing = React.lazy(() => import('./pages/landing/Landing'));\r\nconst Cart = React.lazy(() => import('./pages/cart/Cart'));\r\n\r\nfunction App() {\r\n  const dispatch = useDispatch();\r\n  const { id: cartId } = useSelector(cartSelector);\r\n  const { email } = useSelector(userSelector);\r\n\r\n  useEffect(() => {\r\n    const userEmail = localStorage.getItem('userEmail');\r\n    if (userEmail) {\r\n      dispatch(initUser(userEmail));\r\n      dispatch(fetchOrders({ userEmail }));\r\n    }\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    dispatch(initCart());\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    if (email && cartId) {\r\n      dispatch(syncCart());\r\n    }\r\n  }, [email, cartId, dispatch]);\r\n\r\n  return (\r\n    <ThemeProvider theme={lightTheme}>\r\n      <GlobalStyle />\r\n      <Layout>\r\n        <Switch>\r\n          <Route path=\"/orders/:orderId\" component={OrderDetail} />\r\n\r\n          <ProtectedRoute path=\"/me\">\r\n            <UserDashboard />\r\n          </ProtectedRoute>\r\n          <Route path=\"/register\" component={Register} />\r\n          <Route path=\"/login\" component={Login} />\r\n          <Route path=\"/reservation\" component={Reservation} />\r\n\r\n          <React.Suspense fallback={<LoadingScreen />}>\r\n            <Route path=\"/cart\" component={Cart} />\r\n            <Route path=\"/menu\" component={Menu} />\r\n            <Route path=\"/\" exact component={Landing} />\r\n          </React.Suspense>\r\n\r\n          <Route component={Empty} />\r\n        </Switch>\r\n      </Layout>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { AppThunk, RootState } from '../../app/store';\r\n\r\ninterface CounterState {\r\n  value: number;\r\n}\r\n\r\nconst initialState: CounterState = {\r\n  value: 0,\r\n};\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState,\r\n  reducers: {\r\n    increment: state => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: state => {\r\n      state.value -= 1;\r\n    },\r\n    // Use the PayloadAction type to declare the contents of `action.payload`\r\n    incrementByAmount: (state, action: PayloadAction<number>) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\nexport const incrementAsync = (amount: number): AppThunk => dispatch => {\r\n  setTimeout(() => {\r\n    dispatch(incrementByAmount(amount));\r\n  }, 1000);\r\n};\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\r\nexport const selectCount = (state: RootState) => state.counter.value;\r\n\r\nexport default counterSlice.reducer;\r\n","import { configureStore, ThunkAction, Action } from '@reduxjs/toolkit';\r\nimport counterReducer from '../features/counter/counterSlice';\r\nimport loadingReducer from '../features/loadingSlice';\r\nimport cartReducer from '../features/cartSlice';\r\nimport userReducer from '../features/userSlice';\r\nimport orderReducer from '../features/orderSlice';\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n    counter: counterReducer,\r\n    loading: loadingReducer,\r\n    cart: cartReducer,\r\n    user: userReducer,\r\n    orders: orderReducer,\r\n  },\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type AppThunk<ReturnType = void> = ThunkAction<\r\n  ReturnType,\r\n  RootState,\r\n  unknown,\r\n  Action<string>\r\n>;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport { store } from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <HashRouter basename=\"/\">\r\n        <App />\r\n      </HashRouter>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n","import axios from 'axios';\r\n\r\nexport const firebaseApi = axios.create({\r\n  baseURL: 'https://tamago-sushi-bar.firebaseio.com/',\r\n});\r\n","import { useState } from 'react';\r\n\r\ntype useToggleFn = () => [boolean, () => void];\r\n\r\nexport const useToggle: useToggleFn = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const toggleOpen = () => {\r\n    setIsOpen((prev) => !prev);\r\n  };\r\n\r\n  return [isOpen, toggleOpen];\r\n};\r\n","import { useLocation } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\n\r\nexport const useScroll = (): void => {\r\n  const { hash } = useLocation();\r\n\r\n  useEffect(() => {\r\n    if (hash) {\r\n      const element = document.querySelector(hash);\r\n\r\n      if (element) {\r\n        element.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n        // element.scrollTo({ behavior: 'smooth', top: 0 });\r\n      }\r\n    } else {\r\n      window.scroll(0, 0);\r\n    }\r\n  }, [hash]);\r\n};\r\n","import { useState, useCallback } from 'react';\r\n\r\n/**\r\n * @description return the currentStep and step controllers\r\n * @param numberOfSteps the total number of steps, counting from 1\r\n */\r\nexport const useFormStep = (\r\n  numberOfSteps: number\r\n): [number, () => void, () => void, (step: number) => void] => {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n\r\n  const nextStep = useCallback(() => {\r\n    if (currentStep <= numberOfSteps) {\r\n      setCurrentStep((prev) => prev + 1);\r\n    }\r\n  }, [currentStep, numberOfSteps]);\r\n\r\n  const prevStep = useCallback(() => {\r\n    if (currentStep > 1) {\r\n      setCurrentStep((prev) => prev - 1);\r\n    }\r\n  }, [currentStep]);\r\n\r\n  const jumpToStep = useCallback(\r\n    (step: number) => {\r\n      if (step >= 1 && step <= numberOfSteps) {\r\n        setCurrentStep(step);\r\n      } else {\r\n        throw new Error('selected step is out of range');\r\n      }\r\n    },\r\n    [numberOfSteps]\r\n  );\r\n\r\n  return [currentStep, nextStep, prevStep, jumpToStep];\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nexport const useTitle = (title: string) => {\r\n  useEffect(() => {\r\n    document.title = title + ' | Tamago Sushi Bar';\r\n  }, [title]);\r\n};\r\n","import { useEffect } from 'react';\r\n\r\nexport const useScrollToTop = () => {\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, []);\r\n};\r\n","import _ from 'lodash';\r\n\r\nexport const keyObjectToObjectWithKey = <T>(\r\n  object: Record<string, T>\r\n): T & { id: string } => {\r\n  const [key, value] = Object.entries(object)[0];\r\n  return {\r\n    id: key,\r\n    ...value,\r\n  };\r\n};\r\n\r\nexport const recursiveKeyObjectToObjectWithKey = <T extends object>(\r\n  srcObj: Record<string, T>\r\n): Record<string, T & { id: string }> => {\r\n  return _.transform<T, Record<string, T & { id: string }>>(\r\n    srcObj,\r\n    (newObj, value, key) => (newObj[key] = _.assign(value, { id: key }))\r\n  );\r\n};\r\n","import { CartItem, Cart, CartState, CartItems } from '../features/sliceTypes';\r\nimport _ from 'lodash';\r\nimport { UiState } from '../features/uiTypes';\r\n\r\n/* ------------------------------ CART HELPERS ------------------------------ */\r\nexport const sumOfCartItems = (items: CartItems): number => {\r\n  return Object.values(items).reduce(\r\n    (sum, item) => sum + item.price * item.quantity,\r\n    0\r\n  );\r\n};\r\n\r\n// export const calculateCart = (cart: Cart): Cart => {\r\n//   const calculatedCart = { ...cart };\r\n//   calculatedCart.subtotal = sumOfCartItems(calculatedCart.items);\r\n//   calculatedCart.total =\r\n//     calculatedCart.shipping + calculatedCart.subtotal + calculatedCart.tip;\r\n//   return calculatedCart;\r\n// };\r\n\r\n/* mutating ON PURPOSE, utilize Immer in RTK */\r\nexport const calculateCartOnSuccess = (cartState: CartState): void => {\r\n  cartState.isLoading = false;\r\n  cartState.error = null;\r\n  cartState.subtotal = sumOfCartItems(cartState.items);\r\n  cartState.shipping = cartState.subtotal > 35 ? 0 : 5;\r\n  cartState.total = cartState.shipping + cartState.subtotal + cartState.tip;\r\n};\r\n\r\nexport const getCartItemIdByKey = (\r\n  cart: Cart,\r\n  key: keyof CartItem,\r\n  value: string\r\n): string | undefined => {\r\n  return _.findKey(cart.items, (obj: CartItem) => {\r\n    return obj[key] === value;\r\n  });\r\n};\r\n\r\nexport const getCartItemById = (cart: Cart, itemId: string): CartItem => {\r\n  return cart.items[itemId];\r\n};\r\n\r\nexport const mergeWithUiState = <T extends object>(object: T): T & UiState => {\r\n  return { ...object, isLoading: false, error: null };\r\n};\r\n\r\nexport const itemsToItemsState = <T extends object>(\r\n  cartItems: Record<string, T>\r\n): Record<string, T & UiState> => {\r\n  return _.transform<T, Record<string, T & UiState>>(\r\n    cartItems,\r\n    (cartItemsState, value, key) => {\r\n      return (cartItemsState[key] = mergeWithUiState(value));\r\n    },\r\n    {}\r\n  );\r\n};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { AppThunk, RootState } from '../app/store';\r\nimport axios from 'axios';\r\nimport { RegisterFormValues } from '../pages/register/Register';\r\nimport { LoginFormValues } from '../pages/login/Login';\r\nimport {\r\n  FireBaseRegisterResponse,\r\n  FireBaseLoginResponse,\r\n  UserState,\r\n  FireBaseRegisterRequest,\r\n  DatabaseUser,\r\n  FireBaseLoginRequest,\r\n} from './sliceTypes';\r\nimport { firebaseApi } from '../apis/firebase';\r\nimport { keyObjectToObjectWithKey, asyncDispatchWrapper } from '../helpers';\r\nimport _ from 'lodash';\r\n\r\nconst initialState: UserState = {\r\n  email: null,\r\n  address: '',\r\n  joinDate: '',\r\n  phone: '',\r\n  preferredName: '',\r\n  totalTip: 0,\r\n  isLoading: false,\r\n  error: null,\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    /* initUser */\r\n    initUserRequest: (_) => {\r\n      return { ...initialState, isLoading: true, error: null };\r\n    },\r\n    initUserSuccess: (_, { payload }: PayloadAction<DatabaseUser>) => {\r\n      return {\r\n        ...payload,\r\n        totalTip: +payload.totalTip,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    },\r\n    initUserFailed: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* Auth */\r\n    authRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    authSuccess: (_, { payload }: PayloadAction<DatabaseUser>) => {\r\n      localStorage.setItem('userEmail', payload.email);\r\n\r\n      return {\r\n        ...payload,\r\n        totalTip: +payload.totalTip,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    },\r\n    authFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* Logout */\r\n    logout: (_) => {\r\n      localStorage.clear();\r\n      return { ...initialState };\r\n    },\r\n    /* Register */\r\n    registerRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    registerSuccess: (_, { payload }: PayloadAction<DatabaseUser>) => {\r\n      localStorage.setItem('userEmail', payload.email);\r\n\r\n      return {\r\n        ...payload,\r\n        totalTip: +payload.totalTip,\r\n        isLoading: false,\r\n        error: null,\r\n      };\r\n    },\r\n    registerFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default userSlice.reducer;\r\nexport const userSelector = (state: RootState) => state.user;\r\nexport const { logout } = userSlice.actions;\r\n\r\nconst {\r\n  authFailure,\r\n  authRequest,\r\n  authSuccess,\r\n  registerFailure,\r\n  registerRequest,\r\n  registerSuccess,\r\n  initUserFailed,\r\n  initUserRequest,\r\n  initUserSuccess,\r\n} = userSlice.actions;\r\n\r\nexport const initUser = (userEmail: string): AppThunk => async (dispatch) => {\r\n  asyncDispatchWrapper(getUserByEmail, dispatch, initUserFailed);\r\n\r\n  async function getUserByEmail() {\r\n    dispatch(initUserRequest());\r\n\r\n    const { data } = await firebaseApi.get<Record<string, DatabaseUser> | {}>(\r\n      '/users.json',\r\n      {\r\n        params: {\r\n          orderBy: '\"email\"',\r\n          equalTo: `\"${userEmail}\"`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!_.isEmpty(data)) {\r\n      dispatch(initUserSuccess(keyObjectToObjectWithKey(data)));\r\n    } else {\r\n      dispatch(initUserFailed('Invalid request'));\r\n    }\r\n  }\r\n};\r\n\r\nexport const registerUser = ({\r\n  address,\r\n  password,\r\n  preferredName,\r\n  phone,\r\n  email,\r\n}: RegisterFormValues): AppThunk => async (dispatch) => {\r\n  dispatch(registerRequest());\r\n\r\n  try {\r\n    const bodyRequest: FireBaseRegisterRequest = {\r\n      email,\r\n      password,\r\n      displayName: preferredName,\r\n      returnSecureToken: true,\r\n    };\r\n    await axios.post<FireBaseRegisterResponse>(\r\n      `https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=${process.env.REACT_APP_FIREBASE}`,\r\n      bodyRequest\r\n    );\r\n\r\n    const newUser: DatabaseUser = {\r\n      email,\r\n      preferredName,\r\n      phone,\r\n      address,\r\n      joinDate: new Date().toDateString(),\r\n      totalTip: '0',\r\n    };\r\n\r\n    await firebaseApi.post('/users.json', newUser);\r\n    dispatch(registerSuccess(newUser));\r\n  } catch (error) {\r\n    dispatch(\r\n      registerFailure(\r\n        error?.response?.data?.error?.message ?? 'Something went wrong'\r\n      )\r\n    );\r\n  }\r\n};\r\n\r\nexport const authUser = ({\r\n  email,\r\n  password,\r\n}: LoginFormValues): AppThunk => async (dispatch) => {\r\n  dispatch(authRequest());\r\n\r\n  try {\r\n    const bodyRequest: FireBaseLoginRequest = {\r\n      email,\r\n      password,\r\n      returnSecureToken: true,\r\n    };\r\n    await axios.post<FireBaseLoginResponse>(\r\n      `https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=${process.env.REACT_APP_FIREBASE}`,\r\n      bodyRequest\r\n    );\r\n\r\n    const { data } = await firebaseApi.get<Record<string, DatabaseUser> | {}>(\r\n      '/users.json',\r\n      {\r\n        params: {\r\n          orderBy: '\"email\"',\r\n          equalTo: `\"${email}\"`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!_.isEmpty(data)) {\r\n      dispatch(authSuccess(keyObjectToObjectWithKey(data)));\r\n    } else {\r\n      dispatch(authFailure('Invalid Request'));\r\n    }\r\n  } catch (error) {\r\n    dispatch(\r\n      authFailure(\r\n        error?.response?.data?.error?.message ?? 'Something went wrong'\r\n      )\r\n    );\r\n  }\r\n};\r\n","/* -------------------------------- TextField ------------------------------- */\r\n\r\nimport React from 'react';\r\nimport { FieldElement } from 'react-hook-form';\r\nimport ErrorText, { ErrorTextProps } from './ErrorText';\r\nimport styled, { ThemeProvider, DefaultTheme } from 'styled-components/macro';\r\n\r\nexport interface TextFieldProps<FormValues> {\r\n  register: (ref: FieldElement<FormValues> | null) => void;\r\n  id: string;\r\n  label: string;\r\n  name: keyof FormValues;\r\n  type?:\r\n    | 'text'\r\n    | 'password'\r\n    | 'number'\r\n    | 'tel'\r\n    | 'email'\r\n    | 'time'\r\n    | 'week'\r\n    | 'date'\r\n    | 'datetime-local';\r\n}\r\n\r\nexport function TextField<FormValues>({\r\n  register,\r\n  onChange,\r\n  errors,\r\n  name,\r\n  label,\r\n  id,\r\n  type = 'text',\r\n  disabled,\r\n  required,\r\n  ...htmlInputProps\r\n}: TextFieldProps<FormValues> &\r\n  React.InputHTMLAttributes<HTMLInputElement> &\r\n  ErrorTextProps) {\r\n  const hasError = Boolean(errors[name]);\r\n\r\n  const switchPrimaryColor = (theme: DefaultTheme): DefaultTheme => {\r\n    if (hasError) {\r\n      return { ...theme, primary: theme.error, black: theme.error };\r\n    }\r\n\r\n    if (disabled) {\r\n      return { ...theme, primary: '#ccc', black: '#ccc' };\r\n    }\r\n\r\n    return theme;\r\n  };\r\n\r\n  return (\r\n    <ThemeProvider theme={switchPrimaryColor}>\r\n      <Container>\r\n        <InputWrapper>\r\n          <Input\r\n            {...htmlInputProps}\r\n            id={id}\r\n            type={type}\r\n            name={name}\r\n            ref={register}\r\n            onChange={onChange}\r\n            placeholder=\" \"\r\n            disabled={disabled}\r\n          />\r\n          <Label required={required} htmlFor={id}>\r\n            {label}\r\n          </Label>\r\n          <BottomBar />\r\n        </InputWrapper>\r\n        <ErrorText errors={errors} name={name} />\r\n      </Container>\r\n    </ThemeProvider>\r\n  );\r\n}\r\nconst Container = styled.div``;\r\n\r\ninterface InputWrapperProps {}\r\nconst InputWrapper = styled.div<InputWrapperProps>`\r\n  position: relative;\r\n  overflow: hidden;\r\n\r\n  border: none;\r\n  width: 100%;\r\n  margin-bottom: 1rem;\r\n\r\n  :hover label {\r\n    color: ${(p) => p.theme.primary};\r\n  }\r\n`;\r\n\r\ntype InputProps = {};\r\nconst Input = styled.input.attrs({ marginTop: '2rem', borderBottom: '' })<\r\n  InputProps\r\n>`\r\n  appearance: none;\r\n  display: block;\r\n  font-size: inherit;\r\n\r\n  width: 100%;\r\n  margin-top: ${(p) => p.marginTop};\r\n  padding-bottom: 1rem;\r\n  outline: none;\r\n  background: transparent;\r\n  /* Same with BottomBar */\r\n  border-width: 0 0 1px 0;\r\n  border-style: solid;\r\n  border-color: ${(p) => p.theme.black};\r\n\r\n  cursor: ${(p) => p.disabled && 'not-allowed'};\r\n\r\n  &:placeholder-shown + label {\r\n    /* Y equals to input margin-top */\r\n    transform: translateY(${(p) => p.marginTop});\r\n  }\r\n\r\n  &:focus {\r\n    + label {\r\n      color: ${(p) => p.theme.primary};\r\n      transform: translateY(0) scale(0.9);\r\n    }\r\n\r\n    ~ div {\r\n      width: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\ntype LabelProps = {\r\n  required?: boolean;\r\n};\r\nconst Label = styled.label<LabelProps>`\r\n  display: block;\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  color: ${(p) => p.theme.black};\r\n\r\n  transform-origin: top left;\r\n  transform: translateY(0) scale(0.9);\r\n  transition: all 200ms cubic-bezier(0, 0, 0.2, 1);\r\n\r\n  ::after {\r\n    content: \"${(p) => p.required && ' *'}\";\r\n  }\r\n`;\r\n\r\ntype BottomBarProps = {};\r\nconst BottomBar = styled.div<BottomBarProps>`\r\n  content: '';\r\n  display: block;\r\n  position: absolute;\r\n  /* To spread out from the center */\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n\r\n  margin: 0 auto;\r\n  /* Same with Input's border */\r\n  border-bottom: 2px solid ${(p) => p.theme.primary};\r\n  transition: all 200ms cubic-bezier(0, 0, 0.2, 1);\r\n  width: 0.1px;\r\n`;\r\n","import { Dispatch, ActionCreatorWithPayload } from '@reduxjs/toolkit';\r\n\r\nexport const asyncDispatchWrapper = async (\r\n  callback: () => void,\r\n  dispatch: Dispatch,\r\n  actionFailure?: ActionCreatorWithPayload<any>\r\n) => {\r\n  try {\r\n    await callback();\r\n  } catch (error) {\r\n    console.log(error);\r\n\r\n    actionFailure &&\r\n      dispatch(\r\n        actionFailure(error?.response?.data?.error ?? 'Something went wrong')\r\n      );\r\n  }\r\n};\r\n","import _ from 'lodash';\r\nimport { firebaseApi } from '../apis/firebase';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { checkIfLoading } from './loadingSlice';\r\nimport { AppThunk, RootState } from '../app/store';\r\nimport { asyncDispatchWrapper } from '../helpers/redux-helpers';\r\nimport {\r\n  keyObjectToObjectWithKey,\r\n  calculateCartOnSuccess,\r\n  getCartItemById,\r\n  itemsToItemsState,\r\n} from '../helpers';\r\nimport {\r\n  CartItem,\r\n  IncreaseItemQuantityPayload,\r\n  DatabaseCart,\r\n  CartState,\r\n  CartItemsState,\r\n  Cart,\r\n  UpdateCartPayload,\r\n} from './sliceTypes';\r\n\r\nconst initialState: CartState = {\r\n  id: null,\r\n  userEmail: '',\r\n  items: {},\r\n  tip: 0,\r\n  shipping: 5,\r\n  error: null,\r\n  isLoading: false,\r\n  subtotal: 0,\r\n  total: 0,\r\n};\r\n\r\nconst cartSlice = createSlice({\r\n  name: 'cart',\r\n  initialState: initialState,\r\n  reducers: {\r\n    /* createCart */\r\n    createCartRequest: () => {\r\n      return { ...initialState, isLoading: true };\r\n    },\r\n    createCartSuccess: (state, { payload }: PayloadAction<string>) => {\r\n      state.id = payload;\r\n      calculateCartOnSuccess(state);\r\n    },\r\n    createCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* fettchCar */\r\n    fetchCartRequest: () => {\r\n      return { ...initialState, isLoading: true };\r\n    },\r\n    fetchCartSuccess: (state, { payload }: PayloadAction<DatabaseCart>) => {\r\n      state.items = payload.items ? itemsToItemsState(payload.items) : {};\r\n      state.id = payload.id;\r\n      calculateCartOnSuccess(state);\r\n    },\r\n    fetchCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = true;\r\n      state.error = payload;\r\n    },\r\n    /* -------------------------------- syncCart -------------------------------- */\r\n    syncCartRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    syncCartSuccess: (\r\n      state,\r\n      {\r\n        payload,\r\n      }: PayloadAction<{\r\n        userEmail: string | null;\r\n        cartItemsState?: CartItemsState;\r\n      }>\r\n    ) => {\r\n      state.userEmail = payload.userEmail || '';\r\n      state.isLoading = false;\r\n      state.error = null;\r\n\r\n      if (payload.cartItemsState) {\r\n        state.items = _.merge({}, payload.cartItemsState, state.items);\r\n\r\n        calculateCartOnSuccess(state);\r\n      }\r\n    },\r\n    syncCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* clearCart */\r\n    clearCartRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    clearCartSuccess: (state) => {\r\n      return { ...initialState, userEmail: state.userEmail };\r\n    },\r\n    clearCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* updateCart */\r\n    updateCartRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    updateCartSuccess: (state, { payload }: PayloadAction<Partial<Cart>>) => {\r\n      state = { ...state, ...payload };\r\n      calculateCartOnSuccess(state);\r\n      return state;\r\n    },\r\n    updateCartFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.error = payload;\r\n      state.isLoading = false;\r\n    },\r\n    /* addItem */\r\n    addItemRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    addItemSucces: (state, { payload }: PayloadAction<CartItem>) => {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.items[payload.id] = { ...payload, isLoading: false, error: null };\r\n      calculateCartOnSuccess(state);\r\n    },\r\n    addItemFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* removeItem */\r\n    removeItemRequest: (state, { payload: itemId }: PayloadAction<string>) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n      const requestingItem = state.items[itemId];\r\n\r\n      if (requestingItem) {\r\n        requestingItem.isLoading = true;\r\n        requestingItem.error = null;\r\n      }\r\n    },\r\n    removeItemSucces: (state, { payload: itemId }: PayloadAction<string>) => {\r\n      const requestingItem = state.items[itemId];\r\n\r\n      if (requestingItem) {\r\n        requestingItem.isLoading = false;\r\n        requestingItem.error = null;\r\n\r\n        state.items = _.omit(state.items, itemId);\r\n        calculateCartOnSuccess(state);\r\n      }\r\n    },\r\n    removeItemFailure: (\r\n      state,\r\n      { payload }: PayloadAction<{ itemId: string; errorMessage: string }>\r\n    ) => {\r\n      const requestingItem = state.items[payload.itemId];\r\n\r\n      if (requestingItem) {\r\n        requestingItem.isLoading = false;\r\n        requestingItem.error = payload.errorMessage;\r\n      }\r\n    },\r\n    /* increaseItemQuantity */\r\n    updateItemQuantityRequest: (\r\n      state,\r\n      { payload: itemId }: PayloadAction<string>\r\n    ) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n      const updatingItem = state.items[itemId];\r\n\r\n      if (updatingItem) {\r\n        updatingItem.isLoading = true;\r\n        updatingItem.error = null;\r\n      }\r\n    },\r\n    updateItemQuantitySuccess: (\r\n      state,\r\n      { payload }: PayloadAction<IncreaseItemQuantityPayload>\r\n    ) => {\r\n      const updatingItem = state.items[payload.itemId];\r\n\r\n      if (updatingItem) {\r\n        updatingItem.isLoading = false;\r\n        updatingItem.error = null;\r\n        updatingItem.quantity = payload.isIncrementAmount\r\n          ? updatingItem.quantity + payload.amount\r\n          : payload.amount;\r\n\r\n        calculateCartOnSuccess(state);\r\n      }\r\n    },\r\n    updateItemQuantityFailure: (\r\n      state,\r\n      { payload }: PayloadAction<{ itemId: string; errorMessage: string }>\r\n    ) => {\r\n      const updatingItem = state.items[payload.itemId];\r\n\r\n      if (updatingItem) {\r\n        updatingItem.isLoading = false;\r\n        updatingItem.error = payload.errorMessage;\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport default cartSlice.reducer;\r\nexport const cartSelector = (state: RootState) => state.cart;\r\nexport const itemIsLoadingSelector = (itemId: string) => (\r\n  state: RootState\r\n): boolean | undefined => state.cart.items[itemId]?.isLoading;\r\nexport const cartItemsSelector = (state: RootState) => state.cart.items;\r\nexport const cartIsLoadingSelector = checkIfLoading('cart');\r\nconst {\r\n  updateItemQuantityRequest,\r\n  updateItemQuantitySuccess,\r\n  updateItemQuantityFailure,\r\n  addItemFailure,\r\n  addItemRequest,\r\n  addItemSucces,\r\n  removeItemFailure,\r\n  removeItemRequest,\r\n  removeItemSucces,\r\n  createCartSuccess,\r\n  createCartRequest,\r\n  createCartFailure,\r\n  fetchCartFailure,\r\n  fetchCartRequest,\r\n  fetchCartSuccess,\r\n  syncCartFailure,\r\n  syncCartRequest,\r\n  syncCartSuccess,\r\n  updateCartFailure,\r\n  updateCartRequest,\r\n  updateCartSuccess,\r\n  clearCartFailure,\r\n  clearCartRequest,\r\n  clearCartSuccess,\r\n} = cartSlice.actions;\r\n\r\nexport const initCart = (): AppThunk => async (dispatch) => {\r\n  const localCartId = localStorage.getItem('cartId');\r\n  const userEmail = localStorage.getItem('userEmail');\r\n\r\n  if (userEmail) {\r\n    asyncDispatchWrapper(getWithEmail, dispatch, fetchCartFailure);\r\n  } else if (localCartId) {\r\n    asyncDispatchWrapper(getWithId, dispatch, fetchCartFailure);\r\n  } else {\r\n    asyncDispatchWrapper(postNewCart, dispatch, createCartFailure);\r\n  }\r\n\r\n  async function getWithId() {\r\n    dispatch(fetchCartRequest());\r\n\r\n    const { data } = await firebaseApi.get<DatabaseCart | null>(\r\n      `/cart/${localCartId}.json`\r\n    );\r\n\r\n    if (data) {\r\n      dispatch(fetchCartSuccess(data));\r\n    } else {\r\n      dispatch(fetchCartFailure('Invalid request'));\r\n      localStorage.removeItem('cartId');\r\n\r\n      asyncDispatchWrapper(postNewCart, dispatch, createCartFailure);\r\n    }\r\n  }\r\n\r\n  async function getWithEmail() {\r\n    dispatch(fetchCartRequest());\r\n\r\n    const { data } = await firebaseApi.get<Record<string, DatabaseCart> | {}>(\r\n      `/cart.json`,\r\n      {\r\n        params: {\r\n          orderBy: '\"userEmail\"',\r\n          equalTo: `\"${userEmail}\"`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!_.isEmpty(data)) {\r\n      dispatch(fetchCartSuccess(keyObjectToObjectWithKey(data)));\r\n    } else {\r\n      dispatch(fetchCartFailure('Invalid request'));\r\n      localStorage.removeItem('email');\r\n\r\n      asyncDispatchWrapper(postNewCart, dispatch, createCartFailure);\r\n    }\r\n  }\r\n\r\n  async function postNewCart() {\r\n    dispatch(createCartRequest());\r\n\r\n    const { data } = await firebaseApi.post<{ name: string }>(\r\n      '/cart.json',\r\n      _.omit(initialState, 'isLoading', 'error', 'subtotal', 'total')\r\n    );\r\n\r\n    const cartId = data.name;\r\n    const patchObject = { id: cartId };\r\n    await firebaseApi.patch<typeof patchObject>(\r\n      `/cart/${cartId}.json`,\r\n      patchObject\r\n    );\r\n\r\n    localStorage.setItem('cartId', cartId);\r\n    dispatch(createCartSuccess(cartId));\r\n  }\r\n};\r\n\r\nexport const syncCart = (): AppThunk => async (dispatch, getState) => {\r\n  asyncDispatchWrapper(getWithId, dispatch, syncCartFailure);\r\n\r\n  async function getWithId() {\r\n    dispatch(syncCartRequest());\r\n\r\n    const stateCartId = getState().cart.id;\r\n    const userEmail = getState().user.email;\r\n\r\n    if (!userEmail || !stateCartId) {\r\n      throw new Error('userEmail or localCartId does not exist');\r\n    } else {\r\n      const { data } = await firebaseApi.get<Record<string, DatabaseCart> | {}>(\r\n        `/cart.json`,\r\n        {\r\n          params: {\r\n            orderBy: '\"userEmail\"',\r\n            equalTo: `\"${userEmail}\"`,\r\n          },\r\n        }\r\n      );\r\n\r\n      await firebaseApi.patch(`/cart/${stateCartId}.json`, { userEmail });\r\n\r\n      if (!_.isEmpty(data)) {\r\n        const databaseCart = _.values(data)[0];\r\n\r\n        await firebaseApi.patch(`/cart/${stateCartId}/items.json`, {\r\n          ...databaseCart.items,\r\n        });\r\n\r\n        const cartItemsState = itemsToItemsState(databaseCart.items);\r\n\r\n        if (stateCartId !== databaseCart.id) {\r\n          await firebaseApi.delete(`/cart/${databaseCart.id}.json`);\r\n        }\r\n        dispatch(syncCartSuccess({ userEmail, cartItemsState }));\r\n      } else {\r\n        dispatch(syncCartSuccess({ userEmail }));\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nexport const increaseItemQuantity = ({\r\n  itemId,\r\n  amount,\r\n  isIncrementAmount,\r\n}: IncreaseItemQuantityPayload): AppThunk => async (dispatch, getState) => {\r\n  const cart = getState().cart;\r\n  if (cart.id) {\r\n    dispatch(updateItemQuantityRequest(itemId));\r\n\r\n    const item = getCartItemById(cart, itemId);\r\n    const newQuantity = isIncrementAmount ? item.quantity + amount : amount;\r\n\r\n    if (item) {\r\n      try {\r\n        await firebaseApi.patch(`/cart/${cart.id}/items/${itemId}.json`, {\r\n          quantity: newQuantity,\r\n        });\r\n\r\n        dispatch(\r\n          updateItemQuantitySuccess({ itemId, amount, isIncrementAmount })\r\n        );\r\n      } catch (error) {\r\n        dispatch(\r\n          updateItemQuantityFailure({\r\n            itemId,\r\n            errorMessage:\r\n              error?.response?.data?.error ?? 'Something went wrong',\r\n          })\r\n        );\r\n      }\r\n    } else throw new Error('Item not found!');\r\n  } else throw new Error('Cart ID not found!');\r\n};\r\n\r\nexport const addItemToCart = (item: Omit<CartItem, 'id'>): AppThunk => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const cartId = getState().cart.id;\r\n  if (cartId) {\r\n    dispatch(addItemRequest());\r\n    asyncDispatchWrapper(postNewItemToCart, dispatch, addItemFailure);\r\n  } else throw new Error('Cart ID not found!');\r\n\r\n  async function postNewItemToCart() {\r\n    const { data } = await firebaseApi.post<{ name: string }>(\r\n      `/cart/${cartId}/items.json`,\r\n      item\r\n    );\r\n\r\n    const cartItemId = data.name;\r\n    await firebaseApi.patch(`/cart/${cartId}/items/${cartItemId}.json`, {\r\n      id: cartItemId,\r\n    });\r\n    dispatch(addItemSucces({ ...item, id: cartItemId }));\r\n  }\r\n};\r\n\r\nexport const removeItemFromCart = (itemId: string): AppThunk => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  const cartId = getState().cart.id;\r\n  if (cartId) {\r\n    dispatch(removeItemRequest(itemId));\r\n\r\n    try {\r\n      await firebaseApi.delete(`/cart/${cartId}/items/${itemId}.json`);\r\n      dispatch(removeItemSucces(itemId));\r\n    } catch (error) {\r\n      dispatch(\r\n        removeItemFailure({\r\n          itemId,\r\n          errorMessage: error?.response?.data?.error ?? 'Something went wrong',\r\n        })\r\n      );\r\n    }\r\n  } else throw new Error('Cart ID not found!');\r\n};\r\n\r\nexport const updateCart = (payload: UpdateCartPayload): AppThunk => async (\r\n  dispatch\r\n) => {\r\n  asyncDispatchWrapper(patchCart, dispatch, updateCartFailure);\r\n\r\n  async function patchCart() {\r\n    dispatch(updateCartRequest());\r\n\r\n    await firebaseApi.patch<UpdateCartPayload>(`/cart/${payload.id}.json`, {\r\n      ...payload,\r\n    });\r\n    dispatch(updateCartSuccess(payload));\r\n  }\r\n};\r\n\r\nexport const clearCart = ({ cartId }: { cartId: string }): AppThunk => async (\r\n  dispatch\r\n) => {\r\n  asyncDispatchWrapper(deleteCart, dispatch, clearCartFailure);\r\n\r\n  async function deleteCart() {\r\n    dispatch(clearCartRequest());\r\n\r\n    await firebaseApi.delete(`/cart/${cartId}.json`);\r\n    dispatch(clearCartSuccess());\r\n  }\r\n};\r\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { OrderState, Order, DatabaseOrder } from './sliceTypes';\r\nimport { AppThunk, RootState } from '../app/store';\r\nimport { firebaseApi } from '../apis/firebase';\r\nimport _ from 'lodash';\r\nimport {\r\n  asyncDispatchWrapper,\r\n  recursiveKeyObjectToObjectWithKey,\r\n} from '../helpers';\r\nimport { clearCart } from './cartSlice';\r\nimport { CheckoutFormValues } from '../pages/cart/components/Checkout';\r\n\r\nconst initialState: OrderState = {\r\n  error: null,\r\n  isLoading: false,\r\n  orders: null,\r\n  displayedOrder: null,\r\n};\r\nconst orderSlice = createSlice({\r\n  name: 'order',\r\n  initialState,\r\n  reducers: {\r\n    /* fetchOrders */\r\n    fetchOrdersRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    fetchOrdersSuccess: (\r\n      state,\r\n      { payload }: PayloadAction<Record<string, DatabaseOrder>>\r\n    ) => {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.orders = recursiveKeyObjectToObjectWithKey(payload);\r\n    },\r\n    fetchOrdersFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n    /* fetchOrder */\r\n    fetchOrderRequest: (state) => {\r\n      state.isLoading = true;\r\n      state.error = null;\r\n    },\r\n    fetchOrderSuccess: (state, { payload }: PayloadAction<Order>) => {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n      state.displayedOrder = payload;\r\n    },\r\n    fetchOrderFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.error = payload;\r\n      state.isLoading = false;\r\n    },\r\n    generateOrderRequest: (state) => {\r\n      state.isLoading = false;\r\n      state.error = null;\r\n    },\r\n    generateOrderSuccess: (state) => {\r\n      state.isLoading = false;\r\n    },\r\n    generateOrderFailure: (state, { payload }: PayloadAction<string>) => {\r\n      state.isLoading = false;\r\n      state.error = payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport default orderSlice.reducer;\r\nexport const ordersSelector = (state: RootState) => state.orders;\r\nexport const displayedOrderSelector = (state: RootState) =>\r\n  state.orders.displayedOrder;\r\n\r\nconst {\r\n  generateOrderFailure,\r\n  generateOrderRequest,\r\n  generateOrderSuccess,\r\n  fetchOrdersFailure,\r\n  fetchOrdersRequest,\r\n  fetchOrdersSuccess,\r\n  fetchOrderFailure,\r\n  fetchOrderRequest,\r\n  fetchOrderSuccess,\r\n} = orderSlice.actions;\r\n\r\nexport const generateOrder = (payload: CheckoutFormValues): AppThunk => async (\r\n  dispatch,\r\n  getState\r\n) => {\r\n  asyncDispatchWrapper(postNewOrder, dispatch, generateOrderFailure);\r\n\r\n  async function postNewOrder() {\r\n    dispatch(generateOrderRequest());\r\n    const cart = getState().cart;\r\n    const newOrder: Omit<Order, 'id'> = {\r\n      ..._.omit(cart, 'isLoading', 'error', 'id'),\r\n      ...payload,\r\n      createdDate: new Date().toDateString(),\r\n    };\r\n\r\n    await firebaseApi.post('/orders.json', newOrder);\r\n\r\n    dispatch(generateOrderSuccess());\r\n    if (cart.id) {\r\n      dispatch(clearCart({ cartId: cart.id }));\r\n    } else {\r\n      throw new Error('Cart Id not found!');\r\n    }\r\n  }\r\n};\r\n\r\nexport const fetchOrders = ({\r\n  userEmail,\r\n}: {\r\n  userEmail: string;\r\n}): AppThunk => async (dispatch) => {\r\n  asyncDispatchWrapper(getOrders, dispatch, fetchOrdersFailure);\r\n\r\n  async function getOrders() {\r\n    dispatch(fetchOrdersRequest());\r\n    const { data } = await firebaseApi.get<Record<string, DatabaseOrder> | {}>(\r\n      '/orders.json',\r\n      {\r\n        params: {\r\n          orderBy: '\"userEmail\"',\r\n          equalTo: `\"${userEmail}\"`,\r\n        },\r\n      }\r\n    );\r\n\r\n    if (!_.isEmpty(data)) {\r\n      dispatch(fetchOrdersSuccess(data));\r\n    } else {\r\n      dispatch(fetchOrdersFailure('Invalid request'));\r\n    }\r\n  }\r\n};\r\n\r\nexport const fetchOrder = ({\r\n  orderId,\r\n}: {\r\n  orderId: string;\r\n}): AppThunk => async (dispatch) => {\r\n  asyncDispatchWrapper(getOrder, dispatch, fetchOrderFailure);\r\n\r\n  async function getOrder() {\r\n    dispatch(fetchOrderRequest());\r\n    const { data } = await firebaseApi.get<Order | null>(\r\n      `/orders/${orderId}.json`\r\n    );\r\n    if (data) {\r\n      dispatch(fetchOrderSuccess(data));\r\n    } else {\r\n      dispatch(fetchOrderFailure('Invalid request'));\r\n    }\r\n  }\r\n};\r\n","import styled, { css } from 'styled-components/macro';\r\n\r\ninterface BaseButtonProps {\r\n  contained?: boolean;\r\n  outlined?: boolean;\r\n  text?: boolean;\r\n  color?: string;\r\n  fontSize?: string;\r\n  shadowed?: boolean;\r\n}\r\n\r\nexport const BaseButton = styled.button<BaseButtonProps>`\r\n  font-size: ${(p) => p.fontSize ?? 'inherit'};\r\n  padding: 0.75rem 1.5rem;\r\n  border: 1px solid transparent;\r\n  border-radius: 10rem;\r\n  cursor: pointer;\r\n  box-shadow: ${(p) => p.shadowed && p.theme.shadow.button};\r\n  transition: all ${(p) => p.theme.transitionSpeed.quick} ease-in;\r\n\r\n  /* :active,\r\n  :hover {\r\n    filter: brightness(0.9);\r\n  } */\r\n\r\n  &:hover {\r\n    transform: translateY(-.2rem);\r\n    box-shadow: 0 1rem 2rem rgba(0,0,0, .15);\r\n  }\r\n\r\n  &:active {\r\n    transform: translateY(0);\r\n    box-shadow: 0 .5rem 1rem rgba(0,0,0, .15);\r\n  }\r\n\r\n  ${(p) =>\r\n    p.contained &&\r\n    css`\r\n      background-color: ${p.color ?? p.theme.primary};\r\n      color: ${p.theme.text};\r\n\r\n      &:hover,\r\n      &:active {\r\n        filter: brightness(0.9);\r\n      }\r\n    `}\r\n\r\n  ${(p) =>\r\n    p.outlined &&\r\n    css`\r\n      background: transparent;\r\n      border-color: ${p.color ?? p.theme.primary};\r\n      color: ${p.color ?? p.theme.primary};\r\n\r\n      &:hover,\r\n      &:active {\r\n        background-color: ${p.color ?? p.theme.primary};\r\n        color: ${p.theme.text};\r\n      }\r\n    `}\r\n\r\n    ${(p) =>\r\n      p.text &&\r\n      css`\r\n        border-bottom: 1px solid ${p.color ?? p.theme.primary};\r\n        border-radius: 0;\r\n        background: transparent;\r\n        padding: 0.25rem 0.5rem;\r\n        color: ${p.color ?? p.theme.primary};\r\n\r\n        &:hover,\r\n        &:active {\r\n          filter: none;\r\n          background: ${p.color ?? p.theme.primary};\r\n          color: ${p.theme.text};\r\n        }\r\n      `}\r\n\r\n      /* IMPORTANT!! Put at the end of css */\r\n      ${(p) =>\r\n        p.disabled &&\r\n        css`\r\n          cursor: not-allowed;\r\n          &,\r\n          &:hover,\r\n          &:active,\r\n          &:link {\r\n            opacity: 0.5;\r\n            color: ${(p) => p.theme.black};\r\n            background: unset;\r\n            border-color: unset;\r\n            box-shadow: unset;\r\n            transform: unset;\r\n          }\r\n        `}\r\n`;\r\n","import styled from 'styled-components/macro';\r\n\r\ninterface BaseFormStyledProps {}\r\n\r\n/**\r\n * @description render a styled <form>\r\n */\r\nexport const BaseForm = styled.form<BaseFormStyledProps>``;\r\n"],"sourceRoot":""}